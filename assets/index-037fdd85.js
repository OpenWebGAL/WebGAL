var MB=Object.defineProperty;var FB=(t,e,r)=>e in t?MB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ae=(t,e,r)=>(FB(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var KO={exports:{}},Pf={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var UE=Object.getOwnPropertySymbols,LB=Object.prototype.hasOwnProperty,DB=Object.prototype.propertyIsEnumerable;function BB(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function jB(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var v1=jB()?Object.assign:function(t,e){for(var r,n=BB(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)LB.call(r,o)&&(n[o]=r[o]);if(UE){i=UE(r);for(var s=0;s<i.length;s++)DB.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const UB=gn(v1);var ZO={exports:{}},et={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1=v1,Kl=60103,QO=60106;et.Fragment=60107;et.StrictMode=60108;et.Profiler=60114;var JO=60109,eR=60110,tR=60112;et.Suspense=60113;var rR=60115,nR=60116;if(typeof Symbol=="function"&&Symbol.for){var si=Symbol.for;Kl=si("react.element"),QO=si("react.portal"),et.Fragment=si("react.fragment"),et.StrictMode=si("react.strict_mode"),et.Profiler=si("react.profiler"),JO=si("react.provider"),eR=si("react.context"),tR=si("react.forward_ref"),et.Suspense=si("react.suspense"),rR=si("react.memo"),nR=si("react.lazy")}var $E=typeof Symbol=="function"&&Symbol.iterator;function $B(t){return t===null||typeof t!="object"?null:(t=$E&&t[$E]||t["@@iterator"],typeof t=="function"?t:null)}function Of(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aR={};function Zl(t,e,r){this.props=t,this.context=e,this.refs=aR,this.updater=r||iR}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Of(85));this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oR(){}oR.prototype=Zl.prototype;function g1(t,e,r){this.props=t,this.context=e,this.refs=aR,this.updater=r||iR}var y1=g1.prototype=new oR;y1.constructor=g1;m1(y1,Zl.prototype);y1.isPureReactComponent=!0;var _1={current:null},sR=Object.prototype.hasOwnProperty,lR={key:!0,ref:!0,__self:!0,__source:!0};function uR(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)sR.call(e,n)&&!lR.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Kl,type:t,key:a,ref:o,props:i,_owner:_1.current}}function VB(t,e){return{$$typeof:Kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kl}function GB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var VE=/\/+/g;function Cm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GB(""+t.key):e.toString(36)}function Zh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kl:case QO:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Cm(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(VE,"$&/")+"/"),Zh(i,e,r,"",function(l){return l})):i!=null&&(x1(i)&&(i=VB(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(VE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var u=n+Cm(a,s);o+=Zh(a,e,r,u,i)}else if(u=$B(t),typeof u=="function")for(t=u.call(t),s=0;!(a=t.next()).done;)a=a.value,u=n+Cm(a,s++),o+=Zh(a,e,r,u,i);else if(a==="object")throw e=""+t,Error(Of(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function th(t,e,r){if(t==null)return t;var n=[],i=0;return Zh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function XB(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var cR={current:null};function La(){var t=cR.current;if(t===null)throw Error(Of(321));return t}var zB={ReactCurrentDispatcher:cR,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_1,IsSomeRendererActing:{current:!1},assign:m1};et.Children={map:th,forEach:function(t,e,r){th(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return th(t,function(){e++}),e},toArray:function(t){return th(t,function(e){return e})||[]},only:function(t){if(!x1(t))throw Error(Of(143));return t}};et.Component=Zl;et.PureComponent=g1;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zB;et.cloneElement=function(t,e,r){if(t==null)throw Error(Of(267,t));var n=m1({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=_1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)sR.call(e,u)&&!lR.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Kl,type:t.type,key:i,ref:a,props:n,_owner:o}};et.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:eR,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:JO,_context:t},t.Consumer=t};et.createElement=uR;et.createFactory=function(t){var e=uR.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:tR,render:t}};et.isValidElement=x1;et.lazy=function(t){return{$$typeof:nR,_payload:{_status:-1,_result:t},_init:XB}};et.memo=function(t,e){return{$$typeof:rR,type:t,compare:e===void 0?null:e}};et.useCallback=function(t,e){return La().useCallback(t,e)};et.useContext=function(t,e){return La().useContext(t,e)};et.useDebugValue=function(){};et.useEffect=function(t,e){return La().useEffect(t,e)};et.useImperativeHandle=function(t,e,r){return La().useImperativeHandle(t,e,r)};et.useLayoutEffect=function(t,e){return La().useLayoutEffect(t,e)};et.useMemo=function(t,e){return La().useMemo(t,e)};et.useReducer=function(t,e,r){return La().useReducer(t,e,r)};et.useRef=function(t){return La().useRef(t)};et.useState=function(t){return La().useState(t)};et.version="17.0.2";ZO.exports=et;var ne=ZO.exports;const fe=gn(ne);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WB=ne,fR=60103;Pf.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var GE=Symbol.for;fR=GE("react.element"),Pf.Fragment=GE("react.fragment")}var YB=WB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HB=Object.prototype.hasOwnProperty,qB={key:!0,ref:!0,__self:!0,__source:!0};function hR(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)HB.call(e,n)&&!qB.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:fR,type:t,key:a,ref:o,props:i,_owner:YB.current}}Pf.jsx=hR;Pf.jsxs=hR;KO.exports=Pf;var C=KO.exports,dR={exports:{}},ii={},pR={exports:{}},vR={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,l=null,c=function(){if(u!==null)try{var F=t.unstable_now();u(!0,F),u=null}catch(G){throw setTimeout(c,0),G}};e=function(F){u!==null?setTimeout(e,0,F):(u=F,setTimeout(c,0))},r=function(F,G){l=setTimeout(F,G)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var d=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof d!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,g=-1,m=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},i=function(){},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<F?Math.floor(1e3/F):5};var _=new MessageChannel,x=_.port2;_.port1.onmessage=function(){if(v!==null){var F=t.unstable_now();y=F+m;try{v(!0,F)?x.postMessage(null):(p=!1,v=null)}catch(G){throw x.postMessage(null),G}}else p=!1},e=function(F){v=F,p||(p=!0,x.postMessage(null))},r=function(F,G){g=f(function(){F(t.unstable_now())},G)},n=function(){h(g),g=-1}}function b(F,G){var V=F.length;F.push(G);e:for(;;){var U=V-1>>>1,H=F[U];if(H!==void 0&&0<E(H,G))F[U]=G,F[V]=H,V=U;else break e}}function S(F){return F=F[0],F===void 0?null:F}function w(F){var G=F[0];if(G!==void 0){var V=F.pop();if(V!==G){F[0]=V;e:for(var U=0,H=F.length;U<H;){var ee=2*(U+1)-1,ie=F[ee],ae=ee+1,pe=F[ae];if(ie!==void 0&&0>E(ie,V))pe!==void 0&&0>E(pe,ie)?(F[U]=pe,F[ae]=V,U=ae):(F[U]=ie,F[ee]=V,U=ee);else if(pe!==void 0&&0>E(pe,V))F[U]=pe,F[ae]=V,U=ae;else break e}}return G}return null}function E(F,G){var V=F.sortIndex-G.sortIndex;return V!==0?V:F.id-G.id}var T=[],A=[],O=1,P=null,k=3,M=!1,B=!1,j=!1;function z(F){for(var G=S(A);G!==null;){if(G.callback===null)w(A);else if(G.startTime<=F)w(A),G.sortIndex=G.expirationTime,b(T,G);else break;G=S(A)}}function J(F){if(j=!1,z(F),!B)if(S(T)!==null)B=!0,e(Z);else{var G=S(A);G!==null&&r(J,G.startTime-F)}}function Z(F,G){B=!1,j&&(j=!1,n()),M=!0;var V=k;try{for(z(G),P=S(T);P!==null&&(!(P.expirationTime>G)||F&&!t.unstable_shouldYield());){var U=P.callback;if(typeof U=="function"){P.callback=null,k=P.priorityLevel;var H=U(P.expirationTime<=G);G=t.unstable_now(),typeof H=="function"?P.callback=H:P===S(T)&&w(T),z(G)}else w(T);P=S(T)}if(P!==null)var ee=!0;else{var ie=S(A);ie!==null&&r(J,ie.startTime-G),ee=!1}return ee}finally{P=null,k=V,M=!1}}var $=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){B||M||(B=!0,e(Z))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(F){switch(k){case 1:case 2:case 3:var G=3;break;default:G=k}var V=k;k=G;try{return F()}finally{k=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=$,t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=k;k=F;try{return G()}finally{k=V}},t.unstable_scheduleCallback=function(F,G,V){var U=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,F){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,F={id:O++,callback:G,priorityLevel:F,startTime:V,expirationTime:H,sortIndex:-1},V>U?(F.sortIndex=V,b(A,F),S(T)===null&&F===S(A)&&(j?n():j=!0,r(J,V-U))):(F.sortIndex=H,b(T,F),B||M||(B=!0,e(Z))),F},t.unstable_wrapCallback=function(F){var G=k;return function(){var V=k;k=G;try{return F.apply(this,arguments)}finally{k=V}}}})(vR);pR.exports=vR;var KB=pR.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp=ne,Ft=v1,kr=KB;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Bp)throw Error(he(227));var mR=new Set,Oc={};function ws(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(Oc[t]=e,t=0;t<e.length;t++)mR.add(e[t])}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XE=Object.prototype.hasOwnProperty,zE={},WE={};function QB(t){return XE.call(WE,t)?!0:XE.call(zE,t)?!1:ZB.test(t)?WE[t]=!0:(zE[t]=!0,!1)}function JB(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function e4(t,e,r,n){if(e===null||typeof e>"u"||JB(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var b1=/[\-:]([a-z])/g;function S1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b1,S1);zr[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b1,S1);zr[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b1,S1);zr[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function w1(t,e,r,n){var i=zr.hasOwnProperty(e)?zr[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(e4(e,r,i,n)&&(r=null),n||i===null?QB(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Es=Bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=60103,qo=60106,Ha=60107,E1=60108,uc=60114,T1=60109,A1=60110,jp=60112,cc=60113,Cd=60120,Up=60115,C1=60116,P1=60121,O1=60128,gR=60129,R1=60130,Qy=60131;if(typeof Symbol=="function"&&Symbol.for){var Sr=Symbol.for;Ju=Sr("react.element"),qo=Sr("react.portal"),Ha=Sr("react.fragment"),E1=Sr("react.strict_mode"),uc=Sr("react.profiler"),T1=Sr("react.provider"),A1=Sr("react.context"),jp=Sr("react.forward_ref"),cc=Sr("react.suspense"),Cd=Sr("react.suspense_list"),Up=Sr("react.memo"),C1=Sr("react.lazy"),P1=Sr("react.block"),Sr("react.scope"),O1=Sr("react.opaque.id"),gR=Sr("react.debug_trace_mode"),R1=Sr("react.offscreen"),Qy=Sr("react.legacy_hidden")}var YE=typeof Symbol=="function"&&Symbol.iterator;function Au(t){return t===null||typeof t!="object"?null:(t=YE&&t[YE]||t["@@iterator"],typeof t=="function"?t:null)}var Pm;function ec(t){if(Pm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Pm=e&&e[1]||""}return`
`+Pm+t}var Om=!1;function rh(t,e){if(!t||Om)return"";Om=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{Om=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ec(t):""}function t4(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=rh(t.type,!1),t;case 11:return t=rh(t.type.render,!1),t;case 22:return t=rh(t.type._render,!1),t;case 1:return t=rh(t.type,!0),t;default:return""}}function hl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ha:return"Fragment";case qo:return"Portal";case uc:return"Profiler";case E1:return"StrictMode";case cc:return"Suspense";case Cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A1:return(t.displayName||"Context")+".Consumer";case T1:return(t._context.displayName||"Context")+".Provider";case jp:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Up:return hl(t.type);case P1:return hl(t._render);case C1:e=t._payload,t=t._init;try{return hl(t(e))}catch{}}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function yR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function r4(t){var e=yR(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nh(t){t._valueTracker||(t._valueTracker=r4(t))}function _R(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=yR(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jy(t,e){var r=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function HE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xR(t,e){e=e.checked,e!=null&&w1(t,"checked",e,!1)}function e0(t,e){xR(t,e);var r=yo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?t0(t,e.type,r):e.hasOwnProperty("defaultValue")&&t0(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function t0(t,e,r){(e!=="number"||Pd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function n4(t){var e="";return Bp.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function r0(t,e){return t=Ft({children:void 0},e),(e=n4(e.children))&&(t.children=e),t}function dl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function n0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(he(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(he(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yo(r)}}function bR(t,e){var r=yo(e.value),n=yo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ZE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var i0={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function SR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ih,wR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==i0.svg||"innerHTML"in t)t.innerHTML=e;else{for(ih=ih||document.createElement("div"),ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i4=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(t){i4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fc[e]=fc[t]})});function ER(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fc.hasOwnProperty(t)&&fc[t]?(""+e).trim():e+"px"}function TR(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ER(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var a4=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o0(t,e){if(e){if(a4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function s0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function I1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var l0=null,pl=null,vl=null;function QE(t){if(t=If(t)){if(typeof l0!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Wp(e),l0(t.stateNode,t.type,e))}}function AR(t){pl?vl?vl.push(t):vl=[t]:pl=t}function CR(){if(pl){var t=pl,e=vl;if(vl=pl=null,QE(t),e)for(t=0;t<e.length;t++)QE(e[t])}}function k1(t,e){return t(e)}function PR(t,e,r,n,i){return t(e,r,n,i)}function M1(){}var OR=k1,Ko=!1,Rm=!1;function F1(){(pl!==null||vl!==null)&&(M1(),CR())}function o4(t,e,r){if(Rm)return t(e,r);Rm=!0;try{return OR(t,e,r)}finally{Rm=!1,F1()}}function Ic(t,e){var r=t.stateNode;if(r===null)return null;var n=Wp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(he(231,e,typeof r));return r}var u0=!1;if(Fa)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){u0=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{u0=!1}function s4(t,e,r,n,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var hc=!1,Od=null,Rd=!1,c0=null,l4={onError:function(t){hc=!0,Od=t}};function u4(t,e,r,n,i,a,o,s,u){hc=!1,Od=null,s4.apply(l4,arguments)}function c4(t,e,r,n,i,a,o,s,u){if(u4.apply(this,arguments),hc){if(hc){var l=Od;hc=!1,Od=null}else throw Error(he(198));Rd||(Rd=!0,c0=l)}}function Ts(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function RR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JE(t){if(Ts(t)!==t)throw Error(he(188))}function f4(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(he(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return JE(i),t;if(a===n)return JE(i),e;a=a.sibling}throw Error(he(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?t:e}function IR(t){if(t=f4(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function eT(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var kR,N1,MR,FR,f0=!1,Xi=[],io=null,ao=null,oo=null,kc=new Map,Mc=new Map,Pu=[],tT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h0(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function rT(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(e.pointerId)}}function Ou(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=h0(e,r,n,i,a),e!==null&&(e=If(e),e!==null&&N1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function h4(t,e,r,n,i){switch(e){case"focusin":return io=Ou(io,t,e,r,n,i),!0;case"dragenter":return ao=Ou(ao,t,e,r,n,i),!0;case"mouseover":return oo=Ou(oo,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return kc.set(a,Ou(kc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Mc.set(a,Ou(Mc.get(a)||null,t,e,r,n,i)),!0}return!1}function d4(t){var e=Zo(t.target);if(e!==null){var r=Ts(e);if(r!==null){if(e=r.tag,e===13){if(e=RR(r),e!==null){t.blockedOn=e,FR(t.lanePriority,function(){kr.unstable_runWithPriority(t.priority,function(){MR(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=j1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=If(r),e!==null&&N1(e),t.blockedOn=r,!1;e.shift()}return!0}function nT(t,e,r){Qh(t)&&r.delete(e)}function p4(){for(f0=!1;0<Xi.length;){var t=Xi[0];if(t.blockedOn!==null){t=If(t.blockedOn),t!==null&&kR(t);break}for(var e=t.targetContainers;0<e.length;){var r=j1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&Xi.shift()}io!==null&&Qh(io)&&(io=null),ao!==null&&Qh(ao)&&(ao=null),oo!==null&&Qh(oo)&&(oo=null),kc.forEach(nT),Mc.forEach(nT)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,f0||(f0=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,p4)))}function NR(t){function e(i){return Ru(i,t)}if(0<Xi.length){Ru(Xi[0],t);for(var r=1;r<Xi.length;r++){var n=Xi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(io!==null&&Ru(io,t),ao!==null&&Ru(ao,t),oo!==null&&Ru(oo,t),kc.forEach(e),Mc.forEach(e),r=0;r<Pu.length;r++)n=Pu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pu.length&&(r=Pu[0],r.blockedOn===null);)d4(r),r.blockedOn===null&&Pu.shift()}function ah(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var tl={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},Im={},LR={};Fa&&(LR=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function $p(t){if(Im[t])return Im[t];if(!tl[t])return t;var e=tl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in LR)return Im[t]=e[r];return t}var DR=$p("animationend"),BR=$p("animationiteration"),jR=$p("animationstart"),UR=$p("transitionend"),$R=new Map,L1=new Map,v4=["abort","abort",DR,"animationEnd",BR,"animationIteration",jR,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",UR,"transitionEnd","waiting","waiting"];function D1(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),L1.set(n,e),$R.set(n,i),ws(i,[n])}}var m4=kr.unstable_now;m4();var St=8;function Zs(t){if(1&t)return St=15,1;if(2&t)return St=14,2;if(4&t)return St=13,4;var e=24&t;return e!==0?(St=12,e):t&32?(St=11,32):(e=192&t,e!==0?(St=10,e):t&256?(St=9,256):(e=3584&t,e!==0?(St=8,e):t&4096?(St=7,4096):(e=4186112&t,e!==0?(St=6,e):(e=62914560&t,e!==0?(St=5,e):t&67108864?(St=4,67108864):t&134217728?(St=3,134217728):(e=805306368&t,e!==0?(St=2,e):1073741824&t?(St=1,1073741824):(St=8,t))))))}function g4(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function y4(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(he(358,t))}}function Fc(t,e){var r=t.pendingLanes;if(r===0)return St=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=St=15;else if(a=r&134217727,a!==0){var u=a&~o;u!==0?(n=Zs(u),i=St):(s&=a,s!==0&&(n=Zs(s),i=St))}else a=r&~o,a!==0?(n=Zs(a),i=St):s!==0&&(n=Zs(s),i=St);if(n===0)return 0;if(n=31-_o(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(Zs(e),i<=St)return e;St=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_o(e),i=1<<r,n|=t[r],e&=~i;return n}function VR(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Id(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Qs(24&~e),t===0?Id(10,e):t;case 10:return t=Qs(192&~e),t===0?Id(8,e):t;case 8:return t=Qs(3584&~e),t===0&&(t=Qs(4186112&~e),t===0&&(t=512)),t;case 2:return e=Qs(805306368&~e),e===0&&(e=268435456),e}throw Error(he(358,t))}function Qs(t){return t&-t}function km(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vp(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-_o(e),t[e]=r}var _o=Math.clz32?Math.clz32:b4,_4=Math.log,x4=Math.LN2;function b4(t){return t===0?32:31-(_4(t)/x4|0)|0}var S4=kr.unstable_UserBlockingPriority,w4=kr.unstable_runWithPriority,Jh=!0;function E4(t,e,r,n){Ko||M1();var i=B1,a=Ko;Ko=!0;try{PR(i,t,e,r,n)}finally{(Ko=a)||F1()}}function T4(t,e,r,n){w4(S4,B1.bind(null,t,e,r,n))}function B1(t,e,r,n){if(Jh){var i;if((i=(e&4)===0)&&0<Xi.length&&-1<tT.indexOf(t))t=h0(null,t,e,r,n),Xi.push(t);else{var a=j1(t,e,r,n);if(a===null)i&&rT(t,n);else{if(i){if(-1<tT.indexOf(t)){t=h0(a,t,e,r,n),Xi.push(t);return}if(h4(a,t,e,r,n))return;rT(t,n)}tI(t,e,n,null,r)}}}}function j1(t,e,r,n){var i=I1(n);if(i=Zo(i),i!==null){var a=Ts(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=RR(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return tI(t,e,n,i,r),null}var Za=null,U1=null,ed=null;function GR(){if(ed)return ed;var t,e=U1,r=e.length,n,i="value"in Za?Za.value:Za.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return ed=i.slice(t,1<n?1-n:void 0)}function td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oh(){return!0}function iT(){return!1}function Un(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?oh:iT,this.isPropagationStopped=iT,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$1=Un(Ql),Rf=Ft({},Ql,{view:0,detail:0}),A4=Un(Rf),Mm,Fm,Iu,Gp=Ft({},Rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Iu&&(Iu&&t.type==="mousemove"?(Mm=t.screenX-Iu.screenX,Fm=t.screenY-Iu.screenY):Fm=Mm=0,Iu=t),Mm)},movementY:function(t){return"movementY"in t?t.movementY:Fm}}),aT=Un(Gp),C4=Ft({},Gp,{dataTransfer:0}),P4=Un(C4),O4=Ft({},Rf,{relatedTarget:0}),Nm=Un(O4),R4=Ft({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),I4=Un(R4),k4=Ft({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M4=Un(k4),F4=Ft({},Ql,{data:0}),oT=Un(F4),N4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D4[t])?!!e[t]:!1}function V1(){return B4}var j4=Ft({},Rf,{key:function(t){if(t.key){var e=N4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V1,charCode:function(t){return t.type==="keypress"?td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U4=Un(j4),$4=Ft({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sT=Un($4),V4=Ft({},Rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V1}),G4=Un(V4),X4=Ft({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),z4=Un(X4),W4=Ft({},Gp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y4=Un(W4),H4=[9,13,27,32],G1=Fa&&"CompositionEvent"in window,dc=null;Fa&&"documentMode"in document&&(dc=document.documentMode);var q4=Fa&&"TextEvent"in window&&!dc,XR=Fa&&(!G1||dc&&8<dc&&11>=dc),lT=String.fromCharCode(32),uT=!1;function zR(t,e){switch(t){case"keyup":return H4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function K4(t,e){switch(t){case"compositionend":return WR(e);case"keypress":return e.which!==32?null:(uT=!0,lT);case"textInput":return t=e.data,t===lT&&uT?null:t;default:return null}}function Z4(t,e){if(rl)return t==="compositionend"||!G1&&zR(t,e)?(t=GR(),ed=U1=Za=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XR&&e.locale!=="ko"?null:e.data;default:return null}}var Q4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Q4[t.type]:e==="textarea"}function YR(t,e,r,n){AR(n),e=kd(e,"onChange"),0<e.length&&(r=new $1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pc=null,Nc=null;function J4(t){QR(t,0)}function Xp(t){var e=il(t);if(_R(e))return t}function ej(t,e){if(t==="change")return e}var HR=!1;if(Fa){var Lm;if(Fa){var Dm="oninput"in document;if(!Dm){var fT=document.createElement("div");fT.setAttribute("oninput","return;"),Dm=typeof fT.oninput=="function"}Lm=Dm}else Lm=!1;HR=Lm&&(!document.documentMode||9<document.documentMode)}function hT(){pc&&(pc.detachEvent("onpropertychange",qR),Nc=pc=null)}function qR(t){if(t.propertyName==="value"&&Xp(Nc)){var e=[];if(YR(e,Nc,t,I1(t)),t=J4,Ko)t(e);else{Ko=!0;try{k1(t,e)}finally{Ko=!1,F1()}}}}function tj(t,e,r){t==="focusin"?(hT(),pc=e,Nc=r,pc.attachEvent("onpropertychange",qR)):t==="focusout"&&hT()}function rj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xp(Nc)}function nj(t,e){if(t==="click")return Xp(e)}function ij(t,e){if(t==="input"||t==="change")return Xp(e)}function aj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:aj,oj=Object.prototype.hasOwnProperty;function Lc(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!oj.call(e,r[n])||!Kn(t[r[n]],e[r[n]]))return!1;return!0}function dT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pT(t,e){var r=dT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dT(r)}}function KR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vT(){for(var t=window,e=Pd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Pd(t.document)}return e}function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var sj=Fa&&"documentMode"in document&&11>=document.documentMode,nl=null,p0=null,vc=null,v0=!1;function mT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;v0||nl==null||nl!==Pd(n)||(n=nl,"selectionStart"in n&&d0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vc&&Lc(vc,n)||(vc=n,n=kd(p0,"onSelect"),0<n.length&&(e=new $1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nl)))}D1("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);D1("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);D1(v4,2);for(var gT="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Bm=0;Bm<gT.length;Bm++)L1.set(gT[Bm],0);Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function yT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,c4(n,e,void 0,t),t.currentTarget=null}function QR(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;yT(i,s,l),a=u}else for(o=0;o<n.length;o++){if(s=n[o],u=s.instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;yT(i,s,l),a=u}}}if(Rd)throw t=c0,Rd=!1,c0=null,t}function Tt(t,e){var r=nI(e),n=t+"__bubble";r.has(n)||(eI(e,t,2,!1),r.add(n))}var _T="_reactListening"+Math.random().toString(36).slice(2);function JR(t){t[_T]||(t[_T]=!0,mR.forEach(function(e){ZR.has(e)||xT(e,!1,t,null),xT(e,!0,t,null)}))}function xT(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&ZR.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=nI(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),eI(a,t,i,e),o.add(s))}function eI(t,e,r,n){var i=L1.get(e);switch(i===void 0?2:i){case 0:i=E4;break;case 1:i=T4;break;default:i=B1}r=i.bind(null,e,r,t),i=void 0,!u0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function tI(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Zo(s),o===null)return;if(u=o.tag,u===5||u===6){n=a=o;continue e}s=s.parentNode}}n=n.return}o4(function(){var l=a,c=I1(r),f=[];e:{var h=$R.get(t);if(h!==void 0){var d=$1,p=t;switch(t){case"keypress":if(td(r)===0)break e;case"keydown":case"keyup":d=U4;break;case"focusin":p="focus",d=Nm;break;case"focusout":p="blur",d=Nm;break;case"beforeblur":case"afterblur":d=Nm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=aT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=P4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=G4;break;case DR:case BR:case jR:d=I4;break;case UR:d=z4;break;case"scroll":d=A4;break;case"wheel":d=Y4;break;case"copy":case"cut":case"paste":d=M4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=sT}var v=(e&4)!==0,g=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var y=l,_;y!==null;){_=y;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,m!==null&&(x=Ic(y,m),x!=null&&v.push(Dc(y,x,_)))),g)break;y=y.return}0<v.length&&(h=new d(h,p,null,r,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(p=r.relatedTarget||r.fromElement)&&(Zo(p)||p[Jl]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=l,p=p?Zo(p):null,p!==null&&(g=Ts(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=l),d!==p)){if(v=aT,x="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=sT,x="onPointerLeave",m="onPointerEnter",y="pointer"),g=d==null?h:il(d),_=p==null?h:il(p),h=new v(x,y+"leave",d,r,c),h.target=g,h.relatedTarget=_,x=null,Zo(c)===l&&(v=new v(m,y+"enter",p,r,c),v.target=_,v.relatedTarget=g,x=v),g=x,d&&p)t:{for(v=d,m=p,y=0,_=v;_;_=Bs(_))y++;for(_=0,x=m;x;x=Bs(x))_++;for(;0<y-_;)v=Bs(v),y--;for(;0<_-y;)m=Bs(m),_--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=Bs(v),m=Bs(m)}v=null}else v=null;d!==null&&bT(f,h,d,v,!1),p!==null&&g!==null&&bT(f,g,p,v,!0)}}e:{if(h=l?il(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var b=ej;else if(cT(h))if(HR)b=ij;else{b=rj;var S=tj}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=nj);if(b&&(b=b(t,l))){YR(f,b,r,c);break e}S&&S(t,h,l),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&t0(h,"number",h.value)}switch(S=l?il(l):window,t){case"focusin":(cT(S)||S.contentEditable==="true")&&(nl=S,p0=l,vc=null);break;case"focusout":vc=p0=nl=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,mT(f,r,c);break;case"selectionchange":if(sj)break;case"keydown":case"keyup":mT(f,r,c)}var w;if(G1)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else rl?zR(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(XR&&r.locale!=="ko"&&(rl||E!=="onCompositionStart"?E==="onCompositionEnd"&&rl&&(w=GR()):(Za=c,U1="value"in Za?Za.value:Za.textContent,rl=!0)),S=kd(l,E),0<S.length&&(E=new oT(E,t,null,r,c),f.push({event:E,listeners:S}),w?E.data=w:(w=WR(r),w!==null&&(E.data=w)))),(w=q4?K4(t,r):Z4(t,r))&&(l=kd(l,"onBeforeInput"),0<l.length&&(c=new oT("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=w))}QR(f,e)})}function Dc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ic(t,r),a!=null&&n.unshift(Dc(t,a,i)),a=Ic(t,e),a!=null&&n.push(Dc(t,a,i))),t=t.return}return n}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bT(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,i?(u=Ic(r,a),u!=null&&o.unshift(Dc(r,u,s))):i||(u=Ic(r,a),u!=null&&o.push(Dc(r,u,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function Md(){}var jm=null,Um=null;function rI(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function m0(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ST=typeof setTimeout=="function"?setTimeout:void 0,lj=typeof clearTimeout=="function"?clearTimeout:void 0;function X1(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function ml(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function wT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var $m=0;function uj(t){return{$$typeof:O1,toString:t,valueOf:t}}var zp=Math.random().toString(36).slice(2),Qa="__reactFiber$"+zp,Fd="__reactProps$"+zp,Jl="__reactContainer$"+zp,ET="__reactEvents$"+zp;function Zo(t){var e=t[Qa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Jl]||r[Qa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wT(t);t!==null;){if(r=t[Qa])return r;t=wT(t)}return e}t=r,r=t.parentNode}return null}function If(t){return t=t[Qa]||t[Jl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function il(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Wp(t){return t[Fd]||null}function nI(t){var e=t[ET];return e===void 0&&(e=t[ET]=new Set),e}var g0=[],al=-1;function Oo(t){return{current:t}}function Rt(t){0>al||(t.current=g0[al],g0[al]=null,al--)}function Xt(t,e){al++,g0[al]=t.current,t.current=e}var xo={},Jr=Oo(xo),An=Oo(!1),hs=xo;function kl(t,e){var r=t.type.contextTypes;if(!r)return xo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function Nd(){Rt(An),Rt(Jr)}function TT(t,e,r){if(Jr.current!==xo)throw Error(he(168));Xt(Jr,e),Xt(An,r)}function iI(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(he(108,hl(e)||"Unknown",i));return Ft({},r,n)}function rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,hs=Jr.current,Xt(Jr,t),Xt(An,An.current),!0}function AT(t,e,r){var n=t.stateNode;if(!n)throw Error(he(169));r?(t=iI(t,e,hs),n.__reactInternalMemoizedMergedChildContext=t,Rt(An),Rt(Jr),Xt(Jr,t)):Rt(An),Xt(An,r)}var z1=null,os=null,cj=kr.unstable_runWithPriority,W1=kr.unstable_scheduleCallback,y0=kr.unstable_cancelCallback,fj=kr.unstable_shouldYield,CT=kr.unstable_requestPaint,_0=kr.unstable_now,hj=kr.unstable_getCurrentPriorityLevel,Yp=kr.unstable_ImmediatePriority,aI=kr.unstable_UserBlockingPriority,oI=kr.unstable_NormalPriority,sI=kr.unstable_LowPriority,lI=kr.unstable_IdlePriority,Vm={},dj=CT!==void 0?CT:function(){},Ea=null,nd=null,Gm=!1,PT=_0(),Zr=1e4>PT?_0:function(){return _0()-PT};function Ml(){switch(hj()){case Yp:return 99;case aI:return 98;case oI:return 97;case sI:return 96;case lI:return 95;default:throw Error(he(332))}}function uI(t){switch(t){case 99:return Yp;case 98:return aI;case 97:return oI;case 96:return sI;case 95:return lI;default:throw Error(he(332))}}function ds(t,e){return t=uI(t),cj(t,e)}function Bc(t,e,r){return t=uI(t),W1(t,e,r)}function oa(){if(nd!==null){var t=nd;nd=null,y0(t)}cI()}function cI(){if(!Gm&&Ea!==null){Gm=!0;var t=0;try{var e=Ea;ds(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Ea=null}catch(r){throw Ea!==null&&(Ea=Ea.slice(t+1)),W1(Yp,oa),r}finally{Gm=!1}}}var pj=Es.ReactCurrentBatchConfig;function vi(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ld=Oo(null),Dd=null,ol=null,Bd=null;function Y1(){Bd=ol=Dd=null}function H1(t){var e=Ld.current;Rt(Ld),t.type._context._currentValue=e}function fI(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function gl(t,e){Dd=t,Bd=ol=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yi=!0),t.firstContext=null)}function ri(t,e){if(Bd!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Bd=t,e=1073741823),e={context:t,observedBits:e,next:null},ol===null){if(Dd===null)throw Error(he(308));ol=e,Dd.dependencies={lanes:0,firstContext:e,responders:null}}else ol=ol.next=e;return t._currentValue}var za=!1;function q1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function hI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function OT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function jc(t,e,r,n){var i=t.updateQueue;za=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,o===null?a=l:o.next=l,o=u;var c=t.alternate;if(c!==null){c=c.updateQueue;var f=c.lastBaseUpdate;f!==o&&(f===null?c.firstBaseUpdate=l:f.next=l,c.lastBaseUpdate=u)}}if(a!==null){f=i.baseState,o=0,c=l=u=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=t,p=a;switch(s=e,h=r,p.tag){case 1:if(d=p.payload,typeof d=="function"){f=d.call(h,f,s);break e}f=d;break e;case 3:d.flags=d.flags&-4097|64;case 0:if(d=p.payload,s=typeof d=="function"?d.call(h,f,s):d,s==null)break e;f=Ft({},f,s);break e;case 2:za=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,Mf|=o,t.lanes=o,t.memoizedState=f}}function RT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(he(191,i));i.call(n)}}}var dI=new Bp.Component().refs;function jd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hp={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Dn(),i=uo(t),a=so(n,i);a.payload=e,r!=null&&(a.callback=r),lo(t,a),co(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Dn(),i=uo(t),a=so(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),lo(t,a),co(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Dn(),n=uo(t),i=so(r,n);i.tag=2,e!=null&&(i.callback=e),lo(t,i),co(t,n,r)}};function IT(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Lc(r,n)||!Lc(i,a):!0}function pI(t,e,r){var n=!1,i=xo,a=e.contextType;return typeof a=="object"&&a!==null?a=ri(a):(i=Cn(e)?hs:Jr.current,n=e.contextTypes,a=(n=n!=null)?kl(t,i):xo),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function kT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Hp.enqueueReplaceState(e,e.state,null)}function x0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=dI,q1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ri(a):(a=Cn(e)?hs:Jr.current,i.context=kl(t,a)),jc(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(jd(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hp.enqueueReplaceState(i,i.state,null),jc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var sh=Array.isArray;function ku(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===dI&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,t))}return t}function lh(t,e){if(t.type!=="textarea")throw Error(he(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function vI(t){function e(g,m){if(t){var y=g.lastEffect;y!==null?(y.nextEffect=m,g.lastEffect=m):g.firstEffect=g.lastEffect=m,m.nextEffect=null,m.flags=8}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=So(g,m),g.index=0,g.sibling=null,g}function a(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags=2,m):y):(g.flags=2,m)):m}function o(g){return t&&g.alternate===null&&(g.flags=2),g}function s(g,m,y,_){return m===null||m.tag!==6?(m=Hm(y,g.mode,_),m.return=g,m):(m=i(m,y),m.return=g,m)}function u(g,m,y,_){return m!==null&&m.elementType===y.type?(_=i(m,y.props),_.ref=ku(g,m,y),_.return=g,_):(_=sd(y.type,y.key,y.props,null,g.mode,_),_.ref=ku(g,m,y),_.return=g,_)}function l(g,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=qm(y,g.mode,_),m.return=g,m):(m=i(m,y.children||[]),m.return=g,m)}function c(g,m,y,_,x){return m===null||m.tag!==7?(m=bl(y,g.mode,_,x),m.return=g,m):(m=i(m,y),m.return=g,m)}function f(g,m,y){if(typeof m=="string"||typeof m=="number")return m=Hm(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ju:return y=sd(m.type,m.key,m.props,null,g.mode,y),y.ref=ku(g,null,m),y.return=g,y;case qo:return m=qm(m,g.mode,y),m.return=g,m}if(sh(m)||Au(m))return m=bl(m,g.mode,y,null),m.return=g,m;lh(g,m)}return null}function h(g,m,y,_){var x=m!==null?m.key:null;if(typeof y=="string"||typeof y=="number")return x!==null?null:s(g,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ju:return y.key===x?y.type===Ha?c(g,m,y.props.children,_,x):u(g,m,y,_):null;case qo:return y.key===x?l(g,m,y,_):null}if(sh(y)||Au(y))return x!==null?null:c(g,m,y,_,null);lh(g,y)}return null}function d(g,m,y,_,x){if(typeof _=="string"||typeof _=="number")return g=g.get(y)||null,s(m,g,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ju:return g=g.get(_.key===null?y:_.key)||null,_.type===Ha?c(m,g,_.props.children,x,_.key):u(m,g,_,x);case qo:return g=g.get(_.key===null?y:_.key)||null,l(m,g,_,x)}if(sh(_)||Au(_))return g=g.get(y)||null,c(m,g,_,x,null);lh(m,_)}return null}function p(g,m,y,_){for(var x=null,b=null,S=m,w=m=0,E=null;S!==null&&w<y.length;w++){S.index>w?(E=S,S=null):E=S.sibling;var T=h(g,S,y[w],_);if(T===null){S===null&&(S=E);break}t&&S&&T.alternate===null&&e(g,S),m=a(T,m,w),b===null?x=T:b.sibling=T,b=T,S=E}if(w===y.length)return r(g,S),x;if(S===null){for(;w<y.length;w++)S=f(g,y[w],_),S!==null&&(m=a(S,m,w),b===null?x=S:b.sibling=S,b=S);return x}for(S=n(g,S);w<y.length;w++)E=d(S,g,w,y[w],_),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?w:E.key),m=a(E,m,w),b===null?x=E:b.sibling=E,b=E);return t&&S.forEach(function(A){return e(g,A)}),x}function v(g,m,y,_){var x=Au(y);if(typeof x!="function")throw Error(he(150));if(y=x.call(y),y==null)throw Error(he(151));for(var b=x=null,S=m,w=m=0,E=null,T=y.next();S!==null&&!T.done;w++,T=y.next()){S.index>w?(E=S,S=null):E=S.sibling;var A=h(g,S,T.value,_);if(A===null){S===null&&(S=E);break}t&&S&&A.alternate===null&&e(g,S),m=a(A,m,w),b===null?x=A:b.sibling=A,b=A,S=E}if(T.done)return r(g,S),x;if(S===null){for(;!T.done;w++,T=y.next())T=f(g,T.value,_),T!==null&&(m=a(T,m,w),b===null?x=T:b.sibling=T,b=T);return x}for(S=n(g,S);!T.done;w++,T=y.next())T=d(S,g,w,T.value,_),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?w:T.key),m=a(T,m,w),b===null?x=T:b.sibling=T,b=T);return t&&S.forEach(function(O){return e(g,O)}),x}return function(g,m,y,_){var x=typeof y=="object"&&y!==null&&y.type===Ha&&y.key===null;x&&(y=y.props.children);var b=typeof y=="object"&&y!==null;if(b)switch(y.$$typeof){case Ju:e:{for(b=y.key,x=m;x!==null;){if(x.key===b){switch(x.tag){case 7:if(y.type===Ha){r(g,x.sibling),m=i(x,y.props.children),m.return=g,g=m;break e}break;default:if(x.elementType===y.type){r(g,x.sibling),m=i(x,y.props),m.ref=ku(g,x,y),m.return=g,g=m;break e}}r(g,x);break}else e(g,x);x=x.sibling}y.type===Ha?(m=bl(y.props.children,g.mode,_,y.key),m.return=g,g=m):(_=sd(y.type,y.key,y.props,null,g.mode,_),_.ref=ku(g,m,y),_.return=g,g=_)}return o(g);case qo:e:{for(x=y.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(g,m.sibling),m=i(m,y.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=qm(y,g.mode,_),m.return=g,g=m}return o(g)}if(typeof y=="string"||typeof y=="number")return y=""+y,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,y),m.return=g,g=m):(r(g,m),m=Hm(y,g.mode,_),m.return=g,g=m),o(g);if(sh(y))return p(g,m,y,_);if(Au(y))return v(g,m,y,_);if(b&&lh(g,y),typeof y>"u"&&!x)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(he(152,hl(g.type)||"Component"))}return r(g,m)}}var Ud=vI(!0),mI=vI(!1),kf={},Hi=Oo(kf),Uc=Oo(kf),$c=Oo(kf);function Qo(t){if(t===kf)throw Error(he(174));return t}function b0(t,e){switch(Xt($c,e),Xt(Uc,t),Xt(Hi,kf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a0(e,t)}Rt(Hi),Xt(Hi,e)}function Fl(){Rt(Hi),Rt(Uc),Rt($c)}function MT(t){Qo($c.current);var e=Qo(Hi.current),r=a0(e,t.type);e!==r&&(Xt(Uc,t),Xt(Hi,r))}function K1(t){Uc.current===t&&(Rt(Hi),Rt(Uc))}var Gt=Oo(0);function $d(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ca=null,Ja=null,qi=!1;function gI(t,e){var r=Zn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function FT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function S0(t){if(qi){var e=Ja;if(e){var r=e;if(!FT(t,e)){if(e=ml(r.nextSibling),!e||!FT(t,e)){t.flags=t.flags&-1025|2,qi=!1,Ca=t;return}gI(Ca,r)}Ca=t,Ja=ml(e.firstChild)}else t.flags=t.flags&-1025|2,qi=!1,Ca=t}}function NT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ca=t}function uh(t){if(t!==Ca)return!1;if(!qi)return NT(t),qi=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!m0(e,t.memoizedProps))for(e=Ja;e;)gI(t,e),e=ml(e.nextSibling);if(NT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ja=ml(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ja=null}}else Ja=Ca?ml(t.stateNode.nextSibling):null;return!0}function Xm(){Ja=Ca=null,qi=!1}var yl=[];function Z1(){for(var t=0;t<yl.length;t++)yl[t]._workInProgressVersionPrimary=null;yl.length=0}var mc=Es.ReactCurrentDispatcher,ei=Es.ReactCurrentBatchConfig,Vc=0,Qt=null,qr=null,Vr=null,Vd=!1,gc=!1;function xn(){throw Error(he(321))}function Q1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kn(t[r],e[r]))return!1;return!0}function J1(t,e,r,n,i,a){if(Vc=a,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mc.current=t===null||t.memoizedState===null?mj:gj,t=r(n,i),gc){a=0;do{if(gc=!1,!(25>a))throw Error(he(301));a+=1,Vr=qr=null,e.updateQueue=null,mc.current=yj,t=r(n,i)}while(gc)}if(mc.current=Wd,e=qr!==null&&qr.next!==null,Vc=0,Vr=qr=Qt=null,Vd=!1,e)throw Error(he(300));return t}function Jo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Qt.memoizedState=Vr=t:Vr=Vr.next=t,Vr}function As(){if(qr===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=qr.next;var e=Vr===null?Qt.memoizedState:Vr.next;if(e!==null)Vr=e,qr=t;else{if(t===null)throw Error(he(310));qr=t,t={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Vr===null?Qt.memoizedState=Vr=t:Vr=Vr.next=t}return Vr}function zi(t,e){return typeof e=="function"?e(t):e}function Mu(t){var e=As(),r=e.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=t;var n=qr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,u=i;do{var l=u.lane;if((Vc&l)===l)s!==null&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===t?u.eagerState:t(n,u.action);else{var c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};s===null?(o=s=c,a=n):s=s.next=c,Qt.lanes|=l,Mf|=l}u=u.next}while(u!==null&&u!==i);s===null?a=n:s.next=o,Kn(n,e.memoizedState)||(yi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Fu(t){var e=As(),r=e.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Kn(a,e.memoizedState)||(yi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function LT(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Vc&t)===t)&&(e._workInProgressVersionPrimary=n,yl.push(e))),t)return r(e._source);throw yl.push(e),Error(he(350))}function yI(t,e,r,n){var i=fn;if(i===null)throw Error(he(349));var a=e._getVersion,o=a(e._source),s=mc.current,u=s.useState(function(){return LT(i,e,r)}),l=u[1],c=u[0];u=Vr;var f=t.memoizedState,h=f.refs,d=h.getSnapshot,p=f.source;f=f.subscribe;var v=Qt;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var g=a(e._source);if(!Kn(o,g)){g=r(e._source),Kn(c,g)||(l(g),g=uo(v),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var m=i.entanglements,y=g;0<y;){var _=31-_o(y),x=1<<_;m[_]|=g,y&=~x}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var g=h.getSnapshot,m=h.setSnapshot;try{m(g(e._source));var y=uo(v);i.mutableReadLanes|=y&i.pendingLanes}catch(_){m(function(){throw _})}})},[e,n]),Kn(d,r)&&Kn(p,e)&&Kn(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:zi,lastRenderedState:c},t.dispatch=l=rb.bind(null,Qt,t),u.queue=t,u.baseQueue=null,c=LT(i,e,r),u.memoizedState=u.baseState=c),c}function _I(t,e,r){var n=As();return yI(n,t,e,r)}function Nu(t){var e=Jo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},t=t.dispatch=rb.bind(null,Qt,t),[e.memoizedState,t]}function Gd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function DT(t){var e=Jo();return t={current:t},e.memoizedState=t}function Xd(){return As().memoizedState}function w0(t,e,r,n){var i=Jo();Qt.flags|=t,i.memoizedState=Gd(1|e,r,void 0,n===void 0?null:n)}function eb(t,e,r,n){var i=As();n=n===void 0?null:n;var a=void 0;if(qr!==null){var o=qr.memoizedState;if(a=o.destroy,n!==null&&Q1(n,o.deps)){Gd(e,r,a,n);return}}Qt.flags|=t,i.memoizedState=Gd(1|e,r,a,n)}function BT(t,e){return w0(516,4,t,e)}function zd(t,e){return eb(516,4,t,e)}function xI(t,e){return eb(4,2,t,e)}function bI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SI(t,e,r){return r=r!=null?r.concat([t]):null,eb(4,2,bI.bind(null,e,t),r)}function tb(){}function wI(t,e){var r=As();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Q1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function EI(t,e){var r=As();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Q1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function vj(t,e){var r=Ml();ds(98>r?98:r,function(){t(!0)}),ds(97<r?97:r,function(){var n=ei.transition;ei.transition=1;try{t(!1),e()}finally{ei.transition=n}})}function rb(t,e,r){var n=Dn(),i=uo(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Qt||o!==null&&o===Qt)gc=Vd=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,r);if(a.eagerReducer=o,a.eagerState=u,Kn(u,s))return}catch{}finally{}co(t,i,n)}}var Wd={readContext:ri,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useOpaqueIdentifier:xn,unstable_isNewReconciler:!1},mj={readContext:ri,useCallback:function(t,e){return Jo().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:BT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,w0(4,2,bI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return w0(4,2,t,e)},useMemo:function(t,e){var r=Jo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=rb.bind(null,Qt,t),[n.memoizedState,t]},useRef:DT,useState:Nu,useDebugValue:tb,useDeferredValue:function(t){var e=Nu(t),r=e[0],n=e[1];return BT(function(){var i=ei.transition;ei.transition=1;try{n(t)}finally{ei.transition=i}},[t]),r},useTransition:function(){var t=Nu(!1),e=t[0];return t=vj.bind(null,t[1]),DT(t),[t,e]},useMutableSource:function(t,e,r){var n=Jo();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},yI(n,t,e,r)},useOpaqueIdentifier:function(){if(qi){var t=!1,e=uj(function(){throw t||(t=!0,r("r:"+($m++).toString(36))),Error(he(355))}),r=Nu(e)[1];return!(Qt.mode&2)&&(Qt.flags|=516,Gd(5,function(){r("r:"+($m++).toString(36))},void 0,null)),e}return e="r:"+($m++).toString(36),Nu(e),e},unstable_isNewReconciler:!1},gj={readContext:ri,useCallback:wI,useContext:ri,useEffect:zd,useImperativeHandle:SI,useLayoutEffect:xI,useMemo:EI,useReducer:Mu,useRef:Xd,useState:function(){return Mu(zi)},useDebugValue:tb,useDeferredValue:function(t){var e=Mu(zi),r=e[0],n=e[1];return zd(function(){var i=ei.transition;ei.transition=1;try{n(t)}finally{ei.transition=i}},[t]),r},useTransition:function(){var t=Mu(zi)[0];return[Xd().current,t]},useMutableSource:_I,useOpaqueIdentifier:function(){return Mu(zi)[0]},unstable_isNewReconciler:!1},yj={readContext:ri,useCallback:wI,useContext:ri,useEffect:zd,useImperativeHandle:SI,useLayoutEffect:xI,useMemo:EI,useReducer:Fu,useRef:Xd,useState:function(){return Fu(zi)},useDebugValue:tb,useDeferredValue:function(t){var e=Fu(zi),r=e[0],n=e[1];return zd(function(){var i=ei.transition;ei.transition=1;try{n(t)}finally{ei.transition=i}},[t]),r},useTransition:function(){var t=Fu(zi)[0];return[Xd().current,t]},useMutableSource:_I,useOpaqueIdentifier:function(){return Fu(zi)[0]},unstable_isNewReconciler:!1},_j=Es.ReactCurrentOwner,yi=!1;function Sn(t,e,r,n){e.child=t===null?mI(e,null,r,n):Ud(e,t.child,r,n)}function jT(t,e,r,n,i){r=r.render;var a=e.ref;return gl(e,i),n=J1(t,e,r,n,a,i),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Pa(t,e,i)):(e.flags|=1,Sn(t,e,n,i),e.child)}function UT(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!lb(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,TI(t,e,o,n,i,a)):(t=sd(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:Lc,r(i,n)&&t.ref===e.ref)?Pa(t,e,a):(e.flags|=1,t=So(o,n),t.ref=e.ref,t.return=e,e.child=t)}function TI(t,e,r,n,i,a){if(t!==null&&Lc(t.memoizedProps,n)&&t.ref===e.ref)if(yi=!1,(a&i)!==0)t.flags&16384&&(yi=!0);else return e.lanes=t.lanes,Pa(t,e,a);return E0(t,e,r,n,a)}function zm(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},fh(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},fh(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},fh(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,fh(e,n);return Sn(t,e,i,r),e.child}function AI(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function E0(t,e,r,n,i){var a=Cn(r)?hs:Jr.current;return a=kl(e,a),gl(e,i),r=J1(t,e,r,n,a,i),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Pa(t,e,i)):(e.flags|=1,Sn(t,e,r,i),e.child)}function $T(t,e,r,n,i){if(Cn(r)){var a=!0;rd(e)}else a=!1;if(gl(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),pI(e,r,n),x0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=ri(l):(l=Cn(r)?hs:Jr.current,l=kl(e,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||u!==l)&&kT(e,o,n,l),za=!1;var h=e.memoizedState;o.state=h,jc(e,n,o,i),u=e.memoizedState,s!==n||h!==u||An.current||za?(typeof c=="function"&&(jd(e,r,c,n),u=e.memoizedState),(s=za||IT(e,r,s,n,h,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,hI(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:vi(e.type,s),o.props=l,f=e.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=ri(u):(u=Cn(r)?hs:Jr.current,u=kl(e,u));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==u)&&kT(e,o,n,u),za=!1,h=e.memoizedState,o.state=h,jc(e,n,o,i);var p=e.memoizedState;s!==f||h!==p||An.current||za?(typeof d=="function"&&(jd(e,r,d,n),p=e.memoizedState),(l=za||IT(e,r,l,n,h,p,u))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return T0(t,e,r,n,a,i)}function T0(t,e,r,n,i,a){AI(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&AT(e,r,!1),Pa(t,e,a);n=e.stateNode,_j.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ud(e,t.child,null,a),e.child=Ud(e,null,s,a)):Sn(t,e,s,a),e.memoizedState=n.state,i&&AT(e,r,!0),e.child}function VT(t){var e=t.stateNode;e.pendingContext?TT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TT(t,e.context,!1),b0(t,e.containerInfo)}var ch={dehydrated:null,retryLane:0};function GT(t,e,r){var n=e.pendingProps,i=Gt.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Xt(Gt,i&1),t===null?(n.fallback!==void 0&&S0(e),t=n.children,i=n.fallback,a?(t=XT(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=ch,t):typeof n.unstable_expectedLoadTime=="number"?(t=XT(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=ch,e.lanes=33554432,t):(r=ub({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=WT(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=ch,n):(r=zT(t,e,n.children,r),e.memoizedState=null,r):a?(n=WT(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=ch,n):(r=zT(t,e,n.children,r),e.memoizedState=null,r)}function XT(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=ub(e,i,0,null),r=bl(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function zT(t,e,r,n){var i=t.child;return t=i.sibling,r=So(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function WT(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=So(o,s),t!==null?n=So(t,n):(n=bl(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function YT(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fI(t.return,e)}function Wm(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function HT(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Sn(t,e,n.children,r),n=Gt.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YT(t,r);else if(t.tag===19)YT(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Xt(Gt,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&$d(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Wm(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$d(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Wm(e,!0,r,null,a,e.lastEffect);break;case"together":Wm(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Pa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mf|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,r=So(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=So(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var CI,A0,PI,OI;CI=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};A0=function(){};PI=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Qo(Hi.current);var a=null;switch(r){case"input":i=Jy(t,i),n=Jy(t,n),a=[];break;case"option":i=r0(t,i),n=r0(t,n),a=[];break;case"select":i=Ft({},i,{value:void 0}),n=Ft({},n,{value:void 0}),a=[];break;case"textarea":i=n0(t,i),n=n0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Md)}o0(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Oc.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var u=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Tt("scroll",t),a||s===u||(a=[])):typeof u=="object"&&u!==null&&u.$$typeof===O1?u.toString():(a=a||[]).push(l,u))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};OI=function(t,e,r,n){r!==n&&(e.flags|=4)};function Lu(t,e){if(!qi)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xj(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Cn(e.type)&&Nd(),null;case 3:return Fl(),Rt(An),Rt(Jr),Z1(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:n.hydrate||(e.flags|=256)),A0(e),null;case 5:K1(e);var i=Qo($c.current);if(r=e.type,t!==null&&e.stateNode!=null)PI(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(he(166));return null}if(t=Qo(Hi.current),uh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Qa]=e,n[Fd]=a,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(t=0;t<tc.length;t++)Tt(tc[t],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":HE(n,a),Tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Tt("invalid",n);break;case"textarea":KE(n,a),Tt("invalid",n)}o0(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Oc.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Tt("scroll",n));switch(r){case"input":nh(n),qE(n,a,!0);break;case"textarea":nh(n),ZE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Md)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===i0.html&&(t=SR(r)),t===i0.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Qa]=e,t[Fd]=n,CI(t,e,!1,!1),e.stateNode=t,o=s0(r,n),r){case"dialog":Tt("cancel",t),Tt("close",t),i=n;break;case"iframe":case"object":case"embed":Tt("load",t),i=n;break;case"video":case"audio":for(i=0;i<tc.length;i++)Tt(tc[i],t);i=n;break;case"source":Tt("error",t),i=n;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),i=n;break;case"details":Tt("toggle",t),i=n;break;case"input":HE(t,n),i=Jy(t,n),Tt("invalid",t);break;case"option":i=r0(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ft({},n,{value:void 0}),Tt("invalid",t);break;case"textarea":KE(t,n),i=n0(t,n),Tt("invalid",t);break;default:i=n}o0(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="style"?TR(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&wR(t,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Rc(t,u):typeof u=="number"&&Rc(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Oc.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Tt("scroll",t):u!=null&&w1(t,a,u,o))}switch(r){case"input":nh(t),qE(t,n,!1);break;case"textarea":nh(t),ZE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yo(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?dl(t,!!n.multiple,a,!1):n.defaultValue!=null&&dl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Md)}rI(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)OI(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(he(166));r=Qo($c.current),Qo(Hi.current),uh(e)?(n=e.stateNode,r=e.memoizedProps,n[Qa]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qa]=e,e.stateNode=n)}return null;case 13:return Rt(Gt),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&uh(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Gt.current&1?Xr===0&&(Xr=3):((Xr===0||Xr===3)&&(Xr=4),fn===null||!(Mf&134217727)&&!(tu&134217727)||_l(fn,Qr))),(n||r)&&(e.flags|=4),null);case 4:return Fl(),A0(e),t===null&&JR(e.stateNode.containerInfo),null;case 10:return H1(e),null;case 17:return Cn(e.type)&&Nd(),null;case 19:if(Rt(Gt),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)Lu(n,!1);else{if(Xr!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=$d(t),o!==null){for(e.flags|=64,Lu(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Xt(Gt,Gt.current&1|2),e.child}t=t.sibling}n.tail!==null&&Zr()>k0&&(e.flags|=64,a=!0,Lu(n,!1),e.lanes=33554432)}else{if(!a)if(t=$d(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Lu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!qi)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Zr()-n.renderingStartTime>k0&&r!==1073741824&&(e.flags|=64,a=!0,Lu(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Zr(),r.sibling=null,e=Gt.current,Xt(Gt,a?e&1|2:e&1),r):null;case 23:case 24:return sb(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(he(156,e.tag))}function bj(t){switch(t.tag){case 1:Cn(t.type)&&Nd();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Fl(),Rt(An),Rt(Jr),Z1(),e=t.flags,e&64)throw Error(he(285));return t.flags=e&-4097|64,t;case 5:return K1(t),null;case 13:return Rt(Gt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Rt(Gt),null;case 4:return Fl(),null;case 10:return H1(t),null;case 23:case 24:return sb(),null;default:return null}}function nb(t,e){try{var r="",n=e;do r+=t4(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function C0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Sj=typeof WeakMap=="function"?WeakMap:Map;function RI(t,e,r){r=so(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hd||(Hd=!0,M0=n),C0(t,e)},r}function II(t,e,r){r=so(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return C0(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this),C0(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var wj=typeof WeakSet=="function"?WeakSet:Set;function qT(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){fo(t,r)}else e.current=null}function Ej(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:vi(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&X1(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(he(163))}function Tj(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(UI(r,t),Mj(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:vi(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&RT(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}RT(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&rI(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&NR(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(he(163))}function KT(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=ER("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ZT(t,e){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(z1,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)UI(e,r);else{n=e;try{i()}catch(a){fo(n,a)}}r=r.next}while(r!==t)}break;case 1:if(qT(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){fo(e,a)}break;case 5:qT(e);break;case 4:kI(t,e)}}function QT(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function JT(t){return t.tag===5||t.tag===3||t.tag===4}function eA(t){e:{for(var e=t.return;e!==null;){if(JT(e))break e;e=e.return}throw Error(he(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(he(161))}r.flags&16&&(Rc(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||JT(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?P0(t,r,e):O0(t,r,e)}function P0(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Md));else if(n!==4&&(t=t.child,t!==null))for(P0(t,e,r),t=t.sibling;t!==null;)P0(t,e,r),t=t.sibling}function O0(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(O0(t,e,r),t=t.sibling;t!==null;)O0(t,e,r),t=t.sibling}function kI(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(he(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,u=s;;)if(ZT(o,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(ZT(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Ym(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[Fd]=n,t==="input"&&n.type==="radio"&&n.name!=null&&xR(r,n),s0(t,i),e=s0(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?TR(r,s):o==="dangerouslySetInnerHTML"?wR(r,s):o==="children"?Rc(r,s):w1(r,o,s,e)}switch(t){case"input":e0(r,n);break;case"textarea":bR(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?dl(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?dl(r,!!n.multiple,n.defaultValue,!0):dl(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(he(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,NR(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(ob=Zr(),KT(e.child,!0)),tA(e);return;case 19:tA(e);return;case 17:return;case 23:case 24:KT(e,e.memoizedState!==null);return}throw Error(he(163))}function tA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wj),e.forEach(function(n){var i=Lj.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Aj(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Cj=Math.ceil,Yd=Es.ReactCurrentDispatcher,ib=Es.ReactCurrentOwner,Le=0,fn=null,vr=null,Qr=0,ps=0,R0=Oo(0),Xr=0,qp=null,eu=0,Mf=0,tu=0,ab=0,I0=null,ob=0,k0=1/0;function ru(){k0=Zr()+500}var Ee=null,Hd=!1,M0=null,Wi=null,bo=!1,yc=null,rc=90,F0=[],N0=[],ka=null,_c=0,L0=null,id=-1,Ta=0,ad=0,xc=null,od=!1;function Dn(){return Le&48?Zr():id!==-1?id:id=Zr()}function uo(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Ml()===99?1:2;if(Ta===0&&(Ta=eu),pj.transition!==0){ad!==0&&(ad=I0!==null?I0.pendingLanes:0),t=Ta;var e=4186112&~ad;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Ml(),Le&4&&t===98?t=Id(12,Ta):(t=g4(t),t=Id(t,Ta)),t}function co(t,e,r){if(50<_c)throw _c=0,L0=null,Error(he(185));if(t=Kp(t,e),t===null)return null;Vp(t,e,r),t===fn&&(tu|=e,Xr===4&&_l(t,Qr));var n=Ml();e===1?Le&8&&!(Le&48)?D0(t):(ni(t,r),Le===0&&(ru(),oa())):(!(Le&4)||n!==98&&n!==99||(ka===null?ka=new Set([t]):ka.add(t)),ni(t,r)),I0=t}function Kp(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function ni(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-_o(o),u=1<<s,l=a[s];if(l===-1){if(!(u&n)||u&i){l=e,Zs(u);var c=St;a[s]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=e&&(t.expiredLanes|=u);o&=~u}if(n=Fc(t,t===fn?Qr:0),e=St,n===0)r!==null&&(r!==Vm&&y0(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Vm&&y0(r)}e===15?(r=D0.bind(null,t),Ea===null?(Ea=[r],nd=W1(Yp,cI)):Ea.push(r),r=Vm):e===14?r=Bc(99,D0.bind(null,t)):(r=y4(e),r=Bc(r,MI.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function MI(t){if(id=-1,ad=Ta=0,Le&48)throw Error(he(327));var e=t.callbackNode;if(Ro()&&t.callbackNode!==e)return null;var r=Fc(t,t===fn?Qr:0);if(r===0)return null;var n=r,i=Le;Le|=16;var a=DI();(fn!==t||Qr!==n)&&(ru(),xl(t,n));do try{Rj();break}catch(s){LI(t,s)}while(1);if(Y1(),Yd.current=a,Le=i,vr!==null?n=0:(fn=null,Qr=0,n=Xr),eu&tu)xl(t,0);else if(n!==0){if(n===2&&(Le|=64,t.hydrate&&(t.hydrate=!1,X1(t.containerInfo)),r=VR(t),r!==0&&(n=nc(t,r))),n===1)throw e=qp,xl(t,0),_l(t,r),ni(t,Zr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(he(345));case 2:$o(t);break;case 3:if(_l(t,r),(r&62914560)===r&&(n=ob+500-Zr(),10<n)){if(Fc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ST($o.bind(null,t),n);break}$o(t);break;case 4:if(_l(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-_o(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=Zr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cj(r/1960))-r,10<r){t.timeoutHandle=ST($o.bind(null,t),r);break}$o(t);break;case 5:$o(t);break;default:throw Error(he(329))}}return ni(t,Zr()),t.callbackNode===e?MI.bind(null,t):null}function _l(t,e){for(e&=~ab,e&=~tu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_o(e),n=1<<r;t[r]=-1,e&=~n}}function D0(t){if(Le&48)throw Error(he(327));if(Ro(),t===fn&&t.expiredLanes&Qr){var e=Qr,r=nc(t,e);eu&tu&&(e=Fc(t,e),r=nc(t,e))}else e=Fc(t,0),r=nc(t,e);if(t.tag!==0&&r===2&&(Le|=64,t.hydrate&&(t.hydrate=!1,X1(t.containerInfo)),e=VR(t),e!==0&&(r=nc(t,e))),r===1)throw r=qp,xl(t,0),_l(t,e),ni(t,Zr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,$o(t),ni(t,Zr()),null}function Pj(){if(ka!==null){var t=ka;ka=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,ni(e,Zr())})}oa()}function FI(t,e){var r=Le;Le|=1;try{return t(e)}finally{Le=r,Le===0&&(ru(),oa())}}function NI(t,e){var r=Le;Le&=-2,Le|=8;try{return t(e)}finally{Le=r,Le===0&&(ru(),oa())}}function fh(t,e){Xt(R0,ps),ps|=e,eu|=e}function sb(){ps=R0.current,Rt(R0)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lj(r)),vr!==null)for(r=vr.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nd();break;case 3:Fl(),Rt(An),Rt(Jr),Z1();break;case 5:K1(n);break;case 4:Fl();break;case 13:Rt(Gt);break;case 19:Rt(Gt);break;case 10:H1(n);break;case 23:case 24:sb()}r=r.return}fn=t,vr=So(t.current,null),Qr=ps=eu=e,Xr=0,qp=null,ab=tu=Mf=0}function LI(t,e){do{var r=vr;try{if(Y1(),mc.current=Wd,Vd){for(var n=Qt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vd=!1}if(Vc=0,Vr=qr=Qt=null,gc=!1,ib.current=null,r===null||r.return===null){Xr=1,qp=e,vr=null;break}e:{var a=t,o=r.return,s=r,u=e;if(e=Qr,s.flags|=2048,s.firstEffect=s.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if(!(s.mode&2)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(Gt.current&1)!==0,h=o;do{var d;if(d=h.tag===13){var p=h.memoizedState;if(p!==null)d=p.dehydrated!==null;else{var v=h.memoizedProps;d=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!f}}if(d){var g=h.updateQueue;if(g===null){var m=new Set;m.add(l),h.updateQueue=m}else g.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var y=so(-1,1);y.tag=2,lo(s,y)}s.lanes|=1;break e}u=void 0,s=e;var _=a.pingCache;if(_===null?(_=a.pingCache=new Sj,u=new Set,_.set(l,u)):(u=_.get(l),u===void 0&&(u=new Set,_.set(l,u))),!u.has(s)){u.add(s);var x=Nj.bind(null,a,l,s);l.then(x,x)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);u=Error((hl(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Xr!==5&&(Xr=2),u=nb(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,e&=-e,h.lanes|=e;var b=RI(h,a,e);OT(h,b);break e;case 1:a=u;var S=h.type,w=h.stateNode;if(!(h.flags&64)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wi===null||!Wi.has(w)))){h.flags|=4096,e&=-e,h.lanes|=e;var E=II(h,a,e);OT(h,E);break e}}h=h.return}while(h!==null)}jI(r)}catch(T){e=T,vr===r&&r!==null&&(vr=r=r.return);continue}break}while(1)}function DI(){var t=Yd.current;return Yd.current=Wd,t===null?Wd:t}function nc(t,e){var r=Le;Le|=16;var n=DI();fn===t&&Qr===e||xl(t,e);do try{Oj();break}catch(i){LI(t,i)}while(1);if(Y1(),Le=r,Yd.current=n,vr!==null)throw Error(he(261));return fn=null,Qr=0,Xr}function Oj(){for(;vr!==null;)BI(vr)}function Rj(){for(;vr!==null&&!fj();)BI(vr)}function BI(t){var e=$I(t.alternate,t,ps);t.memoizedProps=t.pendingProps,e===null?jI(t):vr=e,ib.current=null}function jI(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=bj(e),r!==null){r.flags&=2047,vr=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=xj(r,e,ps),r!==null){vr=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||ps&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){vr=e;return}vr=e=t}while(e!==null);Xr===0&&(Xr=5)}function $o(t){var e=Ml();return ds(99,Ij.bind(null,t,e)),null}function Ij(t,e){do Ro();while(yc!==null);if(Le&48)throw Error(he(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(he(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var u=31-_o(a),l=1<<u;i[u]=0,o[u]=-1,s[u]=-1,a&=~l}if(ka!==null&&!(n&24)&&ka.has(t)&&ka.delete(t),t===fn&&(vr=fn=null,Qr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Le,Le|=32,ib.current=null,jm=Jh,o=vT(),d0(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var c=0,f=-1,h=-1,d=0,p=0,v=o,g=null;t:for(;;){for(var m;v!==s||a!==0&&v.nodeType!==3||(f=c+a),v!==u||l!==0&&v.nodeType!==3||(h=c+l),v.nodeType===3&&(c+=v.nodeValue.length),(m=v.firstChild)!==null;)g=v,v=m;for(;;){if(v===o)break t;if(g===s&&++d===a&&(f=c),g===u&&++p===l&&(h=c),(m=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=m}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Um={focusedElem:o,selectionRange:s},Jh=!1,xc=null,od=!1,Ee=n;do try{kj()}catch(T){if(Ee===null)throw Error(he(330));fo(Ee,T),Ee=Ee.nextEffect}while(Ee!==null);xc=null,Ee=n;do try{for(o=t;Ee!==null;){var y=Ee.flags;if(y&16&&Rc(Ee.stateNode,""),y&128){var _=Ee.alternate;if(_!==null){var x=_.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(y&1038){case 2:eA(Ee),Ee.flags&=-3;break;case 6:eA(Ee),Ee.flags&=-3,Ym(Ee.alternate,Ee);break;case 1024:Ee.flags&=-1025;break;case 1028:Ee.flags&=-1025,Ym(Ee.alternate,Ee);break;case 4:Ym(Ee.alternate,Ee);break;case 8:s=Ee,kI(o,s);var b=s.alternate;QT(s),b!==null&&QT(b)}Ee=Ee.nextEffect}}catch(T){if(Ee===null)throw Error(he(330));fo(Ee,T),Ee=Ee.nextEffect}while(Ee!==null);if(x=Um,_=vT(),y=x.focusedElem,o=x.selectionRange,_!==y&&y&&y.ownerDocument&&KR(y.ownerDocument.documentElement,y)){for(o!==null&&d0(y)&&(_=o.start,x=o.end,x===void 0&&(x=_),"selectionStart"in y?(y.selectionStart=_,y.selectionEnd=Math.min(x,y.value.length)):(x=(_=y.ownerDocument||document)&&_.defaultView||window,x.getSelection&&(x=x.getSelection(),s=y.textContent.length,b=Math.min(o.start,s),o=o.end===void 0?b:Math.min(o.end,s),!x.extend&&b>o&&(s=o,o=b,b=s),s=pT(y,b),a=pT(y,o),s&&a&&(x.rangeCount!==1||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&(_=_.createRange(),_.setStart(s.node,s.offset),x.removeAllRanges(),b>o?(x.addRange(_),x.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),x.addRange(_)))))),_=[],x=y;x=x.parentNode;)x.nodeType===1&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<_.length;y++)x=_[y],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Jh=!!jm,Um=jm=null,t.current=r,Ee=n;do try{for(y=t;Ee!==null;){var S=Ee.flags;if(S&36&&Tj(y,Ee.alternate,Ee),S&128){_=void 0;var w=Ee.ref;if(w!==null){var E=Ee.stateNode;switch(Ee.tag){case 5:_=E;break;default:_=E}typeof w=="function"?w(_):w.current=_}}Ee=Ee.nextEffect}}catch(T){if(Ee===null)throw Error(he(330));fo(Ee,T),Ee=Ee.nextEffect}while(Ee!==null);Ee=null,dj(),Le=i}else t.current=r;if(bo)bo=!1,yc=t,rc=e;else for(Ee=n;Ee!==null;)e=Ee.nextEffect,Ee.nextEffect=null,Ee.flags&8&&(S=Ee,S.sibling=null,S.stateNode=null),Ee=e;if(n=t.pendingLanes,n===0&&(Wi=null),n===1?t===L0?_c++:(_c=0,L0=t):_c=0,r=r.stateNode,os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(z1,r,void 0,(r.current.flags&64)===64)}catch{}if(ni(t,Zr()),Hd)throw Hd=!1,t=M0,M0=null,t;return Le&8||oa(),null}function kj(){for(;Ee!==null;){var t=Ee.alternate;od||xc===null||(Ee.flags&8?eT(Ee,xc)&&(od=!0):Ee.tag===13&&Aj(t,Ee)&&eT(Ee,xc)&&(od=!0));var e=Ee.flags;e&256&&Ej(t,Ee),!(e&512)||bo||(bo=!0,Bc(97,function(){return Ro(),null})),Ee=Ee.nextEffect}}function Ro(){if(rc!==90){var t=97<rc?97:rc;return rc=90,ds(t,Fj)}return!1}function Mj(t,e){F0.push(e,t),bo||(bo=!0,Bc(97,function(){return Ro(),null}))}function UI(t,e){N0.push(e,t),bo||(bo=!0,Bc(97,function(){return Ro(),null}))}function Fj(){if(yc===null)return!1;var t=yc;if(yc=null,Le&48)throw Error(he(331));var e=Le;Le|=32;var r=N0;N0=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(u){if(a===null)throw Error(he(330));fo(a,u)}}for(r=F0,F0=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(u){if(a===null)throw Error(he(330));fo(a,u)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return Le=e,oa(),!0}function rA(t,e,r){e=nb(r,e),e=RI(t,e,1),lo(t,e),e=Dn(),t=Kp(t,1),t!==null&&(Vp(t,1,e),ni(t,e))}function fo(t,e){if(t.tag===3)rA(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){rA(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wi===null||!Wi.has(n))){t=nb(e,t);var i=II(r,t,1);if(lo(r,i),i=Dn(),r=Kp(r,1),r!==null)Vp(r,1,i),ni(r,i);else if(typeof n.componentDidCatch=="function"&&(Wi===null||!Wi.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Nj(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Dn(),t.pingedLanes|=t.suspendedLanes&r,fn===t&&(Qr&r)===r&&(Xr===4||Xr===3&&(Qr&62914560)===Qr&&500>Zr()-ob?xl(t,0):ab|=r),ni(t,e)}function Lj(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Ta===0&&(Ta=eu),e=Qs(62914560&~Ta),e===0&&(e=4194304)):e=Ml()===99?1:2:e=1),r=Dn(),t=Kp(t,e),t!==null&&(Vp(t,e,r),ni(t,r))}var $I;$I=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)yi=!0;else if(r&n)yi=!!(t.flags&16384);else{switch(yi=!1,e.tag){case 3:VT(e),Xm();break;case 5:MT(e);break;case 1:Cn(e.type)&&rd(e);break;case 4:b0(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Xt(Ld,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?GT(t,e,r):(Xt(Gt,Gt.current&1),e=Pa(t,e,r),e!==null?e.sibling:null);Xt(Gt,Gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return HT(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(Gt,Gt.current),n)break;return null;case 23:case 24:return e.lanes=0,zm(t,e,r)}return Pa(t,e,r)}else yi=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=kl(e,Jr.current),gl(e,r),i=J1(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(n)){var a=!0;rd(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q1(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&jd(e,n,o,t),i.updater=Hp,e.stateNode=i,i._reactInternals=e,x0(e,n,t,r),e=T0(null,e,n,!0,a,r)}else e.tag=0,Sn(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=Bj(i),t=vi(i,t),a){case 0:e=E0(null,e,i,t,r);break e;case 1:e=$T(null,e,i,t,r);break e;case 11:e=jT(null,e,i,t,r);break e;case 14:e=UT(null,e,i,vi(i.type,t),n,r);break e}throw Error(he(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),E0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),$T(t,e,n,i,r);case 3:if(VT(e),n=e.updateQueue,t===null||n===null)throw Error(he(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,hI(t,e),jc(e,n,null,r),n=e.memoizedState.element,n===i)Xm(),e=Pa(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(Ja=ml(e.stateNode.containerInfo.firstChild),Ca=e,a=qi=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],yl.push(a);for(r=mI(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Sn(t,e,n,r),Xm();e=e.child}return e;case 5:return MT(e),t===null&&S0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,m0(n,i)?o=null:a!==null&&m0(n,a)&&(e.flags|=16),AI(t,e),Sn(t,e,o,r),e.child;case 6:return t===null&&S0(e),null;case 13:return GT(t,e,r);case 4:return b0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ud(e,null,n,r):Sn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),jT(t,e,n,i,r);case 7:return Sn(t,e,e.pendingProps,r),e.child;case 8:return Sn(t,e,e.pendingProps.children,r),e.child;case 12:return Sn(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(Xt(Ld,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=Kn(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!An.current){e=Pa(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=so(-1,r&-r),l.tag=2,lo(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),fI(s.return,r),u.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,gl(e,r),i=ri(i,a.unstable_observedBits),n=n(i),e.flags|=1,Sn(t,e,n,r),e.child;case 14:return i=e.type,a=vi(i,e.pendingProps),a=vi(i.type,a),UT(t,e,i,a,n,r);case 15:return TI(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Cn(n)?(t=!0,rd(e)):t=!1,gl(e,r),pI(e,n,i),x0(e,n,i,r),T0(null,e,n,!0,t,r);case 19:return HT(t,e,r);case 23:return zm(t,e,r);case 24:return zm(t,e,r)}throw Error(he(156,e.tag))};function Dj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,r,n){return new Dj(t,e,r,n)}function lb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bj(t){if(typeof t=="function")return lb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jp)return 11;if(t===Up)return 14}return 2}function So(t,e){var r=t.alternate;return r===null?(r=Zn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")lb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ha:return bl(r.children,i,a,e);case gR:o=8,i|=16;break;case E1:o=8,i|=1;break;case uc:return t=Zn(12,r,e,i|8),t.elementType=uc,t.type=uc,t.lanes=a,t;case cc:return t=Zn(13,r,e,i),t.type=cc,t.elementType=cc,t.lanes=a,t;case Cd:return t=Zn(19,r,e,i),t.elementType=Cd,t.lanes=a,t;case R1:return ub(r,i,a,e);case Qy:return t=Zn(24,r,e,i),t.elementType=Qy,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T1:o=10;break e;case A1:o=9;break e;case jp:o=11;break e;case Up:o=14;break e;case C1:o=16,n=null;break e;case P1:o=22;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=Zn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function bl(t,e,r,n){return t=Zn(7,t,n,e),t.lanes=r,t}function ub(t,e,r,n){return t=Zn(23,t,n,e),t.elementType=R1,t.lanes=r,t}function Hm(t,e,r){return t=Zn(6,t,null,e),t.lanes=r,t}function qm(t,e,r){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jj(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.mutableSourceEagerHydrationData=null}function Uj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function qd(t,e,r,n){var i=e.current,a=Dn(),o=uo(i);e:if(r){r=r._reactInternals;t:{if(Ts(r)!==r||r.tag!==1)throw Error(he(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(he(171))}if(r.tag===1){var u=r.type;if(Cn(u)){r=iI(r,u,s);break e}}r=s}else r=xo;return e.context===null?e.context=r:e.pendingContext=r,e=so(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),lo(i,e),co(i,o,a),o}function Km(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cb(t,e){nA(t,e),(t=t.alternate)&&nA(t,e)}function $j(){return null}function fb(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new jj(t,e,r!=null&&r.hydrate===!0),e=Zn(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,q1(e),t[Jl]=r.current,JR(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}fb.prototype.render=function(t){qd(t,this._internalRoot,null,null)};fb.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;qd(null,t,null,function(){e[Jl]=null})};function Ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vj(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new fb(t,0,e?{hydrate:!0}:void 0)}function Zp(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=Km(o);s.call(l)}}qd(e,o,t,i)}else{if(a=r._reactRootContainer=Vj(r,n),o=a._internalRoot,typeof i=="function"){var u=i;i=function(){var l=Km(o);u.call(l)}}NI(function(){qd(e,o,t,i)})}return Km(o)}kR=function(t){if(t.tag===13){var e=Dn();co(t,4,e),cb(t,4)}};N1=function(t){if(t.tag===13){var e=Dn();co(t,67108864,e),cb(t,67108864)}};MR=function(t){if(t.tag===13){var e=Dn(),r=uo(t);co(t,r,e),cb(t,r)}};FR=function(t,e){return e()};l0=function(t,e,r){switch(e){case"input":if(e0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Wp(n);if(!i)throw Error(he(90));_R(n),e0(n,i)}}}break;case"textarea":bR(t,r);break;case"select":e=r.value,e!=null&&dl(t,!!r.multiple,e,!1)}};k1=FI;PR=function(t,e,r,n,i){var a=Le;Le|=4;try{return ds(98,t.bind(null,e,r,n,i))}finally{Le=a,Le===0&&(ru(),oa())}};M1=function(){!(Le&49)&&(Pj(),Ro())};OR=function(t,e){var r=Le;Le|=2;try{return t(e)}finally{Le=r,Le===0&&(ru(),oa())}};function VI(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ff(e))throw Error(he(200));return Uj(t,e,null,r)}var Gj={Events:[If,il,Wp,AR,CR,Ro,{current:!1}]},Du={findFiberByHostInstance:Zo,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Xj={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IR(t),t===null?null:t.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||$j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{z1=hh.inject(Xj),os=hh}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gj;ii.createPortal=VI;ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):Error(he(268,Object.keys(t)));return t=IR(e),t=t===null?null:t.stateNode,t};ii.flushSync=function(t,e){var r=Le;if(r&48)return t(e);Le|=1;try{if(t)return ds(99,t.bind(null,e))}finally{Le=r,oa()}};ii.hydrate=function(t,e,r){if(!Ff(e))throw Error(he(200));return Zp(null,t,e,!0,r)};ii.render=function(t,e,r){if(!Ff(e))throw Error(he(200));return Zp(null,t,e,!1,r)};ii.unmountComponentAtNode=function(t){if(!Ff(t))throw Error(he(40));return t._reactRootContainer?(NI(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[Jl]=null})}),!0):!1};ii.unstable_batchedUpdates=FI;ii.unstable_createPortal=function(t,e){return VI(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ii.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ff(r))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Zp(t,e,r,!1,n)};ii.version="17.0.2";function GI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GI)}catch(t){console.error(t)}}GI(),dR.exports=ii;var XI=dR.exports;const ea=gn(XI);const zj="_Title_main_xpe81_1",Wj="_Title_buttonList_xpe81_8",Yj="_Title_button_xpe81_8",Hj="_Title_button_text_xpe81_41",qj="_Title_backup_background_xpe81_48",In={Title_main:zj,Title_buttonList:Wj,Title_button:Yj,Title_button_text:Hj,Title_backup_background:qj};function gi(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wo(t){return!!t&&!!t[kt]}function Na(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===iU}(t)||Array.isArray(t)||!!t[cA]||!!(!((e=t.constructor)===null||e===void 0)&&e[cA])||hb(t)||db(t))}function vs(t,e,r){r===void 0&&(r=!1),nu(t)===0?(r?Object.keys:wl)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function nu(t){var e=t[kt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:hb(t)?2:db(t)?3:0}function Sl(t,e){return nu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Kj(t,e){return nu(t)===2?t.get(e):t[e]}function zI(t,e,r){var n=nu(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function WI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function hb(t){return rU&&t instanceof Map}function db(t){return nU&&t instanceof Set}function Vo(t){return t.o||t.t}function pb(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=HI(t);delete e[kt];for(var r=wl(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function vb(t,e){return e===void 0&&(e=!1),mb(t)||wo(t)||!Na(t)||(nu(t)>1&&(t.set=t.add=t.clear=t.delete=Zj),Object.freeze(t),e&&vs(t,function(r,n){return vb(n,!0)},!0)),t}function Zj(){gi(2)}function mb(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ki(t){var e=$0[t];return e||gi(18,t),e}function Qj(t,e){$0[t]||($0[t]=e)}function B0(){return Gc}function Zm(t,e){e&&(Ki("Patches"),t.u=[],t.s=[],t.v=e)}function Kd(t){j0(t),t.p.forEach(Jj),t.p=null}function j0(t){t===Gc&&(Gc=t.l)}function iA(t){return Gc={p:[],l:Gc,h:t,m:!0,_:0}}function Jj(t){var e=t[kt];e.i===0||e.i===1?e.j():e.g=!0}function Qm(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||Ki("ES5").S(e,t,n),n?(r[kt].P&&(Kd(e),gi(4)),Na(t)&&(t=Zd(e,t),e.l||Qd(e,t)),e.u&&Ki("Patches").M(r[kt].t,t,e.u,e.s)):t=Zd(e,r,[]),Kd(e),e.u&&e.v(e.u,e.s),t!==YI?t:void 0}function Zd(t,e,r){if(mb(e))return e;var n=e[kt];if(!n)return vs(e,function(s,u){return aA(t,n,e,s,u,r)},!0),e;if(n.A!==t)return e;if(!n.P)return Qd(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=pb(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),vs(a,function(s,u){return aA(t,n,i,s,u,r,o)}),Qd(t,i,!1),r&&t.u&&Ki("Patches").N(n,r,t.u,t.s)}return n.o}function aA(t,e,r,n,i,a,o){if(wo(i)){var s=Zd(t,i,a&&e&&e.i!==3&&!Sl(e.R,n)?a.concat(n):void 0);if(zI(r,n,s),!wo(s))return;t.m=!1}else o&&r.add(i);if(Na(i)&&!mb(i)){if(!t.h.D&&t._<1)return;Zd(t,i),e&&e.A.l||Qd(t,i)}}function Qd(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&vb(e,r)}function Jm(t,e){var r=t[kt];return(r?Vo(r):t)[e]}function oA(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function qa(t){t.P||(t.P=!0,t.l&&qa(t.l))}function eg(t){t.o||(t.o=pb(t.t))}function U0(t,e,r){var n=hb(e)?Ki("MapSet").F(e,r):db(e)?Ki("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:B0(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},u=s,l=Xc;o&&(u=[s],l=ic);var c=Proxy.revocable(u,l),f=c.revoke,h=c.proxy;return s.k=h,s.j=f,h}(e,r):Ki("ES5").J(e,r);return(r?r.A:B0()).p.push(n),n}function eU(t){return wo(t)||gi(22,t),function e(r){if(!Na(r))return r;var n,i=r[kt],a=nu(r);if(i){if(!i.P&&(i.i<4||!Ki("ES5").K(i)))return i.t;i.I=!0,n=sA(r,a),i.I=!1}else n=sA(r,a);return vs(n,function(o,s){i&&Kj(i.t,o)===s||zI(n,o,e(s))}),a===3?new Set(n):n}(t)}function sA(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return pb(t)}function tU(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var u=this[kt];return Xc.get(u,a)},set:function(u){var l=this[kt];Xc.set(l,a,u)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][kt];if(!s.P)switch(s.i){case 5:n(s)&&qa(s);break;case 4:r(s)&&qa(s)}}}function r(a){for(var o=a.t,s=a.k,u=wl(s),l=u.length-1;l>=0;l--){var c=u[l];if(c!==kt){var f=o[c];if(f===void 0&&!Sl(o,c))return!0;var h=s[c],d=h&&h[kt];if(d?d.t!==f:!WI(h,f))return!0}}var p=!!o[kt];return u.length!==wl(o).length+(p?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};Qj("ES5",{J:function(a,o){var s=Array.isArray(a),u=function(c,f){if(c){for(var h=Array(f.length),d=0;d<f.length;d++)Object.defineProperty(h,""+d,t(d,!0));return h}var p=HI(f);delete p[kt];for(var v=wl(p),g=0;g<v.length;g++){var m=v[g];p[m]=t(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(s,a),l={i:s?5:4,A:o?o.A:B0(),P:!1,I:!1,R:{},l:o,t:a,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,kt,{value:l,writable:!0}),u},S:function(a,o,s){s?wo(o)&&o[kt].A===a&&e(a.p):(a.u&&function u(l){if(l&&typeof l=="object"){var c=l[kt];if(c){var f=c.t,h=c.k,d=c.R,p=c.i;if(p===4)vs(h,function(_){_!==kt&&(f[_]!==void 0||Sl(f,_)?d[_]||u(h[_]):(d[_]=!0,qa(c)))}),vs(f,function(_){h[_]!==void 0||Sl(h,_)||(d[_]=!1,qa(c))});else if(p===5){if(n(c)&&(qa(c),d.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)d[v]=!1;else for(var g=f.length;g<h.length;g++)d[g]=!0;for(var m=Math.min(h.length,f.length),y=0;y<m;y++)h.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&u(h[y])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var lA,Gc,gb=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",rU=typeof Map<"u",nU=typeof Set<"u",uA=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",YI=gb?Symbol.for("immer-nothing"):((lA={})["immer-nothing"]=!0,lA),cA=gb?Symbol.for("immer-draftable"):"__$immer_draftable",kt=gb?Symbol.for("immer-state"):"__$immer_state",iU=""+Object.prototype.constructor,wl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,HI=Object.getOwnPropertyDescriptors||function(t){var e={};return wl(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},$0={},Xc={get:function(t,e){if(e===kt)return t;var r=Vo(t);if(!Sl(r,e))return function(i,a,o){var s,u=oA(a,o);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!Na(n)?n:n===Jm(t.t,e)?(eg(t),t.o[e]=U0(t.A.h,n,t)):n},has:function(t,e){return e in Vo(t)},ownKeys:function(t){return Reflect.ownKeys(Vo(t))},set:function(t,e,r){var n=oA(Vo(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=Jm(Vo(t),e),a=i==null?void 0:i[kt];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(WI(r,i)&&(r!==void 0||Sl(t.t,e)))return!0;eg(t),qa(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return Jm(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,eg(t),qa(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Vo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){gi(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){gi(12)}},ic={};vs(Xc,function(t,e){ic[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ic.deleteProperty=function(t,e){return ic.set.call(this,t,e,void 0)},ic.set=function(t,e,r){return Xc.set.call(this,t[0],e,r,t[0])};var aU=function(){function t(r){var n=this;this.O=uA,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var u=n;return function(v){var g=this;v===void 0&&(v=s);for(var m=arguments.length,y=Array(m>1?m-1:0),_=1;_<m;_++)y[_-1]=arguments[_];return u.produce(v,function(x){var b;return(b=a).call.apply(b,[g,x].concat(y))})}}var l;if(typeof a!="function"&&gi(6),o!==void 0&&typeof o!="function"&&gi(7),Na(i)){var c=iA(n),f=U0(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?Kd(c):j0(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return Zm(c,o),Qm(v,c)},function(v){throw Kd(c),v}):(Zm(c,o),Qm(l,c))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===YI&&(l=void 0),n.D&&vb(l,!0),o){var d=[],p=[];Ki("Patches").M(i,l,d,p),o(d,p)}return l}gi(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(f))})};var o,s,u=n.produce(i,a,function(l,c){o=l,s=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,s]}):[u,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Na(r)||gi(8),wo(r)&&(r=eU(r));var n=iA(this),i=U0(this,r,void 0);return i[kt].C=!0,j0(n),i},e.finishDraft=function(r,n){var i=r&&r[kt],a=i.A;return Zm(a,n),Qm(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!uA&&gi(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=Ki("Patches").$;return wo(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),jn=new aU,qI=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseProxies.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function Rr(t){"@babel/helpers - typeof";return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(t)}function oU(t,e){if(Rr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KI(t){var e=oU(t,"string");return Rr(e)=="symbol"?e:e+""}function $n(t,e,r){return e=KI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var dA=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),tg=function(){return Math.random().toString(36).substring(7).split("").join(".")},Jd={INIT:"@@redux/INIT"+tg(),REPLACE:"@@redux/REPLACE"+tg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+tg()}};function sU(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ZI(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Hr(1));return r(ZI)(t,e)}if(typeof t!="function")throw new Error(Hr(2));var i=t,a=e,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(Hr(3));return a}function f(v){if(typeof v!="function")throw new Error(Hr(4));if(u)throw new Error(Hr(5));var g=!0;return l(),s.push(v),function(){if(g){if(u)throw new Error(Hr(6));g=!1,l();var y=s.indexOf(v);s.splice(y,1),o=null}}}function h(v){if(!sU(v))throw new Error(Hr(7));if(typeof v.type>"u")throw new Error(Hr(8));if(u)throw new Error(Hr(9));try{u=!0,a=i(a,v)}finally{u=!1}for(var g=o=s,m=0;m<g.length;m++){var y=g[m];y()}return v}function d(v){if(typeof v!="function")throw new Error(Hr(10));i=v,h({type:Jd.REPLACE})}function p(){var v,g=f;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Hr(11));function _(){y.next&&y.next(c())}_();var x=g(_);return{unsubscribe:x}}},v[dA]=function(){return this},v}return h({type:Jd.INIT}),n={dispatch:h,subscribe:f,getState:c,replaceReducer:d},n[dA]=p,n}function lU(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Jd.INIT});if(typeof n>"u")throw new Error(Hr(12));if(typeof r(void 0,{type:Jd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function uU(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{lU(r)}catch(s){o=s}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},h=0;h<a.length;h++){var d=a[h],p=r[d],v=u[d],g=p(v,l);if(typeof g>"u")throw l&&l.type,new Error(Hr(14));f[d]=g,c=c||g!==v}return c=c||a.length!==Object.keys(u).length,c?f:u}}function ep(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function cU(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(Hr(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(u){return u(o)});return a=ep.apply(void 0,s)(i.dispatch),hA(hA({},i),{},{dispatch:a})}}}function QI(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var JI=QI();JI.withExtraArgument=QI;const pA=JI;var ek=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fU=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Nl=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},hU=Object.defineProperty,dU=Object.defineProperties,pU=Object.getOwnPropertyDescriptors,vA=Object.getOwnPropertySymbols,vU=Object.prototype.hasOwnProperty,mU=Object.prototype.propertyIsEnumerable,mA=function(t,e,r){return e in t?hU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},ho=function(t,e){for(var r in e||(e={}))vU.call(e,r)&&mA(t,r,e[r]);if(vA)for(var n=0,i=vA(e);n<i.length;n++){var r=i[n];mU.call(e,r)&&mA(t,r,e[r])}return t},rg=function(t,e){return dU(t,pU(e))},gU=function(t,e,r){return new Promise(function(n,i){var a=function(u){try{s(r.next(u))}catch(l){i(l)}},o=function(u){try{s(r.throw(u))}catch(l){i(l)}},s=function(u){return u.done?n(u.value):Promise.resolve(u.value).then(a,o)};s((r=r.apply(t,e)).next())})},yU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ep:ep.apply(null,arguments)};function _U(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function po(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return ho(ho({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var xU=function(t){ek(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Nl([void 0],r[0].concat(this)))):new(e.bind.apply(e,Nl([void 0],r.concat(this))))},e}(Array),bU=function(t){ek(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Nl([void 0],r[0].concat(this)))):new(e.bind.apply(e,Nl([void 0],r.concat(this))))},e}(Array);function V0(t){return Na(t)?qI(t,function(){}):t}function SU(t){return typeof t=="boolean"}function wU(){return function(e){return tk(e)}}function tk(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new xU;return r&&(SU(r)?n.push(pA):n.push(pA.withExtraArgument(r.extraArgument))),n}var EU=!0;function TU(t){var e=wU(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,u=s===void 0?!0:s,l=r.preloadedState,c=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,d;if(typeof i=="function")d=i;else if(_U(i))d=uU(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var v=cU.apply(void 0,p),g=ep;u&&(g=yU(ho({trace:!EU},typeof u=="object"&&u)));var m=new bU(v),y=m;Array.isArray(h)?y=Nl([v],h):typeof h=="function"&&(y=h(m));var _=g.apply(void 0,y);return ZI(d,c,_)}function rk(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function AU(t){return typeof t=="function"}function CU(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?rk(e):[e,r,n],a=i[0],o=i[1],s=i[2],u;if(AU(t))u=function(){return V0(t())};else{var l=V0(t);u=function(){return l}}function c(f,h){f===void 0&&(f=u());var d=Nl([a[h.type]],o.filter(function(p){var v=p.matcher;return v(h)}).map(function(p){var v=p.reducer;return v}));return d.filter(function(p){return!!p}).length===0&&(d=[s]),d.reduce(function(p,v){if(v)if(wo(p)){var g=p,m=v(g,h);return m===void 0?p:m}else{if(Na(p))return qI(p,function(y){return v(y,h)});var m=v(p,h);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=u,c}function PU(t,e){return t+"/"+e}function Qp(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:V0(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(c){var f=n[c],h=PU(e,c),d,p;"reducer"in f?(d=f.reducer,p=f.prepare):d=f,a[c]=d,o[h]=d,s[c]=p?po(h,p):po(h)});function u(){var c=typeof t.extraReducers=="function"?rk(t.extraReducers):[t.extraReducers],f=c[0],h=f===void 0?{}:f,d=c[1],p=d===void 0?[]:d,v=c[2],g=v===void 0?void 0:v,m=ho(ho({},h),o);return CU(r,function(y){for(var _ in m)y.addCase(_,m[_]);for(var x=0,b=p;x<b.length;x++){var S=b[x];y.addMatcher(S.matcher,S.reducer)}g&&y.addDefaultCase(g)})}var l;return{name:e,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var OU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RU=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=OU[Math.random()*64|0];return e},IU=["name","message","stack","code"],ng=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),gA=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),kU=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=IU;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=po(e+"/fulfilled",function(l,c,f,h){return{payload:l,meta:rg(ho({},h||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),a=po(e+"/pending",function(l,c,f){return{payload:void 0,meta:rg(ho({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=po(e+"/rejected",function(l,c,f,h,d){return{payload:h,error:(n&&n.serializeError||kU)(l||"Rejected"),meta:rg(ho({},d||{}),{arg:f,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,h){var d=n!=null&&n.idGenerator?n.idGenerator(l):RU(),p=new s,v;function g(y){v=y,p.abort()}var m=function(){return gU(this,null,function(){var y,_,x,b,S,w,E;return fU(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),b=(y=n==null?void 0:n.condition)==null?void 0:y.call(n,l,{getState:f,extra:h}),FU(b)?[4,b]:[3,2];case 1:b=T.sent(),T.label=2;case 2:if(b===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(A,O){return p.signal.addEventListener("abort",function(){return O({name:"AbortError",message:v||"Aborted"})})}),c(a(d,l,(_=n==null?void 0:n.getPendingMeta)==null?void 0:_.call(n,{requestId:d,arg:l},{getState:f,extra:h}))),[4,Promise.race([S,Promise.resolve(r(l,{dispatch:c,getState:f,extra:h,requestId:d,signal:p.signal,abort:g,rejectWithValue:function(A,O){return new ng(A,O)},fulfillWithValue:function(A,O){return new gA(A,O)}})).then(function(A){if(A instanceof ng)throw A;return A instanceof gA?i(A.payload,d,l,A.meta):i(A,d,l)})])];case 3:return x=T.sent(),[3,5];case 4:return w=T.sent(),x=w instanceof ng?o(null,d,l,w.payload,w.meta):o(w,d,l),[3,5];case 5:return E=n&&!n.dispatchConditionRejection&&o.match(x)&&x.meta.condition,E||c(x),[2,x]}})})}();return Object.assign(m,{abort:g,requestId:d,arg:l,unwrap:function(){return m.then(MU)}})}}return Object.assign(u,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function MU(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function FU(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var yb="listenerMiddleware";po(yb+"/add");po(yb+"/removeAll");po(yb+"/remove");var yA;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);tU();function NU(){this.__data__=[],this.size=0}var LU=NU;function DU(t,e){return t===e||t!==t&&e!==e}var _b=DU,BU=_b;function jU(t,e){for(var r=t.length;r--;)if(BU(t[r][0],e))return r;return-1}var Jp=jU,UU=Jp,$U=Array.prototype,VU=$U.splice;function GU(t){var e=this.__data__,r=UU(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():VU.call(e,r,1),--this.size,!0}var XU=GU,zU=Jp;function WU(t){var e=this.__data__,r=zU(e,t);return r<0?void 0:e[r][1]}var YU=WU,HU=Jp;function qU(t){return HU(this.__data__,t)>-1}var KU=qU,ZU=Jp;function QU(t,e){var r=this.__data__,n=ZU(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var JU=QU,e$=LU,t$=XU,r$=YU,n$=KU,i$=JU;function iu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}iu.prototype.clear=e$;iu.prototype.delete=t$;iu.prototype.get=r$;iu.prototype.has=n$;iu.prototype.set=i$;var ev=iu,a$=ev;function o$(){this.__data__=new a$,this.size=0}var s$=o$;function l$(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var u$=l$;function c$(t){return this.__data__.get(t)}var f$=c$;function h$(t){return this.__data__.has(t)}var d$=h$,p$=typeof Qn=="object"&&Qn&&Qn.Object===Object&&Qn,nk=p$,v$=nk,m$=typeof self=="object"&&self&&self.Object===Object&&self,g$=v$||m$||Function("return this")(),Ei=g$,y$=Ei,_$=y$.Symbol,Nf=_$,_A=Nf,ik=Object.prototype,x$=ik.hasOwnProperty,b$=ik.toString,Bu=_A?_A.toStringTag:void 0;function S$(t){var e=x$.call(t,Bu),r=t[Bu];try{t[Bu]=void 0;var n=!0}catch{}var i=b$.call(t);return n&&(e?t[Bu]=r:delete t[Bu]),i}var w$=S$,E$=Object.prototype,T$=E$.toString;function A$(t){return T$.call(t)}var C$=A$,xA=Nf,P$=w$,O$=C$,R$="[object Null]",I$="[object Undefined]",bA=xA?xA.toStringTag:void 0;function k$(t){return t==null?t===void 0?I$:R$:bA&&bA in Object(t)?P$(t):O$(t)}var Lf=k$;function M$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sa=M$,F$=Lf,N$=sa,L$="[object AsyncFunction]",D$="[object Function]",B$="[object GeneratorFunction]",j$="[object Proxy]";function U$(t){if(!N$(t))return!1;var e=F$(t);return e==D$||e==B$||e==L$||e==j$}var ak=U$,$$=Ei,V$=$$["__core-js_shared__"],G$=V$,ig=G$,SA=function(){var t=/[^.]+$/.exec(ig&&ig.keys&&ig.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function X$(t){return!!SA&&SA in t}var z$=X$,W$=Function.prototype,Y$=W$.toString;function H$(t){if(t!=null){try{return Y$.call(t)}catch{}try{return t+""}catch{}}return""}var ok=H$,q$=ak,K$=z$,Z$=sa,Q$=ok,J$=/[\\^$.*+?()[\]{}|]/g,e8=/^\[object .+?Constructor\]$/,t8=Function.prototype,r8=Object.prototype,n8=t8.toString,i8=r8.hasOwnProperty,a8=RegExp("^"+n8.call(i8).replace(J$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o8(t){if(!Z$(t)||K$(t))return!1;var e=q$(t)?a8:e8;return e.test(Q$(t))}var s8=o8;function l8(t,e){return t==null?void 0:t[e]}var u8=l8,c8=s8,f8=u8;function h8(t,e){var r=f8(t,e);return c8(r)?r:void 0}var Cs=h8,d8=Cs,p8=Ei,v8=d8(p8,"Map"),xb=v8,m8=Cs,g8=m8(Object,"create"),tv=g8,wA=tv;function y8(){this.__data__=wA?wA(null):{},this.size=0}var _8=y8;function x8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var b8=x8,S8=tv,w8="__lodash_hash_undefined__",E8=Object.prototype,T8=E8.hasOwnProperty;function A8(t){var e=this.__data__;if(S8){var r=e[t];return r===w8?void 0:r}return T8.call(e,t)?e[t]:void 0}var C8=A8,P8=tv,O8=Object.prototype,R8=O8.hasOwnProperty;function I8(t){var e=this.__data__;return P8?e[t]!==void 0:R8.call(e,t)}var k8=I8,M8=tv,F8="__lodash_hash_undefined__";function N8(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=M8&&e===void 0?F8:e,this}var L8=N8,D8=_8,B8=b8,j8=C8,U8=k8,$8=L8;function au(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}au.prototype.clear=D8;au.prototype.delete=B8;au.prototype.get=j8;au.prototype.has=U8;au.prototype.set=$8;var V8=au,EA=V8,G8=ev,X8=xb;function z8(){this.size=0,this.__data__={hash:new EA,map:new(X8||G8),string:new EA}}var W8=z8;function Y8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var H8=Y8,q8=H8;function K8(t,e){var r=t.__data__;return q8(e)?r[typeof e=="string"?"string":"hash"]:r.map}var rv=K8,Z8=rv;function Q8(t){var e=Z8(this,t).delete(t);return this.size-=e?1:0,e}var J8=Q8,eV=rv;function tV(t){return eV(this,t).get(t)}var rV=tV,nV=rv;function iV(t){return nV(this,t).has(t)}var aV=iV,oV=rv;function sV(t,e){var r=oV(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var lV=sV,uV=W8,cV=J8,fV=rV,hV=aV,dV=lV;function ou(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ou.prototype.clear=uV;ou.prototype.delete=cV;ou.prototype.get=fV;ou.prototype.has=hV;ou.prototype.set=dV;var bb=ou,pV=ev,vV=xb,mV=bb,gV=200;function yV(t,e){var r=this.__data__;if(r instanceof pV){var n=r.__data__;if(!vV||n.length<gV-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new mV(n)}return r.set(t,e),this.size=r.size,this}var _V=yV,xV=ev,bV=s$,SV=u$,wV=f$,EV=d$,TV=_V;function su(t){var e=this.__data__=new xV(t);this.size=e.size}su.prototype.clear=bV;su.prototype.delete=SV;su.prototype.get=wV;su.prototype.has=EV;su.prototype.set=TV;var Sb=su;function AV(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var CV=AV,PV=Cs,OV=function(){try{var t=PV(Object,"defineProperty");return t({},"",{}),t}catch{}}(),RV=OV,TA=RV;function IV(t,e,r){e=="__proto__"&&TA?TA(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var sk=IV,kV=sk,MV=_b,FV=Object.prototype,NV=FV.hasOwnProperty;function LV(t,e,r){var n=t[e];(!(NV.call(t,e)&&MV(n,r))||r===void 0&&!(e in t))&&kV(t,e,r)}var wb=LV,DV=wb,BV=sk;function jV(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=n?n(r[s],t[s],s,r,t):void 0;u===void 0&&(u=t[s]),i?BV(r,s,u):DV(r,s,u)}return r}var nv=jV;function UV(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var $V=UV;function VV(t){return t!=null&&typeof t=="object"}var Ps=VV,GV=Lf,XV=Ps,zV="[object Arguments]";function WV(t){return XV(t)&&GV(t)==zV}var YV=WV,AA=YV,HV=Ps,lk=Object.prototype,qV=lk.hasOwnProperty,KV=lk.propertyIsEnumerable,ZV=AA(function(){return arguments}())?AA:function(t){return HV(t)&&qV.call(t,"callee")&&!KV.call(t,"callee")},uk=ZV,QV=Array.isArray,Da=QV,tp={exports:{}};function JV(){return!1}var e6=JV;tp.exports;(function(t,e){var r=Ei,n=e6,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;t.exports=l})(tp,tp.exports);var Eb=tp.exports,t6=9007199254740991,r6=/^(?:0|[1-9]\d*)$/;function n6(t,e){var r=typeof t;return e=e??t6,!!e&&(r=="number"||r!="symbol"&&r6.test(t))&&t>-1&&t%1==0&&t<e}var Tb=n6,i6=9007199254740991;function a6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=i6}var Ab=a6,o6=Lf,s6=Ab,l6=Ps,u6="[object Arguments]",c6="[object Array]",f6="[object Boolean]",h6="[object Date]",d6="[object Error]",p6="[object Function]",v6="[object Map]",m6="[object Number]",g6="[object Object]",y6="[object RegExp]",_6="[object Set]",x6="[object String]",b6="[object WeakMap]",S6="[object ArrayBuffer]",w6="[object DataView]",E6="[object Float32Array]",T6="[object Float64Array]",A6="[object Int8Array]",C6="[object Int16Array]",P6="[object Int32Array]",O6="[object Uint8Array]",R6="[object Uint8ClampedArray]",I6="[object Uint16Array]",k6="[object Uint32Array]",At={};At[E6]=At[T6]=At[A6]=At[C6]=At[P6]=At[O6]=At[R6]=At[I6]=At[k6]=!0;At[u6]=At[c6]=At[S6]=At[f6]=At[w6]=At[h6]=At[d6]=At[p6]=At[v6]=At[m6]=At[g6]=At[y6]=At[_6]=At[x6]=At[b6]=!1;function M6(t){return l6(t)&&s6(t.length)&&!!At[o6(t)]}var F6=M6;function N6(t){return function(e){return t(e)}}var Cb=N6,rp={exports:{}};rp.exports;(function(t,e){var r=nk,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(rp,rp.exports);var Pb=rp.exports,L6=F6,D6=Cb,CA=Pb,PA=CA&&CA.isTypedArray,B6=PA?D6(PA):L6,ck=B6,j6=$V,U6=uk,$6=Da,V6=Eb,G6=Tb,X6=ck,z6=Object.prototype,W6=z6.hasOwnProperty;function Y6(t,e){var r=$6(t),n=!r&&U6(t),i=!r&&!n&&V6(t),a=!r&&!n&&!i&&X6(t),o=r||n||i||a,s=o?j6(t.length,String):[],u=s.length;for(var l in t)(e||W6.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||G6(l,u)))&&s.push(l);return s}var fk=Y6,H6=Object.prototype;function q6(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||H6;return t===r}var Ob=q6;function K6(t,e){return function(r){return t(e(r))}}var hk=K6,Z6=hk,Q6=Z6(Object.keys,Object),J6=Q6,e5=Ob,t5=J6,r5=Object.prototype,n5=r5.hasOwnProperty;function i5(t){if(!e5(t))return t5(t);var e=[];for(var r in Object(t))n5.call(t,r)&&r!="constructor"&&e.push(r);return e}var a5=i5,o5=ak,s5=Ab;function l5(t){return t!=null&&s5(t.length)&&!o5(t)}var dk=l5,u5=fk,c5=a5,f5=dk;function h5(t){return f5(t)?u5(t):c5(t)}var iv=h5,d5=nv,p5=iv;function v5(t,e){return t&&d5(e,p5(e),t)}var m5=v5;function g5(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var y5=g5,_5=sa,x5=Ob,b5=y5,S5=Object.prototype,w5=S5.hasOwnProperty;function E5(t){if(!_5(t))return b5(t);var e=x5(t),r=[];for(var n in t)n=="constructor"&&(e||!w5.call(t,n))||r.push(n);return r}var T5=E5,A5=fk,C5=T5,P5=dk;function O5(t){return P5(t)?A5(t,!0):C5(t)}var Rb=O5,R5=nv,I5=Rb;function k5(t,e){return t&&R5(e,I5(e),t)}var M5=k5,np={exports:{}};np.exports;(function(t,e){var r=Ei,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=u})(np,np.exports);var F5=np.exports;function N5(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var L5=N5;function D5(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var B5=D5;function j5(){return[]}var pk=j5,U5=B5,$5=pk,V5=Object.prototype,G5=V5.propertyIsEnumerable,OA=Object.getOwnPropertySymbols,X5=OA?function(t){return t==null?[]:(t=Object(t),U5(OA(t),function(e){return G5.call(t,e)}))}:$5,Ib=X5,z5=nv,W5=Ib;function Y5(t,e){return z5(t,W5(t),e)}var H5=Y5;function q5(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var vk=q5,K5=hk,Z5=K5(Object.getPrototypeOf,Object),mk=Z5,Q5=vk,J5=mk,eG=Ib,tG=pk,rG=Object.getOwnPropertySymbols,nG=rG?function(t){for(var e=[];t;)Q5(e,eG(t)),t=J5(t);return e}:tG,gk=nG,iG=nv,aG=gk;function oG(t,e){return iG(t,aG(t),e)}var sG=oG,lG=vk,uG=Da;function cG(t,e,r){var n=e(t);return uG(t)?n:lG(n,r(t))}var yk=cG,fG=yk,hG=Ib,dG=iv;function pG(t){return fG(t,dG,hG)}var _k=pG,vG=yk,mG=gk,gG=Rb;function yG(t){return vG(t,gG,mG)}var xk=yG,_G=Cs,xG=Ei,bG=_G(xG,"DataView"),SG=bG,wG=Cs,EG=Ei,TG=wG(EG,"Promise"),AG=TG,CG=Cs,PG=Ei,OG=CG(PG,"Set"),bk=OG,RG=Cs,IG=Ei,kG=RG(IG,"WeakMap"),MG=kG,G0=SG,X0=xb,z0=AG,W0=bk,Y0=MG,Sk=Lf,lu=ok,RA="[object Map]",FG="[object Object]",IA="[object Promise]",kA="[object Set]",MA="[object WeakMap]",FA="[object DataView]",NG=lu(G0),LG=lu(X0),DG=lu(z0),BG=lu(W0),jG=lu(Y0),Go=Sk;(G0&&Go(new G0(new ArrayBuffer(1)))!=FA||X0&&Go(new X0)!=RA||z0&&Go(z0.resolve())!=IA||W0&&Go(new W0)!=kA||Y0&&Go(new Y0)!=MA)&&(Go=function(t){var e=Sk(t),r=e==FG?t.constructor:void 0,n=r?lu(r):"";if(n)switch(n){case NG:return FA;case LG:return RA;case DG:return IA;case BG:return kA;case jG:return MA}return e});var av=Go,UG=Object.prototype,$G=UG.hasOwnProperty;function VG(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&$G.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var GG=VG,XG=Ei,zG=XG.Uint8Array,wk=zG,NA=wk;function WG(t){var e=new t.constructor(t.byteLength);return new NA(e).set(new NA(t)),e}var kb=WG,YG=kb;function HG(t,e){var r=e?YG(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var qG=HG,KG=/\w*$/;function ZG(t){var e=new t.constructor(t.source,KG.exec(t));return e.lastIndex=t.lastIndex,e}var QG=ZG,LA=Nf,DA=LA?LA.prototype:void 0,BA=DA?DA.valueOf:void 0;function JG(t){return BA?Object(BA.call(t)):{}}var e9=JG,t9=kb;function r9(t,e){var r=e?t9(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var n9=r9,i9=kb,a9=qG,o9=QG,s9=e9,l9=n9,u9="[object Boolean]",c9="[object Date]",f9="[object Map]",h9="[object Number]",d9="[object RegExp]",p9="[object Set]",v9="[object String]",m9="[object Symbol]",g9="[object ArrayBuffer]",y9="[object DataView]",_9="[object Float32Array]",x9="[object Float64Array]",b9="[object Int8Array]",S9="[object Int16Array]",w9="[object Int32Array]",E9="[object Uint8Array]",T9="[object Uint8ClampedArray]",A9="[object Uint16Array]",C9="[object Uint32Array]";function P9(t,e,r){var n=t.constructor;switch(e){case g9:return i9(t);case u9:case c9:return new n(+t);case y9:return a9(t,r);case _9:case x9:case b9:case S9:case w9:case E9:case T9:case A9:case C9:return l9(t,r);case f9:return new n;case h9:case v9:return new n(t);case d9:return o9(t);case p9:return new n;case m9:return s9(t)}}var O9=P9,R9=sa,jA=Object.create,I9=function(){function t(){}return function(e){if(!R9(e))return{};if(jA)return jA(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),k9=I9,M9=k9,F9=mk,N9=Ob;function L9(t){return typeof t.constructor=="function"&&!N9(t)?M9(F9(t)):{}}var D9=L9,B9=av,j9=Ps,U9="[object Map]";function $9(t){return j9(t)&&B9(t)==U9}var V9=$9,G9=V9,X9=Cb,UA=Pb,$A=UA&&UA.isMap,z9=$A?X9($A):G9,W9=z9,Y9=av,H9=Ps,q9="[object Set]";function K9(t){return H9(t)&&Y9(t)==q9}var Z9=K9,Q9=Z9,J9=Cb,VA=Pb,GA=VA&&VA.isSet,eX=GA?J9(GA):Q9,tX=eX,rX=Sb,nX=CV,iX=wb,aX=m5,oX=M5,sX=F5,lX=L5,uX=H5,cX=sG,fX=_k,hX=xk,dX=av,pX=GG,vX=O9,mX=D9,gX=Da,yX=Eb,_X=W9,xX=sa,bX=tX,SX=iv,wX=Rb,EX=1,TX=2,AX=4,Ek="[object Arguments]",CX="[object Array]",PX="[object Boolean]",OX="[object Date]",RX="[object Error]",Tk="[object Function]",IX="[object GeneratorFunction]",kX="[object Map]",MX="[object Number]",Ak="[object Object]",FX="[object RegExp]",NX="[object Set]",LX="[object String]",DX="[object Symbol]",BX="[object WeakMap]",jX="[object ArrayBuffer]",UX="[object DataView]",$X="[object Float32Array]",VX="[object Float64Array]",GX="[object Int8Array]",XX="[object Int16Array]",zX="[object Int32Array]",WX="[object Uint8Array]",YX="[object Uint8ClampedArray]",HX="[object Uint16Array]",qX="[object Uint32Array]",xt={};xt[Ek]=xt[CX]=xt[jX]=xt[UX]=xt[PX]=xt[OX]=xt[$X]=xt[VX]=xt[GX]=xt[XX]=xt[zX]=xt[kX]=xt[MX]=xt[Ak]=xt[FX]=xt[NX]=xt[LX]=xt[DX]=xt[WX]=xt[YX]=xt[HX]=xt[qX]=!0;xt[RX]=xt[Tk]=xt[BX]=!1;function ld(t,e,r,n,i,a){var o,s=e&EX,u=e&TX,l=e&AX;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!xX(t))return t;var c=gX(t);if(c){if(o=pX(t),!s)return lX(t,o)}else{var f=dX(t),h=f==Tk||f==IX;if(yX(t))return sX(t,s);if(f==Ak||f==Ek||h&&!i){if(o=u||h?{}:mX(t),!s)return u?cX(t,oX(o,t)):uX(t,aX(o,t))}else{if(!xt[f])return i?t:{};o=vX(t,f,s)}}a||(a=new rX);var d=a.get(t);if(d)return d;a.set(t,o),bX(t)?t.forEach(function(g){o.add(ld(g,e,r,g,t,a))}):_X(t)&&t.forEach(function(g,m){o.set(m,ld(g,e,r,m,t,a))});var p=l?u?hX:fX:u?wX:SX,v=c?void 0:p(t);return nX(v||t,function(g,m){v&&(m=g,g=t[m]),iX(o,m,ld(g,e,r,m,t,a))}),o}var KX=ld,ZX=KX,QX=1,JX=4;function ez(t){return ZX(t,QX|JX)}var tz=ez;const Jt=gn(tz);var Qe=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t))(Qe||{});const dh={BGMAIN:"bg-main",FIG_C:"fig-center",FIG_L:"fig-left",FIG_R:"fig-right"},Ck={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},uiSe:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},figureMetaData:{}},Mb=Qp({name:"stage",initialState:Jt(Ck),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload;if(![dh.BGMAIN,dh.FIG_C,dh.FIG_L,dh.FIG_R,...t.freeFigure.map(o=>o.key)].includes(r))return;const a=t.effects.findIndex(o=>o.target===r);a>=0?t.effects[a].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Qe.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);if(i>=0)if(n.name===""){r.splice(i,1);const a=t.figureAssociatedAnimation.findIndex(o=>o.targetId===n.key);t.figureAssociatedAnimation.splice(a,1)}else r[i].basePosition=n.basePosition,r[i].name=n.name;else n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n,overrideBounds:i}=e.payload,a=t.live2dMotion.findIndex(o=>o.target===r);a<0?t.live2dMotion.push({target:r,motion:n,overrideBounds:i}):(t.live2dMotion[a].motion=n,t.live2dMotion[a].overrideBounds=i)},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setFigureMetaData:(t,e)=>{e.payload[3]?t.figureMetaData[e.payload[0]]&&delete t.figureMetaData[e.payload[0]]:(console.log("yeah"),t.figureMetaData[e.payload[0]]||(t.figureMetaData[e.payload[0]]={}),t.figureMetaData[e.payload[0]][e.payload[1]]=e.payload[2])}}}),{resetStageState:ov,setStage:Ge,setStageVar:Pk}=Mb.actions,Tr=Mb.actions,rz=Mb.reducer;function ph(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ok={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,c){if(!i[l]){if(!n[l]){var f=typeof ph=="function"&&ph;if(!c&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[l]={exports:{}};n[l][0].call(d.exports,function(p){var v=n[l][1][p];return o(v||p)},d,d.exports,r,n,i,a)}return i[l].exports}for(var s=typeof ph=="function"&&ph,u=0;u<a.length;u++)o(a[u]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var u=0,l=new o(p),c=a.document.createTextNode("");l.observe(c,{characterData:!0}),s=function(){c.data=u=++u%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=p,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var g=a.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:s=function(){setTimeout(p,0)};var h,d=[];function p(){h=!0;for(var g,m,y=d.length;y;){for(m=d,d=[],g=-1;++g<y;)m[g]();y=d.length}h=!1}n.exports=v;function v(g){d.push(g)===1&&!h&&s()}}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];n.exports=f;function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,b!==o&&v(this,b)}f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,S){if(typeof b!="function"&&this.state===l||typeof S!="function"&&this.state===u)return this;var w=new this.constructor(o);if(this.state!==c){var E=this.state===l?b:S;d(w,E,this.outcome)}else this.queue.push(new h(w,b,S));return w};function h(b,S,w){this.promise=b,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(b){s.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){d(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){s.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){d(this.promise,this.onRejected,b)};function d(b,S,w){a(function(){var E;try{E=S(w)}catch(T){return s.reject(b,T)}E===b?s.reject(b,new TypeError("Cannot resolve promise with itself")):s.resolve(b,E)})}s.resolve=function(b,S){var w=g(p,S);if(w.status==="error")return s.reject(b,w.value);var E=w.value;if(E)v(b,E);else{b.state=l,b.outcome=S;for(var T=-1,A=b.queue.length;++T<A;)b.queue[T].callFulfilled(S)}return b},s.reject=function(b,S){b.state=u,b.outcome=S;for(var w=-1,E=b.queue.length;++w<E;)b.queue[w].callRejected(S);return b};function p(b){var S=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof S=="function")return function(){S.apply(b,arguments)}}function v(b,S){var w=!1;function E(P){w||(w=!0,s.reject(b,P))}function T(P){w||(w=!0,s.resolve(b,P))}function A(){S(T,E)}var O=g(A);O.status==="error"&&E(O.value)}function g(b,S){var w={};try{w.value=b(S),w.status="success"}catch(E){w.status="error",w.value=E}return w}f.resolve=m;function m(b){return b instanceof this?b:s.resolve(new this(o),b)}f.reject=y;function y(b){var S=new this(o);return s.reject(S,b)}f.all=_;function _(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,E=!1;if(!w)return this.resolve([]);for(var T=new Array(w),A=0,O=-1,P=new this(o);++O<w;)k(b[O],O);return P;function k(M,B){S.resolve(M).then(j,function(z){E||(E=!0,s.reject(P,z))});function j(z){T[B]=z,++A===w&&!E&&(E=!0,s.resolve(P,T))}}}f.race=x;function x(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,E=!1;if(!w)return this.resolve([]);for(var T=-1,A=new this(o);++T<w;)O(b[T]);return A;function O(P){S.resolve(P).then(function(k){E||(E=!0,s.resolve(A,k))},function(k){E||(E=!0,s.reject(A,k))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof Qn<"u"?Qn:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function o(I,X){if(!(I instanceof X))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=s();function l(){try{if(!u||!u.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),X=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||X)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(I,X){I=I||[],X=X||{};try{return new Blob(I,X)}catch(W){if(W.name!=="TypeError")throw W;for(var D=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Y=new D,K=0;K<I.length;K+=1)Y.append(I[K]);return Y.getBlob(X.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(I,X){X&&I.then(function(D){X(null,D)},function(D){X(D)})}function d(I,X,D){typeof X=="function"&&I.then(X),typeof D=="function"&&I.catch(D)}function p(I){return typeof I!="string"&&(console.warn(I+" used as a key, but it is not a string."),I=String(I)),I}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",m=void 0,y={},_=Object.prototype.toString,x="readonly",b="readwrite";function S(I){for(var X=I.length,D=new ArrayBuffer(X),Y=new Uint8Array(D),K=0;K<X;K++)Y[K]=I.charCodeAt(K);return D}function w(I){return new f(function(X){var D=I.transaction(g,b),Y=c([""]);D.objectStore(g).put(Y,"key"),D.onabort=function(K){K.preventDefault(),K.stopPropagation(),X(!1)},D.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),W=navigator.userAgent.match(/Edge\//);X(W||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function E(I){return typeof m=="boolean"?f.resolve(m):w(I).then(function(X){return m=X,m})}function T(I){var X=y[I.name],D={};D.promise=new f(function(Y,K){D.resolve=Y,D.reject=K}),X.deferredOperations.push(D),X.dbReady?X.dbReady=X.dbReady.then(function(){return D.promise}):X.dbReady=D.promise}function A(I){var X=y[I.name],D=X.deferredOperations.pop();if(D)return D.resolve(),D.promise}function O(I,X){var D=y[I.name],Y=D.deferredOperations.pop();if(Y)return Y.reject(X),Y.promise}function P(I,X){return new f(function(D,Y){if(y[I.name]=y[I.name]||G(),I.db)if(X)T(I),I.db.close();else return D(I.db);var K=[I.name];X&&K.push(I.version);var W=u.open.apply(u,K);X&&(W.onupgradeneeded=function(re){var se=W.result;try{se.createObjectStore(I.storeName),re.oldVersion<=1&&se.createObjectStore(g)}catch(ue){if(ue.name==="ConstraintError")console.warn('The database "'+I.name+'" has been upgraded from version '+re.oldVersion+" to version "+re.newVersion+', but the storage "'+I.storeName+'" already exists.');else throw ue}}),W.onerror=function(re){re.preventDefault(),Y(W.error)},W.onsuccess=function(){var re=W.result;re.onversionchange=function(se){se.target.close()},D(re),A(I)}})}function k(I){return P(I,!1)}function M(I){return P(I,!0)}function B(I,X){if(!I.db)return!0;var D=!I.db.objectStoreNames.contains(I.storeName),Y=I.version<I.db.version,K=I.version>I.db.version;if(Y&&(I.version!==X&&console.warn('The database "'+I.name+`" can't be downgraded from version `+I.db.version+" to version "+I.version+"."),I.version=I.db.version),K||D){if(D){var W=I.db.version+1;W>I.version&&(I.version=W)}return!0}return!1}function j(I){return new f(function(X,D){var Y=new FileReader;Y.onerror=D,Y.onloadend=function(K){var W=btoa(K.target.result||"");X({__local_forage_encoded_blob:!0,data:W,type:I.type})},Y.readAsBinaryString(I)})}function z(I){var X=S(atob(I.data));return c([X],{type:I.type})}function J(I){return I&&I.__local_forage_encoded_blob}function Z(I){var X=this,D=X._initReady().then(function(){var Y=y[X._dbInfo.name];if(Y&&Y.dbReady)return Y.dbReady});return d(D,I,I),D}function $(I){T(I);for(var X=y[I.name],D=X.forages,Y=0;Y<D.length;Y++){var K=D[Y];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return I.db=null,k(I).then(function(W){return I.db=W,B(I)?M(I):W}).then(function(W){I.db=X.db=W;for(var re=0;re<D.length;re++)D[re]._dbInfo.db=W}).catch(function(W){throw O(I,W),W})}function F(I,X,D,Y){Y===void 0&&(Y=1);try{var K=I.db.transaction(I.storeName,X);D(null,K)}catch(W){if(Y>0&&(!I.db||W.name==="InvalidStateError"||W.name==="NotFoundError"))return f.resolve().then(function(){if(!I.db||W.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),M(I)}).then(function(){return $(I).then(function(){F(I,X,D,Y-1)})}).catch(D);D(W)}}function G(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function V(I){var X=this,D={db:null};if(I)for(var Y in I)D[Y]=I[Y];var K=y[D.name];K||(K=G(),y[D.name]=K),K.forages.push(X),X._initReady||(X._initReady=X.ready,X.ready=Z);var W=[];function re(){return f.resolve()}for(var se=0;se<K.forages.length;se++){var ue=K.forages[se];ue!==X&&W.push(ue._initReady().catch(re))}var ce=K.forages.slice(0);return f.all(W).then(function(){return D.db=K.db,k(D)}).then(function(me){return D.db=me,B(D,X._defaultConfig.version)?M(D):me}).then(function(me){D.db=K.db=me,X._dbInfo=D;for(var Pe=0;Pe<ce.length;Pe++){var ze=ce[Pe];ze!==X&&(ze._dbInfo.db=D.db,ze._dbInfo.version=D.version)}})}function U(I,X){var D=this;I=p(I);var Y=new f(function(K,W){D.ready().then(function(){F(D._dbInfo,x,function(re,se){if(re)return W(re);try{var ue=se.objectStore(D._dbInfo.storeName),ce=ue.get(I);ce.onsuccess=function(){var me=ce.result;me===void 0&&(me=null),J(me)&&(me=z(me)),K(me)},ce.onerror=function(){W(ce.error)}}catch(me){W(me)}})}).catch(W)});return h(Y,X),Y}function H(I,X){var D=this,Y=new f(function(K,W){D.ready().then(function(){F(D._dbInfo,x,function(re,se){if(re)return W(re);try{var ue=se.objectStore(D._dbInfo.storeName),ce=ue.openCursor(),me=1;ce.onsuccess=function(){var Pe=ce.result;if(Pe){var ze=Pe.value;J(ze)&&(ze=z(ze));var lt=I(ze,Pe.key,me++);lt!==void 0?K(lt):Pe.continue()}else K()},ce.onerror=function(){W(ce.error)}}catch(Pe){W(Pe)}})}).catch(W)});return h(Y,X),Y}function ee(I,X,D){var Y=this;I=p(I);var K=new f(function(W,re){var se;Y.ready().then(function(){return se=Y._dbInfo,_.call(X)==="[object Blob]"?E(se.db).then(function(ue){return ue?X:j(X)}):X}).then(function(ue){F(Y._dbInfo,b,function(ce,me){if(ce)return re(ce);try{var Pe=me.objectStore(Y._dbInfo.storeName);ue===null&&(ue=void 0);var ze=Pe.put(ue,I);me.oncomplete=function(){ue===void 0&&(ue=null),W(ue)},me.onabort=me.onerror=function(){var lt=ze.error?ze.error:ze.transaction.error;re(lt)}}catch(lt){re(lt)}})}).catch(re)});return h(K,D),K}function ie(I,X){var D=this;I=p(I);var Y=new f(function(K,W){D.ready().then(function(){F(D._dbInfo,b,function(re,se){if(re)return W(re);try{var ue=se.objectStore(D._dbInfo.storeName),ce=ue.delete(I);se.oncomplete=function(){K()},se.onerror=function(){W(ce.error)},se.onabort=function(){var me=ce.error?ce.error:ce.transaction.error;W(me)}}catch(me){W(me)}})}).catch(W)});return h(Y,X),Y}function ae(I){var X=this,D=new f(function(Y,K){X.ready().then(function(){F(X._dbInfo,b,function(W,re){if(W)return K(W);try{var se=re.objectStore(X._dbInfo.storeName),ue=se.clear();re.oncomplete=function(){Y()},re.onabort=re.onerror=function(){var ce=ue.error?ue.error:ue.transaction.error;K(ce)}}catch(ce){K(ce)}})}).catch(K)});return h(D,I),D}function pe(I){var X=this,D=new f(function(Y,K){X.ready().then(function(){F(X._dbInfo,x,function(W,re){if(W)return K(W);try{var se=re.objectStore(X._dbInfo.storeName),ue=se.count();ue.onsuccess=function(){Y(ue.result)},ue.onerror=function(){K(ue.error)}}catch(ce){K(ce)}})}).catch(K)});return h(D,I),D}function ye(I,X){var D=this,Y=new f(function(K,W){if(I<0){K(null);return}D.ready().then(function(){F(D._dbInfo,x,function(re,se){if(re)return W(re);try{var ue=se.objectStore(D._dbInfo.storeName),ce=!1,me=ue.openKeyCursor();me.onsuccess=function(){var Pe=me.result;if(!Pe){K(null);return}I===0||ce?K(Pe.key):(ce=!0,Pe.advance(I))},me.onerror=function(){W(me.error)}}catch(Pe){W(Pe)}})}).catch(W)});return h(Y,X),Y}function oe(I){var X=this,D=new f(function(Y,K){X.ready().then(function(){F(X._dbInfo,x,function(W,re){if(W)return K(W);try{var se=re.objectStore(X._dbInfo.storeName),ue=se.openKeyCursor(),ce=[];ue.onsuccess=function(){var me=ue.result;if(!me){Y(ce);return}ce.push(me.key),me.continue()},ue.onerror=function(){K(ue.error)}}catch(me){K(me)}})}).catch(K)});return h(D,I),D}function _e(I,X){X=v.apply(this,arguments);var D=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||D.name,I.storeName=I.storeName||D.storeName);var Y=this,K;if(!I.name)K=f.reject("Invalid arguments");else{var W=I.name===D.name&&Y._dbInfo.db,re=W?f.resolve(Y._dbInfo.db):k(I).then(function(se){var ue=y[I.name],ce=ue.forages;ue.db=se;for(var me=0;me<ce.length;me++)ce[me]._dbInfo.db=se;return se});I.storeName?K=re.then(function(se){if(se.objectStoreNames.contains(I.storeName)){var ue=se.version+1;T(I);var ce=y[I.name],me=ce.forages;se.close();for(var Pe=0;Pe<me.length;Pe++){var ze=me[Pe];ze._dbInfo.db=null,ze._dbInfo.version=ue}var lt=new f(function(ft,rr){var qt=u.open(I.name,ue);qt.onerror=function(zn){var Tu=qt.result;Tu.close(),rr(zn)},qt.onupgradeneeded=function(){var zn=qt.result;zn.deleteObjectStore(I.storeName)},qt.onsuccess=function(){var zn=qt.result;zn.close(),ft(zn)}});return lt.then(function(ft){ce.db=ft;for(var rr=0;rr<me.length;rr++){var qt=me[rr];qt._dbInfo.db=ft,A(qt._dbInfo)}}).catch(function(ft){throw(O(I,ft)||f.resolve()).catch(function(){}),ft})}}):K=re.then(function(se){T(I);var ue=y[I.name],ce=ue.forages;se.close();for(var me=0;me<ce.length;me++){var Pe=ce[me];Pe._dbInfo.db=null}var ze=new f(function(lt,ft){var rr=u.deleteDatabase(I.name);rr.onerror=function(){var qt=rr.result;qt&&qt.close(),ft(rr.error)},rr.onblocked=function(){console.warn('dropInstance blocked for database "'+I.name+'" until all open connections are closed')},rr.onsuccess=function(){var qt=rr.result;qt&&qt.close(),lt(qt)}});return ze.then(function(lt){ue.db=lt;for(var ft=0;ft<ce.length;ft++){var rr=ce[ft];A(rr._dbInfo)}}).catch(function(lt){throw(O(I,lt)||f.resolve()).catch(function(){}),lt})})}return h(K,X),K}var Ce={_driver:"asyncStorage",_initStorage:V,_support:l(),iterate:H,getItem:U,setItem:ee,removeItem:ie,clear:ae,length:pe,key:ye,keys:oe,dropInstance:_e};function be(){return typeof openDatabase=="function"}var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke="~~local_forage_type~",we=/^~~local_forage_type~([^~]+)~/,Xe="__lfsc__:",tt=Xe.length,Et="arbf",$t="blob",Ht="si08",_t="ui08",lr="uic8",Dr="si16",ur="si32",xr="ur16",Br="ui32",br="fl32",Ri="fl64",Vt=tt+Et.length,pa=Object.prototype.toString;function Ba(I){var X=I.length*.75,D=I.length,Y,K=0,W,re,se,ue;I[I.length-1]==="="&&(X--,I[I.length-2]==="="&&X--);var ce=new ArrayBuffer(X),me=new Uint8Array(ce);for(Y=0;Y<D;Y+=4)W=Oe.indexOf(I[Y]),re=Oe.indexOf(I[Y+1]),se=Oe.indexOf(I[Y+2]),ue=Oe.indexOf(I[Y+3]),me[K++]=W<<2|re>>4,me[K++]=(re&15)<<4|se>>2,me[K++]=(se&3)<<6|ue&63;return ce}function ct(I){var X=new Uint8Array(I),D="",Y;for(Y=0;Y<X.length;Y+=3)D+=Oe[X[Y]>>2],D+=Oe[(X[Y]&3)<<4|X[Y+1]>>4],D+=Oe[(X[Y+1]&15)<<2|X[Y+2]>>6],D+=Oe[X[Y+2]&63];return X.length%3===2?D=D.substring(0,D.length-1)+"=":X.length%3===1&&(D=D.substring(0,D.length-2)+"=="),D}function oi(I,X){var D="";if(I&&(D=pa.call(I)),I&&(D==="[object ArrayBuffer]"||I.buffer&&pa.call(I.buffer)==="[object ArrayBuffer]")){var Y,K=Xe;I instanceof ArrayBuffer?(Y=I,K+=Et):(Y=I.buffer,D==="[object Int8Array]"?K+=Ht:D==="[object Uint8Array]"?K+=_t:D==="[object Uint8ClampedArray]"?K+=lr:D==="[object Int16Array]"?K+=Dr:D==="[object Uint16Array]"?K+=xr:D==="[object Int32Array]"?K+=ur:D==="[object Uint32Array]"?K+=Br:D==="[object Float32Array]"?K+=br:D==="[object Float64Array]"?K+=Ri:X(new Error("Failed to get type for BinaryArray"))),X(K+ct(Y))}else if(D==="[object Blob]"){var W=new FileReader;W.onload=function(){var re=ke+I.type+"~"+ct(this.result);X(Xe+$t+re)},W.readAsArrayBuffer(I)}else try{X(JSON.stringify(I))}catch(re){console.error("Couldn't convert value into a JSON string: ",I),X(null,re)}}function Fo(I){if(I.substring(0,tt)!==Xe)return JSON.parse(I);var X=I.substring(Vt),D=I.substring(tt,Vt),Y;if(D===$t&&we.test(X)){var K=X.match(we);Y=K[1],X=X.substring(K[0].length)}var W=Ba(X);switch(D){case Et:return W;case $t:return c([W],{type:Y});case Ht:return new Int8Array(W);case _t:return new Uint8Array(W);case lr:return new Uint8ClampedArray(W);case Dr:return new Int16Array(W);case xr:return new Uint16Array(W);case ur:return new Int32Array(W);case Br:return new Uint32Array(W);case br:return new Float32Array(W);case Ri:return new Float64Array(W);default:throw new Error("Unkown type: "+D)}}var Xn={serialize:oi,deserialize:Fo,stringToBuffer:Ba,bufferToString:ct};function ja(I,X,D,Y){I.executeSql("CREATE TABLE IF NOT EXISTS "+X.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],D,Y)}function Ii(I){var X=this,D={db:null};if(I)for(var Y in I)D[Y]=typeof I[Y]!="string"?I[Y].toString():I[Y];var K=new f(function(W,re){try{D.db=openDatabase(D.name,String(D.version),D.description,D.size)}catch(se){return re(se)}D.db.transaction(function(se){ja(se,D,function(){X._dbInfo=D,W()},function(ue,ce){re(ce)})},re)});return D.serializer=Xn,K}function jr(I,X,D,Y,K,W){I.executeSql(D,Y,K,function(re,se){se.code===se.SYNTAX_ERR?re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[X.storeName],function(ue,ce){ce.rows.length?W(ue,se):ja(ue,X,function(){ue.executeSql(D,Y,K,W)},W)},W):W(re,se)},W)}function Ua(I,X){var D=this;I=p(I);var Y=new f(function(K,W){D.ready().then(function(){var re=D._dbInfo;re.db.transaction(function(se){jr(se,re,"SELECT * FROM "+re.storeName+" WHERE key = ? LIMIT 1",[I],function(ue,ce){var me=ce.rows.length?ce.rows.item(0).value:null;me&&(me=re.serializer.deserialize(me)),K(me)},function(ue,ce){W(ce)})})}).catch(W)});return h(Y,X),Y}function ki(I,X){var D=this,Y=new f(function(K,W){D.ready().then(function(){var re=D._dbInfo;re.db.transaction(function(se){jr(se,re,"SELECT * FROM "+re.storeName,[],function(ue,ce){for(var me=ce.rows,Pe=me.length,ze=0;ze<Pe;ze++){var lt=me.item(ze),ft=lt.value;if(ft&&(ft=re.serializer.deserialize(ft)),ft=I(ft,lt.key,ze+1),ft!==void 0){K(ft);return}}K()},function(ue,ce){W(ce)})})}).catch(W)});return h(Y,X),Y}function nn(I,X,D,Y){var K=this;I=p(I);var W=new f(function(re,se){K.ready().then(function(){X===void 0&&(X=null);var ue=X,ce=K._dbInfo;ce.serializer.serialize(X,function(me,Pe){Pe?se(Pe):ce.db.transaction(function(ze){jr(ze,ce,"INSERT OR REPLACE INTO "+ce.storeName+" (key, value) VALUES (?, ?)",[I,me],function(){re(ue)},function(lt,ft){se(ft)})},function(ze){if(ze.code===ze.QUOTA_ERR){if(Y>0){re(nn.apply(K,[I,ue,D,Y-1]));return}se(ze)}})})}).catch(se)});return h(W,D),W}function va(I,X,D){return nn.apply(this,[I,X,D,1])}function $a(I,X){var D=this;I=p(I);var Y=new f(function(K,W){D.ready().then(function(){var re=D._dbInfo;re.db.transaction(function(se){jr(se,re,"DELETE FROM "+re.storeName+" WHERE key = ?",[I],function(){K()},function(ue,ce){W(ce)})})}).catch(W)});return h(Y,X),Y}function wu(I){var X=this,D=new f(function(Y,K){X.ready().then(function(){var W=X._dbInfo;W.db.transaction(function(re){jr(re,W,"DELETE FROM "+W.storeName,[],function(){Y()},function(se,ue){K(ue)})})}).catch(K)});return h(D,I),D}function Mi(I){var X=this,D=new f(function(Y,K){X.ready().then(function(){var W=X._dbInfo;W.db.transaction(function(re){jr(re,W,"SELECT COUNT(key) as c FROM "+W.storeName,[],function(se,ue){var ce=ue.rows.item(0).c;Y(ce)},function(se,ue){K(ue)})})}).catch(K)});return h(D,I),D}function Jf(I,X){var D=this,Y=new f(function(K,W){D.ready().then(function(){var re=D._dbInfo;re.db.transaction(function(se){jr(se,re,"SELECT key FROM "+re.storeName+" WHERE id = ? LIMIT 1",[I+1],function(ue,ce){var me=ce.rows.length?ce.rows.item(0).key:null;K(me)},function(ue,ce){W(ce)})})}).catch(W)});return h(Y,X),Y}function Fi(I){var X=this,D=new f(function(Y,K){X.ready().then(function(){var W=X._dbInfo;W.db.transaction(function(re){jr(re,W,"SELECT key FROM "+W.storeName,[],function(se,ue){for(var ce=[],me=0;me<ue.rows.length;me++)ce.push(ue.rows.item(me).key);Y(ce)},function(se,ue){K(ue)})})}).catch(K)});return h(D,I),D}function No(I){return new f(function(X,D){I.transaction(function(Y){Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,W){for(var re=[],se=0;se<W.rows.length;se++)re.push(W.rows.item(se).name);X({db:I,storeNames:re})},function(K,W){D(W)})},function(Y){D(Y)})})}function ma(I,X){X=v.apply(this,arguments);var D=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||D.name,I.storeName=I.storeName||D.storeName);var Y=this,K;return I.name?K=new f(function(W){var re;I.name===D.name?re=Y._dbInfo.db:re=openDatabase(I.name,"","",0),I.storeName?W({db:re,storeNames:[I.storeName]}):W(No(re))}).then(function(W){return new f(function(re,se){W.db.transaction(function(ue){function ce(lt){return new f(function(ft,rr){ue.executeSql("DROP TABLE IF EXISTS "+lt,[],function(){ft()},function(qt,zn){rr(zn)})})}for(var me=[],Pe=0,ze=W.storeNames.length;Pe<ze;Pe++)me.push(ce(W.storeNames[Pe]));f.all(me).then(function(){re()}).catch(function(lt){se(lt)})},function(ue){se(ue)})})}):K=f.reject("Invalid arguments"),h(K,X),K}var Ls={_driver:"webSQLStorage",_initStorage:Ii,_support:be(),iterate:ki,getItem:Ua,setItem:va,removeItem:$a,clear:wu,length:Mi,key:Jf,keys:Fi,dropInstance:ma};function uB(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function LE(I,X){var D=I.name+"/";return I.storeName!==X.storeName&&(D+=I.storeName+"/"),D}function cB(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function fB(){return!cB()||localStorage.length>0}function hB(I){var X=this,D={};if(I)for(var Y in I)D[Y]=I[Y];return D.keyPrefix=LE(I,X._defaultConfig),fB()?(X._dbInfo=D,D.serializer=Xn,f.resolve()):f.reject()}function dB(I){var X=this,D=X.ready().then(function(){for(var Y=X._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var W=localStorage.key(K);W.indexOf(Y)===0&&localStorage.removeItem(W)}});return h(D,I),D}function pB(I,X){var D=this;I=p(I);var Y=D.ready().then(function(){var K=D._dbInfo,W=localStorage.getItem(K.keyPrefix+I);return W&&(W=K.serializer.deserialize(W)),W});return h(Y,X),Y}function vB(I,X){var D=this,Y=D.ready().then(function(){for(var K=D._dbInfo,W=K.keyPrefix,re=W.length,se=localStorage.length,ue=1,ce=0;ce<se;ce++){var me=localStorage.key(ce);if(me.indexOf(W)===0){var Pe=localStorage.getItem(me);if(Pe&&(Pe=K.serializer.deserialize(Pe)),Pe=I(Pe,me.substring(re),ue++),Pe!==void 0)return Pe}}});return h(Y,X),Y}function mB(I,X){var D=this,Y=D.ready().then(function(){var K=D._dbInfo,W;try{W=localStorage.key(I)}catch{W=null}return W&&(W=W.substring(K.keyPrefix.length)),W});return h(Y,X),Y}function gB(I){var X=this,D=X.ready().then(function(){for(var Y=X._dbInfo,K=localStorage.length,W=[],re=0;re<K;re++){var se=localStorage.key(re);se.indexOf(Y.keyPrefix)===0&&W.push(se.substring(Y.keyPrefix.length))}return W});return h(D,I),D}function yB(I){var X=this,D=X.keys().then(function(Y){return Y.length});return h(D,I),D}function _B(I,X){var D=this;I=p(I);var Y=D.ready().then(function(){var K=D._dbInfo;localStorage.removeItem(K.keyPrefix+I)});return h(Y,X),Y}function xB(I,X,D){var Y=this;I=p(I);var K=Y.ready().then(function(){X===void 0&&(X=null);var W=X;return new f(function(re,se){var ue=Y._dbInfo;ue.serializer.serialize(X,function(ce,me){if(me)se(me);else try{localStorage.setItem(ue.keyPrefix+I,ce),re(W)}catch(Pe){(Pe.name==="QuotaExceededError"||Pe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(Pe),se(Pe)}})})});return h(K,D),K}function bB(I,X){if(X=v.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var D=this.config();I.name=I.name||D.name,I.storeName=I.storeName||D.storeName}var Y=this,K;return I.name?K=new f(function(W){I.storeName?W(LE(I,Y._defaultConfig)):W(I.name+"/")}).then(function(W){for(var re=localStorage.length-1;re>=0;re--){var se=localStorage.key(re);se.indexOf(W)===0&&localStorage.removeItem(se)}}):K=f.reject("Invalid arguments"),h(K,X),K}var SB={_driver:"localStorageWrapper",_initStorage:hB,_support:uB(),iterate:vB,getItem:pB,setItem:xB,removeItem:_B,clear:dB,length:yB,key:mB,keys:gB,dropInstance:bB},wB=function(X,D){return X===D||typeof X=="number"&&typeof D=="number"&&isNaN(X)&&isNaN(D)},EB=function(X,D){for(var Y=X.length,K=0;K<Y;){if(wB(X[K],D))return!0;K++}return!1},DE=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},Eu={},BE={},Ds={INDEXEDDB:Ce,WEBSQL:Ls,LOCALSTORAGE:SB},TB=[Ds.INDEXEDDB._driver,Ds.WEBSQL._driver,Ds.LOCALSTORAGE._driver],eh=["dropInstance"],wm=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(eh),AB={description:"",driver:TB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function CB(I,X){I[X]=function(){var D=arguments;return I.ready().then(function(){return I[X].apply(I,D)})}}function Em(){for(var I=1;I<arguments.length;I++){var X=arguments[I];if(X)for(var D in X)X.hasOwnProperty(D)&&(DE(X[D])?arguments[0][D]=X[D].slice():arguments[0][D]=X[D])}return arguments[0]}var PB=function(){function I(X){o(this,I);for(var D in Ds)if(Ds.hasOwnProperty(D)){var Y=Ds[D],K=Y._driver;this[D]=K,Eu[K]||this.defineDriver(Y)}this._defaultConfig=Em({},AB),this._config=Em({},this._defaultConfig,X),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function(D){if((typeof D>"u"?"undefined":a(D))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Y in D){if(Y==="storeName"&&(D[Y]=D[Y].replace(/\W/g,"_")),Y==="version"&&typeof D[Y]!="number")return new Error("Database version must be a number.");this._config[Y]=D[Y]}return"driver"in D&&D.driver?this.setDriver(this._config.driver):!0}else return typeof D=="string"?this._config[D]:this._config},I.prototype.defineDriver=function(D,Y,K){var W=new f(function(re,se){try{var ue=D._driver,ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!D._driver){se(ce);return}for(var me=wm.concat("_initStorage"),Pe=0,ze=me.length;Pe<ze;Pe++){var lt=me[Pe],ft=!EB(eh,lt);if((ft||D[lt])&&typeof D[lt]!="function"){se(ce);return}}var rr=function(){for(var Tu=function(IB){return function(){var kB=new Error("Method "+IB+" is not implemented by the current driver"),jE=f.reject(kB);return h(jE,arguments[arguments.length-1]),jE}},Tm=0,RB=eh.length;Tm<RB;Tm++){var Am=eh[Tm];D[Am]||(D[Am]=Tu(Am))}};rr();var qt=function(Tu){Eu[ue]&&console.info("Redefining LocalForage driver: "+ue),Eu[ue]=D,BE[ue]=Tu,re()};"_support"in D?D._support&&typeof D._support=="function"?D._support().then(qt,se):qt(!!D._support):qt(!0)}catch(zn){se(zn)}});return d(W,Y,K),W},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function(D,Y,K){var W=Eu[D]?f.resolve(Eu[D]):f.reject(new Error("Driver not found."));return d(W,Y,K),W},I.prototype.getSerializer=function(D){var Y=f.resolve(Xn);return d(Y,D),Y},I.prototype.ready=function(D){var Y=this,K=Y._driverSet.then(function(){return Y._ready===null&&(Y._ready=Y._initDriver()),Y._ready});return d(K,D,D),K},I.prototype.setDriver=function(D,Y,K){var W=this;DE(D)||(D=[D]);var re=this._getSupportedDrivers(D);function se(){W._config.driver=W.driver()}function ue(Pe){return W._extend(Pe),se(),W._ready=W._initStorage(W._config),W._ready}function ce(Pe){return function(){var ze=0;function lt(){for(;ze<Pe.length;){var ft=Pe[ze];return ze++,W._dbInfo=null,W._ready=null,W.getDriver(ft).then(ue).catch(lt)}se();var rr=new Error("No available storage method found.");return W._driverSet=f.reject(rr),W._driverSet}return lt()}}var me=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=me.then(function(){var Pe=re[0];return W._dbInfo=null,W._ready=null,W.getDriver(Pe).then(function(ze){W._driver=ze._driver,se(),W._wrapLibraryMethodsWithReady(),W._initDriver=ce(re)})}).catch(function(){se();var Pe=new Error("No available storage method found.");return W._driverSet=f.reject(Pe),W._driverSet}),d(this._driverSet,Y,K),this._driverSet},I.prototype.supports=function(D){return!!BE[D]},I.prototype._extend=function(D){Em(this,D)},I.prototype._getSupportedDrivers=function(D){for(var Y=[],K=0,W=D.length;K<W;K++){var re=D[K];this.supports(re)&&Y.push(re)}return Y},I.prototype._wrapLibraryMethodsWithReady=function(){for(var D=0,Y=wm.length;D<Y;D++)CB(this,wm[D])},I.prototype.createInstance=function(D){return new I(D)},I}(),OB=new PB;n.exports=OB},{3:3}]},{},[4])(4)})})(Ok);var ms=Ok.exports;const Os=gn(ms);var Fb={exports:{}},Rk=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},nz=Rk,Rs=Object.prototype.toString;function Nb(t){return Rs.call(t)==="[object Array]"}function H0(t){return typeof t>"u"}function iz(t){return t!==null&&!H0(t)&&t.constructor!==null&&!H0(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function az(t){return Rs.call(t)==="[object ArrayBuffer]"}function oz(t){return typeof FormData<"u"&&t instanceof FormData}function sz(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function lz(t){return typeof t=="string"}function uz(t){return typeof t=="number"}function Ik(t){return t!==null&&typeof t=="object"}function ud(t){if(Rs.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function cz(t){return Rs.call(t)==="[object Date]"}function fz(t){return Rs.call(t)==="[object File]"}function hz(t){return Rs.call(t)==="[object Blob]"}function kk(t){return Rs.call(t)==="[object Function]"}function dz(t){return Ik(t)&&kk(t.pipe)}function pz(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function vz(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function mz(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Lb(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Nb(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function q0(){var t={};function e(i,a){ud(t[a])&&ud(i)?t[a]=q0(t[a],i):ud(i)?t[a]=q0({},i):Nb(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)Lb(arguments[r],e);return t}function gz(t,e,r){return Lb(e,function(i,a){r&&typeof i=="function"?t[a]=nz(i,r):t[a]=i}),t}function yz(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Vn={isArray:Nb,isArrayBuffer:az,isBuffer:iz,isFormData:oz,isArrayBufferView:sz,isString:lz,isNumber:uz,isObject:Ik,isPlainObject:ud,isUndefined:H0,isDate:cz,isFile:fz,isBlob:hz,isFunction:kk,isStream:dz,isURLSearchParams:pz,isStandardBrowserEnv:mz,forEach:Lb,merge:q0,extend:gz,trim:vz,stripBOM:yz},js=Vn;function XA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Mk=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(js.isURLSearchParams(r))i=r.toString();else{var a=[];js.forEach(r,function(u,l){u===null||typeof u>"u"||(js.isArray(u)?l=l+"[]":u=[u],js.forEach(u,function(f){js.isDate(f)?f=f.toISOString():js.isObject(f)&&(f=JSON.stringify(f)),a.push(XA(l)+"="+XA(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},_z=Vn;function sv(){this.handlers=[]}sv.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};sv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};sv.prototype.forEach=function(e){_z.forEach(this.handlers,function(n){n!==null&&e(n)})};var xz=sv,bz=Vn,Sz=function(e,r){bz.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},Fk=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},ag,zA;function Nk(){if(zA)return ag;zA=1;var t=Fk;return ag=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},ag}var og,WA;function wz(){if(WA)return og;WA=1;var t=Nk();return og=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},og}var sg,YA;function Ez(){if(YA)return sg;YA=1;var t=Vn;return sg=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,u){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),sg}var lg,HA;function Tz(){return HA||(HA=1,lg=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),lg}var ug,qA;function Az(){return qA||(qA=1,ug=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),ug}var cg,KA;function Cz(){if(KA)return cg;KA=1;var t=Tz(),e=Az();return cg=function(n,i){return n&&!t(i)?e(n,i):i},cg}var fg,ZA;function Pz(){if(ZA)return fg;ZA=1;var t=Vn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return fg=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},fg}var hg,QA;function Oz(){if(QA)return hg;QA=1;var t=Vn;return hg=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var u=t.isString(s)?a(s):s;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),hg}var dg,JA;function lv(){if(JA)return dg;JA=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,dg=t,dg}var pg,eC;function tC(){if(eC)return pg;eC=1;var t=Vn,e=wz(),r=Ez(),n=Mk,i=Cz(),a=Pz(),o=Oz(),s=Nk(),u=uv(),l=lv();return pg=function(f){return new Promise(function(d,p){var v=f.data,g=f.headers,m=f.responseType,y;function _(){f.cancelToken&&f.cancelToken.unsubscribe(y),f.signal&&f.signal.removeEventListener("abort",y)}t.isFormData(v)&&delete g["Content-Type"];var x=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",S=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+S)}var w=i(f.baseURL,f.url);x.open(f.method.toUpperCase(),n(w,f.params,f.paramsSerializer),!0),x.timeout=f.timeout;function E(){if(x){var A="getAllResponseHeaders"in x?a(x.getAllResponseHeaders()):null,O=!m||m==="text"||m==="json"?x.responseText:x.response,P={data:O,status:x.status,statusText:x.statusText,headers:A,config:f,request:x};e(function(M){d(M),_()},function(M){p(M),_()},P),x=null}}if("onloadend"in x?x.onloadend=E:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(E)},x.onabort=function(){x&&(p(s("Request aborted",f,"ECONNABORTED",x)),x=null)},x.onerror=function(){p(s("Network Error",f,null,x)),x=null},x.ontimeout=function(){var O=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",P=f.transitional||u.transitional;f.timeoutErrorMessage&&(O=f.timeoutErrorMessage),p(s(O,f,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},t.isStandardBrowserEnv()){var T=(f.withCredentials||o(w))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;T&&(g[f.xsrfHeaderName]=T)}"setRequestHeader"in x&&t.forEach(g,function(O,P){typeof v>"u"&&P.toLowerCase()==="content-type"?delete g[P]:x.setRequestHeader(P,O)}),t.isUndefined(f.withCredentials)||(x.withCredentials=!!f.withCredentials),m&&m!=="json"&&(x.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&x.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(y=function(A){x&&(p(!A||A&&A.type?new l("canceled"):A),x.abort(),x=null)},f.cancelToken&&f.cancelToken.subscribe(y),f.signal&&(f.signal.aborted?y():f.signal.addEventListener("abort",y))),v||(v=null),x.send(v)})},pg}var vg,rC;function uv(){if(rC)return vg;rC=1;var t=Vn,e=Sz,r=Fk,n={"Content-Type":"application/x-www-form-urlencoded"};function i(u,l){!t.isUndefined(u)&&t.isUndefined(u["Content-Type"])&&(u["Content-Type"]=l)}function a(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(u=tC()),u}function o(u,l,c){if(t.isString(u))try{return(l||JSON.parse)(u),t.trim(u)}catch(f){if(f.name!=="SyntaxError")throw f}return(c||JSON.stringify)(u)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,c){return e(c,"Accept"),e(c,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(c,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||c&&c["Content-Type"]==="application/json"?(i(c,"application/json"),o(l)):l}],transformResponse:[function(l){var c=this.transitional||s.transitional,f=c&&c.silentJSONParsing,h=c&&c.forcedJSONParsing,d=!f&&this.responseType==="json";if(d||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(p){if(d)throw p.name==="SyntaxError"?r(p,this,"E_JSON_PARSE"):p}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),vg=s,vg}var Rz=Vn,Iz=uv(),kz=function(e,r,n){var i=this||Iz;return Rz.forEach(n,function(o){e=o.call(i,e,r)}),e},mg,nC;function Lk(){return nC||(nC=1,mg=function(e){return!!(e&&e.__CANCEL__)}),mg}var iC=Vn,gg=kz,Mz=Lk(),Fz=uv(),Nz=lv();function yg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Nz("canceled")}var Lz=function(e){yg(e),e.headers=e.headers||{},e.data=gg.call(e,e.data,e.headers,e.transformRequest),e.headers=iC.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),iC.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Fz.adapter;return r(e).then(function(i){return yg(e),i.data=gg.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Mz(i)||(yg(e),i&&i.response&&(i.response.data=gg.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},kn=Vn,Dk=function(e,r){r=r||{};var n={};function i(c,f){return kn.isPlainObject(c)&&kn.isPlainObject(f)?kn.merge(c,f):kn.isPlainObject(f)?kn.merge({},f):kn.isArray(f)?f.slice():f}function a(c){if(kn.isUndefined(r[c])){if(!kn.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],r[c])}function o(c){if(!kn.isUndefined(r[c]))return i(void 0,r[c])}function s(c){if(kn.isUndefined(r[c])){if(!kn.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,r[c])}function u(c){if(c in r)return i(e[c],r[c]);if(c in e)return i(void 0,e[c])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return kn.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);kn.isUndefined(d)&&h!==u||(n[f]=d)}),n},_g,aC;function Bk(){return aC||(aC=1,_g={version:"0.24.0"}),_g}var Dz=Bk().version,Db={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Db[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var oC={};Db.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Dz+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!oC[o]&&(oC[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Bz(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],u=s===void 0||o(s,a,t);if(u!==!0)throw new TypeError("option "+a+" must be "+u);continue}if(r!==!0)throw Error("Unknown option "+a)}}var jz={assertOptions:Bz,validators:Db},jk=Vn,Uz=Mk,sC=xz,lC=Lz,cv=Dk,Uk=jz,Us=Uk.validators;function Df(t){this.defaults=t,this.interceptors={request:new sC,response:new sC}}Df.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=cv(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&Uk.assertOptions(r,{silentJSONParsing:Us.transitional(Us.boolean),forcedJSONParsing:Us.transitional(Us.boolean),clarifyTimeoutError:Us.transitional(Us.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[lC,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var u=e;n.length;){var l=n.shift(),c=n.shift();try{u=l(u)}catch(f){c(f);break}}try{o=lC(u)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};Df.prototype.getUri=function(e){return e=cv(this.defaults,e),Uz(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};jk.forEach(["delete","get","head","options"],function(e){Df.prototype[e]=function(r,n){return this.request(cv(n||{},{method:e,url:r,data:(n||{}).data}))}});jk.forEach(["post","put","patch"],function(e){Df.prototype[e]=function(r,n,i){return this.request(cv(i||{},{method:e,url:r,data:n}))}});var $z=Df,xg,uC;function Vz(){if(uC)return xg;uC=1;var t=lv();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(u){i.subscribe(u),o=u}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},xg=e,xg}var bg,cC;function Gz(){return cC||(cC=1,bg=function(e){return function(n){return e.apply(null,n)}}),bg}var Sg,fC;function Xz(){return fC||(fC=1,Sg=function(e){return typeof e=="object"&&e.isAxiosError===!0}),Sg}var hC=Vn,zz=Rk,cd=$z,Wz=Dk,Yz=uv();function $k(t){var e=new cd(t),r=zz(cd.prototype.request,e);return hC.extend(r,cd.prototype,e),hC.extend(r,e),r.create=function(i){return $k(Wz(t,i))},r}var la=$k(Yz);la.Axios=cd;la.Cancel=lv();la.CancelToken=Vz();la.isCancel=Lk();la.VERSION=Bk().version;la.all=function(e){return Promise.all(e)};la.spread=Gz();la.isAxiosError=Xz();Fb.exports=la;Fb.exports.default=la;var Hz=Fb.exports,qz=Hz;const Kz=qz;class Zz{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&Kz.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var Qz=Zz;const Jz=gn(Qz),ge=new Jz;ge.setLevel("INFO");const eW={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"}},tW={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL ",subTitle:"WebGAL: ",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"()",SimHei:"OPPO Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:"BGM "},seVolume:{title:""},uiSeVolume:{title:"UI "},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},rW={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:""}},nW={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},iW={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},aW={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var Is=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(Is||{});const ip={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},oW={en:{translation:eW},zhCn:{translation:rW},jp:{translation:tW},fr:{translation:nW},de:{translation:iW},zhTw:{translation:aW}},sW=0;var hn=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(hn||{}),ti=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(ti||{}),Zi=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Zi||{}),zc=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(zc||{}),Qi=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(Qi||{});const Vk={slPage:1,volumeMain:100,textSpeed:hn.normal,autoSpeed:hn.normal,textSize:ti.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Zi.song,textboxOpacity:75,language:Is.zhCn,voiceInterruption:zc.yes,fullScreen:Qi.off},K0={optionData:Vk,scriptManagedGlobalVar:[],globalGameVar:{},appreciationData:{bgm:[],cg:[]}},Gk=Qp({name:"userData",initialState:Jt(K0),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.scriptManagedGlobalVar.findIndex(n=>n===e.payload.key)>=0||(t.globalGameVar[e.payload.key]=e.payload.value)},setScriptManagedGlobalVar:(t,e)=>{const r=t.scriptManagedGlobalVar.findIndex(n=>n===e.payload.key)>=0;t.globalGameVar[e.payload.key]=e.payload.value,r||t.scriptManagedGlobalVar.push(e.payload.key)},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,Vk)},resetAllData(t){Object.assign(t,Jt(K0))}}}),{setUserData:ywe,resetUserData:Bb,setOptionData:Ct,setGlobalVar:dC,setScriptManagedGlobalVar:lW,setSlPage:Xk,unlockCgInUserData:zk,unlockBgmInUserData:Wk,resetOptionSet:uW,resetAllData:cW}=Gk.actions,fW=Gk.reducer,Yk={backlog_size:200,fast_timeout:50},hW={textInitialDelay:80};class dW{constructor(e){Ae(this,"isSaveBacklogNext",!1);Ae(this,"backlog",[]);Ae(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=te.getState().stage,r=Jt(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:Jt(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>Yk.backlog_size;)this.getBacklog().shift()}}const pC={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class pW{constructor(){Ae(this,"settledScenes",[]);Ae(this,"settledAssets",[]);Ae(this,"sceneData",Jt(pC));Ae(this,"lockSceneWrite",!1)}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=Jt(pC.currentScene)}}class vW{constructor(){Ae(this,"nextEnterAnimationName",new Map);Ae(this,"nextExitAnimationName",new Map);Ae(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}const mW={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};var Fn=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t))(Fn||{});const Nn=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;default:r="";break}return r}},gW=t=>{for(const e of t)if(L.sceneManager.settledAssets.includes(e.url))ge.debug(`${e.url}`);else{const n=document.createElement("link");n.setAttribute("rel","prefetch"),n.setAttribute("href",e.url);const i=document.getElementsByTagName("head");if(i.length)try{i[0].appendChild(n)}catch(a){console.log("",a)}L.sceneManager.settledAssets.push(e.url)}};var Te;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle"})(Te||(Te={}));Te.intro,Te.changeBg,Te.changeFigure,Te.miniAvatar,Te.changeScene,Te.choose,Te.end,Te.bgm,Te.video,Te.setComplexAnimation,Te.setFilter,Te.pixiInit,Te.pixi,Te.label,Te.jumpLabel,Te.setVar,Te.callScene,Te.showVars,Te.unlockCg,Te.unlockBgm,Te.say,Te.filmMode,Te.callScene,Te.setTextbox,Te.setAnimation,Te.playEffect,Te.applyStyle;Te.bgm,Te.pixi,Te.pixiInit,Te.label,Te.if,Te.miniAvatar,Te.setVar,Te.unlockBgm,Te.unlockCg,Te.filmMode,Te.playEffect;var nr;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video"})(nr||(nr={}));function Hk(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),u=a.slice(o+1);o<0&&(s=a,u=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,nr.vocal)}):u===void 0?r.push({key:s,value:!0}):u==="true"||u==="false"?r.push({key:s,value:u==="true"}):isNaN(Number(u))?r.push({key:s,value:u}):r.push({key:s,value:Number(u)})}),r}function yW(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/\s*:\s*/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of Hk(o,(u,l)=>u))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function _W(t){return t.replaceAll("\r","").split(`
`).map(r=>yW(r)).filter(r=>r.command!=="")}const vC=(t,e,r)=>{let n={type:Te.say,additionalArgs:[]};const i=xW(t,e,r);return n.type=i,i===Te.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=bW(n,i,e),n};function xW(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??Te.say}function bW(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const SW=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case Te.playEffect:return r(t,nr.vocal);case Te.changeBg:return r(t,nr.background);case Te.changeFigure:return r(t,nr.figure);case Te.bgm:return r(t,nr.bgm);case Te.callScene:return r(t,nr.scene);case Te.changeScene:return r(t,nr.scene);case Te.miniAvatar:return r(t,nr.figure);case Te.video:return r(t,nr.video);case Te.choose:return wW(t,r);case Te.unlockBgm:return r(t,nr.bgm);case Te.unlockCg:return r(t,nr.background);default:return t}};function wW(t,e){const r=t.split(new RegExp("(?<!\\\\)\\|")),n=[],i=[];for(const s of r)n.push(s.split(new RegExp("(?<!\\\\):"))[0]??""),i.push(s.split(new RegExp("(?<!\\\\):"))[1]??"");const a=i.map(s=>s.match(/\./)?e(s,nr.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const EW=(t,e,r)=>{const n=[];return t===Te.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:nr.vocal})}),e==="none"||e===""||(t===Te.changeBg&&n.push({name:e,url:e,lineNumber:0,type:nr.background}),t===Te.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:nr.figure}),t===Te.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:nr.figure}),t===Te.video&&n.push({name:e,url:e,lineNumber:0,type:nr.video}),t===Te.bgm&&n.push({name:e,url:e,lineNumber:0,type:nr.bgm})),n},TW=(t,e)=>{const r=[];return(t===Te.changeScene||t===Te.callScene)&&r.push(e),t===Te.choose&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},AW=(t,e,r,n)=>{let i,a,o;const s=[];let u,l,c,f=t.split(new RegExp("(?<!\\\\);"))[0];if(f=f.replaceAll("\\;",";"),f==="")return{command:Te.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){c=f,l=vC(c,r,n),i=l.type;for(const p of l.additionalArgs)i===Te.say&&p.key==="speaker"||s.push(p)}else{c=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=vC(c,r,n),i=l.type;for(const p of l.additionalArgs)s.push(p)}const d=/ -/.exec(f);if(d){const p=f.substring(d.index,t.length);f=f.substring(0,d.index);for(const v of Hk(p,e))s.push(v)}return a=SW(f.trim(),i,e),u=EW(i,a,s),o=TW(i,a),{command:i,commandRaw:c.trim(),content:a,args:s,sentenceAssets:u,subScene:o}};var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CW=typeof vh=="object"&&vh&&vh.Object===Object&&vh,PW=CW,OW=PW,RW=typeof self=="object"&&self&&self.Object===Object&&self,IW=OW||RW||Function("return this")(),fv=IW,kW=fv,MW=kW.Symbol,qk=MW,mC=qk,Kk=Object.prototype,FW=Kk.hasOwnProperty,NW=Kk.toString,ju=mC?mC.toStringTag:void 0;function LW(t){var e=FW.call(t,ju),r=t[ju];try{t[ju]=void 0;var n=!0}catch{}var i=NW.call(t);return n&&(e?t[ju]=r:delete t[ju]),i}var DW=LW,BW=Object.prototype,jW=BW.toString;function UW(t){return jW.call(t)}var $W=UW,gC=qk,VW=DW,GW=$W,XW="[object Null]",zW="[object Undefined]",yC=gC?gC.toStringTag:void 0;function WW(t){return t==null?t===void 0?zW:XW:yC&&yC in Object(t)?VW(t):GW(t)}var YW=WW;function HW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Zk=HW,qW=YW,KW=Zk,ZW="[object AsyncFunction]",QW="[object Function]",JW="[object GeneratorFunction]",eY="[object Proxy]";function tY(t){if(!KW(t))return!1;var e=qW(t);return e==QW||e==JW||e==ZW||e==eY}var rY=tY,nY=fv,iY=nY["__core-js_shared__"],aY=iY,wg=aY,_C=function(){var t=/[^.]+$/.exec(wg&&wg.keys&&wg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oY(t){return!!_C&&_C in t}var sY=oY,lY=Function.prototype,uY=lY.toString;function cY(t){if(t!=null){try{return uY.call(t)}catch{}try{return t+""}catch{}}return""}var fY=cY,hY=rY,dY=sY,pY=Zk,vY=fY,mY=/[\\^$.*+?()[\]{}|]/g,gY=/^\[object .+?Constructor\]$/,yY=Function.prototype,_Y=Object.prototype,xY=yY.toString,bY=_Y.hasOwnProperty,SY=RegExp("^"+xY.call(bY).replace(mY,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wY(t){if(!pY(t)||dY(t))return!1;var e=hY(t)?SY:gY;return e.test(vY(t))}var EY=wY;function TY(t,e){return t==null?void 0:t[e]}var AY=TY,CY=EY,PY=AY;function OY(t,e){var r=PY(t,e);return CY(r)?r:void 0}var jb=OY,RY=jb,IY=RY(Object,"create"),hv=IY,xC=hv;function kY(){this.__data__=xC?xC(null):{},this.size=0}var MY=kY;function FY(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NY=FY,LY=hv,DY="__lodash_hash_undefined__",BY=Object.prototype,jY=BY.hasOwnProperty;function UY(t){var e=this.__data__;if(LY){var r=e[t];return r===DY?void 0:r}return jY.call(e,t)?e[t]:void 0}var $Y=UY,VY=hv,GY=Object.prototype,XY=GY.hasOwnProperty;function zY(t){var e=this.__data__;return VY?e[t]!==void 0:XY.call(e,t)}var WY=zY,YY=hv,HY="__lodash_hash_undefined__";function qY(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=YY&&e===void 0?HY:e,this}var KY=qY,ZY=MY,QY=NY,JY=$Y,eH=WY,tH=KY;function uu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uu.prototype.clear=ZY;uu.prototype.delete=QY;uu.prototype.get=JY;uu.prototype.has=eH;uu.prototype.set=tH;var rH=uu;function nH(){this.__data__=[],this.size=0}var iH=nH;function aH(t,e){return t===e||t!==t&&e!==e}var oH=aH,sH=oH;function lH(t,e){for(var r=t.length;r--;)if(sH(t[r][0],e))return r;return-1}var dv=lH,uH=dv,cH=Array.prototype,fH=cH.splice;function hH(t){var e=this.__data__,r=uH(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():fH.call(e,r,1),--this.size,!0}var dH=hH,pH=dv;function vH(t){var e=this.__data__,r=pH(e,t);return r<0?void 0:e[r][1]}var mH=vH,gH=dv;function yH(t){return gH(this.__data__,t)>-1}var _H=yH,xH=dv;function bH(t,e){var r=this.__data__,n=xH(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var SH=bH,wH=iH,EH=dH,TH=mH,AH=_H,CH=SH;function cu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cu.prototype.clear=wH;cu.prototype.delete=EH;cu.prototype.get=TH;cu.prototype.has=AH;cu.prototype.set=CH;var PH=cu,OH=jb,RH=fv,IH=OH(RH,"Map"),kH=IH,bC=rH,MH=PH,FH=kH;function NH(){this.size=0,this.__data__={hash:new bC,map:new(FH||MH),string:new bC}}var LH=NH;function DH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var BH=DH,jH=BH;function UH(t,e){var r=t.__data__;return jH(e)?r[typeof e=="string"?"string":"hash"]:r.map}var pv=UH,$H=pv;function VH(t){var e=$H(this,t).delete(t);return this.size-=e?1:0,e}var GH=VH,XH=pv;function zH(t){return XH(this,t).get(t)}var WH=zH,YH=pv;function HH(t){return YH(this,t).has(t)}var qH=HH,KH=pv;function ZH(t,e){var r=KH(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var QH=ZH,JH=LH,eq=GH,tq=WH,rq=qH,nq=QH;function fu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fu.prototype.clear=JH;fu.prototype.delete=eq;fu.prototype.get=tq;fu.prototype.has=rq;fu.prototype.set=nq;var iq=fu,aq="__lodash_hash_undefined__";function oq(t){return this.__data__.set(t,aq),this}var sq=oq;function lq(t){return this.__data__.has(t)}var uq=lq,cq=iq,fq=sq,hq=uq;function ap(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new cq;++e<r;)this.add(t[e])}ap.prototype.add=ap.prototype.push=fq;ap.prototype.has=hq;var dq=ap;function pq(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var vq=pq;function mq(t){return t!==t}var gq=mq;function yq(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var _q=yq,xq=vq,bq=gq,Sq=_q;function wq(t,e,r){return e===e?Sq(t,e,r):xq(t,bq,r)}var Eq=wq,Tq=Eq;function Aq(t,e){var r=t==null?0:t.length;return!!r&&Tq(t,e,0)>-1}var Cq=Aq;function Pq(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Oq=Pq;function Rq(t,e){return t.has(e)}var Iq=Rq,kq=jb,Mq=fv,Fq=kq(Mq,"Set"),Nq=Fq;function Lq(){}var Dq=Lq;function Bq(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Qk=Bq,Eg=Nq,jq=Dq,Uq=Qk,$q=1/0,Vq=Eg&&1/Uq(new Eg([,-0]))[1]==$q?function(t){return new Eg(t)}:jq,Gq=Vq,Xq=dq,zq=Cq,Wq=Oq,Yq=Iq,Hq=Gq,qq=Qk,Kq=200;function Zq(t,e,r){var n=-1,i=zq,a=t.length,o=!0,s=[],u=s;if(r)o=!1,i=Wq;else if(a>=Kq){var l=e?null:Hq(t);if(l)return qq(l);o=!1,i=Yq,u=new Xq}else u=e?[]:s;e:for(;++n<a;){var c=t[n],f=e?e(c):c;if(c=r||c!==0?c:0,o&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;e&&u.push(f),s.push(c)}else i(u,f,r)||(u!==s&&u.push(f),s.push(c))}return s}var Qq=Zq,Jq=Qq;function e7(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Jq(t,void 0,e):[]}var t7=e7;const r7=(t,e,r,n,i,a,o)=>{const u=t.split(`
`);let l=[],c=[];const f=u.map(h=>{const d=AW(h,i,a,o);return l=[...l,...d.sentenceAssets],c=[...c,...d.subScene],d});return l=t7(l),n(l),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:c}};function n7(t){const[e,r]=i7(t);return{classNameStyles:e,others:r}}function i7(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class a7{constructor(e,r,n,i){Ae(this,"assetsPrefetcher");Ae(this,"assetSetter");Ae(this,"ADD_NEXT_ARG_LIST");Ae(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return r7(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return _W(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return n7(e)}}function He(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const o7=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=He(t,"enter"),a=He(t,"volume");return r!==""&&te.dispatch(Wk({name:r,url:e,series:n})),AS(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var Ub={exports:{}},Jk=function(e,r){return function(){return e.apply(r,arguments)}},s7=Jk,$b=Object.prototype.toString,Vb=function(t){return function(e){var r=$b.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Io(t){return t=t.toLowerCase(),function(r){return Vb(r)===t}}function vv(t){return Array.isArray(t)}function Z0(t){return typeof t>"u"}function l7(t){return t!==null&&!Z0(t)&&t.constructor!==null&&!Z0(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var eM=Io("ArrayBuffer");function u7(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eM(t.buffer),e}function c7(t){return typeof t=="string"}function tM(t){return typeof t=="number"}function rM(t){return t!==null&&typeof t=="object"}function fd(t){if(Vb(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function f7(t){return t&&Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}var h7=Io("Date"),d7=Io("File"),p7=Io("Blob"),v7=Io("FileList");function Gb(t){return $b.call(t)==="[object Function]"}function m7(t){return rM(t)&&Gb(t.pipe)}function g7(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||$b.call(t)===e||Gb(t.toString)&&t.toString()===e)}var y7=Io("URLSearchParams");function _7(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function x7(){var t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Xb(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),vv(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Q0(){var t={};function e(i,a){fd(t[a])&&fd(i)?t[a]=Q0(t[a],i):fd(i)?t[a]=Q0({},i):vv(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)Xb(arguments[r],e);return t}function b7(t,e,r){return Xb(e,function(i,a){r&&typeof i=="function"?t[a]=s7(i,r):t[a]=i}),t}function S7(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function w7(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function E7(t,e,r,n){var i,a,o,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function T7(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function A7(t){if(!t)return null;if(vv(t))return t;var e=t.length;if(!tM(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var C7=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function P7(t,e){for(var r=t&&t[Symbol.iterator],n=r.call(t),i;(i=n.next())&&!i.done;){var a=i.value;e.call(t,a[0],a[1])}}function O7(t,e){for(var r,n=[];(r=t.exec(e))!==null;)n.push(r);return n}var R7=Io("HTMLFormElement"),I7=function(e){return function(r,n){return e.call(r,n)}}(Object.prototype.hasOwnProperty),_r={isArray:vv,isArrayBuffer:eM,isBuffer:l7,isFormData:g7,isArrayBufferView:u7,isString:c7,isNumber:tM,isObject:rM,isPlainObject:fd,isEmptyObject:f7,isUndefined:Z0,isDate:h7,isFile:d7,isBlob:p7,isFunction:Gb,isStream:m7,isURLSearchParams:y7,isStandardBrowserEnv:x7,forEach:Xb,merge:Q0,extend:b7,trim:_7,stripBOM:S7,inherits:w7,toFlatObject:E7,kindOf:Vb,kindOfTest:Io,endsWith:T7,toArray:A7,isTypedArray:C7,isFileList:v7,forEachEntry:P7,matchAll:O7,isHTMLForm:R7,hasOwnProperty:I7},nM=_r;function Ll(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}nM.inherits(Ll,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var iM=Ll.prototype,aM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){aM[t]={value:t}});Object.defineProperties(Ll,aM);Object.defineProperty(iM,"isAxiosError",{value:!0});Ll.from=function(t,e,r,n,i,a){var o=Object.create(iM);return nM.toFlatObject(t,o,function(u){return u!==Error.prototype}),Ll.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var ks=Ll,k7=typeof self=="object"?self.FormData:window.FormData,M7=k7,bt=_r,F7=ks,N7=M7;function J0(t){return bt.isPlainObject(t)||bt.isArray(t)}function oM(t){return bt.endsWith(t,"[]")?t.slice(0,-2):t}function SC(t,e,r){return t?t.concat(e).map(function(i,a){return i=oM(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function L7(t){return bt.isArray(t)&&!t.some(J0)}var D7=bt.toFlatObject(bt,{},null,function(e){return/^is[A-Z]/.test(e)});function B7(t){return t&&bt.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function j7(t,e,r){if(!bt.isObject(t))throw new TypeError("target must be an object");e=e||new(N7||FormData),r=bt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!bt.isUndefined(g[v])});var n=r.metaTokens,i=r.visitor||c,a=r.dots,o=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,u=s&&B7(e);if(!bt.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(bt.isDate(p))return p.toISOString();if(!u&&bt.isBlob(p))throw new F7("Blob is not supported. Use a Buffer instead.");return bt.isArrayBuffer(p)||bt.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,g){var m=p;if(p&&!g&&typeof p=="object"){if(bt.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(bt.isArray(p)&&L7(p)||bt.isFileList(p)||bt.endsWith(v,"[]")&&(m=bt.toArray(p)))return v=oM(v),m.forEach(function(_,x){!bt.isUndefined(_)&&e.append(o===!0?SC([v],x,a):o===null?v:v+"[]",l(_))}),!1}return J0(p)?!0:(e.append(SC(g,v,a),l(p)),!1)}var f=[],h=Object.assign(D7,{defaultVisitor:c,convertValue:l,isVisitable:J0});function d(p,v){if(!bt.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),bt.forEach(p,function(m,y){var _=!bt.isUndefined(m)&&i.call(e,m,bt.isString(y)?y.trim():y,v,h);_===!0&&d(m,v?v.concat(y):[y])}),f.pop()}}if(!bt.isObject(t))throw new TypeError("data must be an object");return d(t),e}var mv=j7,U7=mv;function wC(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,function(n){return e[n]})}function sM(t,e){this._pairs=[],t&&U7(t,this,e)}var lM=sM.prototype;lM.append=function(e,r){this._pairs.push([e,r])};lM.toString=function(e){var r=e?function(n){return e.call(this,n,wC)}:wC;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var uM=sM,$7=_r,V7=uM;function G7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var cM=function(e,r,n){if(!r)return e;var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i));var a=n&&n.encode||G7,o=$7.isURLSearchParams(r)?r.toString():new V7(r,n).toString(a);return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e},X7=_r;function Bf(){this.handlers=[]}Bf.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Bf.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Bf.prototype.clear=function(){this.handlers&&(this.handlers=[])};Bf.prototype.forEach=function(e){X7.forEach(this.handlers,function(n){n!==null&&e(n)})};var z7=Bf,W7=_r,fM=function(e,r){W7.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},hM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y7=uM,H7=typeof URLSearchParams<"u"?URLSearchParams:Y7,q7=FormData,K7={isBrowser:!0,classes:{URLSearchParams:H7,FormData:q7,Blob},protocols:["http","https","file","blob","url","data"]},zb=K7,Z7=_r,Q7=mv,EC=zb,J7=function(e,r){return Q7(e,new EC.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,o){return EC.isNode&&Z7.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))},Xa=_r;function eK(t){return Xa.matchAll(/\w+|\[(\w*)]/g,t).map(function(e){return e[0]==="[]"?"":e[1]||e[0]})}function tK(t){var e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function rK(t){function e(n,i,a,o){var s=n[o++],u=Number.isFinite(+s),l=o>=n.length;if(s=!s&&Xa.isArray(a)?a.length:s,l)return Xa.hasOwnProperty(a,s)?a[s]=[a[s],i]:a[s]=i,!u;(!a[s]||!Xa.isObject(a[s]))&&(a[s]=[]);var c=e(n,i,a[s],o);return c&&Xa.isArray(a[s])&&(a[s]=tK(a[s])),!u}if(Xa.isFormData(t)&&Xa.isFunction(t.entries)){var r={};return Xa.forEachEntry(t,function(n,i){e(eK(n),i,r,0)}),r}return null}var dM=rK,Tg,TC;function nK(){if(TC)return Tg;TC=1;var t=ks;return Tg=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Tg}var Ag,AC;function iK(){if(AC)return Ag;AC=1;var t=_r;return Ag=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,u){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ag}var aK=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},oK=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},sK=aK,lK=oK,pM=function(e,r){return e&&!sK(r)?lK(e,r):r},Cg,CC;function uK(){if(CC)return Cg;CC=1;var t=_r,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Cg=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.slice(0,s)).toLowerCase(),o=t.trim(l.slice(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},Cg}var Pg,PC;function cK(){if(PC)return Pg;PC=1;var t=_r;return Pg=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var u=t.isString(s)?a(s):s;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),Pg}var Og,OC;function gv(){if(OC)return Og;OC=1;var t=ks,e=_r;function r(n,i,a){t.call(this,n??"canceled",t.ERR_CANCELED,i,a),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),Og=r,Og}var Rg,RC;function fK(){return RC||(RC=1,Rg=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),Rg}var Ig,IC;function kC(){if(IC)return Ig;IC=1;var t=_r,e=nK(),r=iK(),n=cM,i=pM,a=uK(),o=cK(),s=hM,u=ks,l=gv(),c=fK(),f=zb;return Ig=function(d){return new Promise(function(v,g){var m=d.data,y=d.headers,_=d.responseType,x=d.withXSRFToken,b;function S(){d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}t.isFormData(m)&&t.isStandardBrowserEnv()&&delete y["Content-Type"];var w=new XMLHttpRequest;if(d.auth){var E=d.auth.username||"",T=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";y.Authorization="Basic "+btoa(E+":"+T)}var A=i(d.baseURL,d.url);w.open(d.method.toUpperCase(),n(A,d.params,d.paramsSerializer),!0),w.timeout=d.timeout;function O(){if(w){var M="getAllResponseHeaders"in w?a(w.getAllResponseHeaders()):null,B=!_||_==="text"||_==="json"?w.responseText:w.response,j={data:B,status:w.status,statusText:w.statusText,headers:M,config:d,request:w};e(function(J){v(J),S()},function(J){g(J),S()},j),w=null}}if("onloadend"in w?w.onloadend=O:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(O)},w.onabort=function(){w&&(g(new u("Request aborted",u.ECONNABORTED,d,w)),w=null)},w.onerror=function(){g(new u("Network Error",u.ERR_NETWORK,d,w)),w=null},w.ontimeout=function(){var B=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",j=d.transitional||s;d.timeoutErrorMessage&&(B=d.timeoutErrorMessage),g(new u(B,j.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,d,w)),w=null},t.isStandardBrowserEnv()&&(x&&t.isFunction(x)&&(x=x(d)),x||x!==!1&&o(A))){var P=d.xsrfHeaderName&&d.xsrfCookieName&&r.read(d.xsrfCookieName);P&&(y[d.xsrfHeaderName]=P)}"setRequestHeader"in w&&t.forEach(y,function(B,j){typeof m>"u"&&j.toLowerCase()==="content-type"?delete y[j]:w.setRequestHeader(j,B)}),t.isUndefined(d.withCredentials)||(w.withCredentials=!!d.withCredentials),_&&_!=="json"&&(w.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&w.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(b=function(M){w&&(g(!M||M.type?new l(null,d,req):M),w.abort(),w=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b))),!m&&m!==!1&&m!==0&&m!==""&&(m=null);var k=c(A);if(k&&f.protocols.indexOf(k)===-1){g(new u("Unsupported protocol "+k+":",u.ERR_BAD_REQUEST,d));return}w.send(m)})},Ig}var fr=_r,MC=fM,FC=ks,hK=hM,dK=mv,pK=J7,NC=zb,vK=dM,mK={"Content-Type":"application/x-www-form-urlencoded"};function LC(t,e){!fr.isUndefined(t)&&fr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function gK(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=kC()),t}function yK(t,e,r){if(fr.isString(t))try{return(e||JSON.parse)(t),fr.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var yv={transitional:hK,adapter:gK(),transformRequest:[function(e,r){MC(r,"Accept"),MC(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,a=fr.isObject(e);a&&fr.isHTMLForm(e)&&(e=new FormData(e));var o=fr.isFormData(e);if(o)return i?JSON.stringify(vK(e)):e;if(fr.isArrayBuffer(e)||fr.isBuffer(e)||fr.isStream(e)||fr.isFile(e)||fr.isBlob(e))return e;if(fr.isArrayBufferView(e))return e.buffer;if(fr.isURLSearchParams(e))return LC(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s;if(a){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return pK(e,this.formSerializer).toString();if((s=fr.isFileList(e))||n.indexOf("multipart/form-data")>-1){var u=this.env&&this.env.FormData;return dK(s?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(LC(r,"application/json"),yK(e)):e}],transformResponse:[function(e){var r=this.transitional||yv.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&fr.isString(e)&&(n&&!this.responseType||i)){var a=r&&r.silentJSONParsing,o=!a&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?FC.from(s,FC.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:NC.classes.FormData,Blob:NC.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};fr.forEach(["delete","get","head"],function(e){yv.headers[e]={}});fr.forEach(["post","put","patch"],function(e){yv.headers[e]=fr.merge(mK)});var Wb=yv,_K=_r,xK=Wb,bK=function(e,r,n,i){var a=this||xK;return _K.forEach(i,function(s){e=s.call(a,e,r,n)}),e},kg,DC;function vM(){return DC||(DC=1,kg=function(e){return!!(e&&e.__CANCEL__)}),kg}var BC=_r,Mg=bK,SK=vM(),wK=Wb,EK=gv(),jC=fM;function Fg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new EK}var TK=function(e){Fg(e),e.headers=e.headers||{},e.data=Mg.call(e,e.data,e.headers,null,e.transformRequest),jC(e.headers,"Accept"),jC(e.headers,"Content-Type"),e.headers=BC.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),BC.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||wK.adapter;return r(e).then(function(i){return Fg(e),i.data=Mg.call(e,i.data,i.headers,i.status,e.transformResponse),i},function(i){return SK(i)||(Fg(e),i&&i.response&&(i.response.data=Mg.call(e,i.response.data,i.response.headers,i.response.status,e.transformResponse))),Promise.reject(i)})},an=_r,mM=function(e,r){r=r||{};var n={};function i(c,f){return an.isPlainObject(c)&&an.isPlainObject(f)?an.merge(c,f):an.isEmptyObject(f)?an.merge({},c):an.isPlainObject(f)?an.merge({},f):an.isArray(f)?f.slice():f}function a(c){if(an.isUndefined(r[c])){if(!an.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],r[c])}function o(c){if(!an.isUndefined(r[c]))return i(void 0,r[c])}function s(c){if(an.isUndefined(r[c])){if(!an.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,r[c])}function u(c){if(c in r)return i(e[c],r[c]);if(c in e)return i(void 0,e[c])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return an.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);an.isUndefined(d)&&h!==u||(n[f]=d)}),n},Ng,UC;function gM(){return UC||(UC=1,Ng={version:"0.28.0"}),Ng}var AK=gM().version,Wa=ks,Yb={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Yb[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var $C={};Yb.transitional=function(e,r,n){function i(a,o){return"[Axios v"+AK+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Wa(i(o," has been removed"+(r?" in "+r:"")),Wa.ERR_DEPRECATED);return r&&!$C[o]&&($C[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function CK(t,e,r){if(typeof t!="object")throw new Wa("options must be an object",Wa.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],u=s===void 0||o(s,a,t);if(u!==!0)throw new Wa("option "+a+" must be "+u,Wa.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wa("Unknown option "+a,Wa.ERR_BAD_OPTION)}}var PK={assertOptions:CK,validators:Yb},Hb=_r,OK=cM,VC=z7,GC=TK,_v=mM,RK=pM,yM=PK,$s=yM.validators;function Dl(t){this.defaults=t,this.interceptors={request:new VC,response:new VC}}Dl.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=_v(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&yM.assertOptions(n,{silentJSONParsing:$s.transitional($s.boolean),forcedJSONParsing:$s.transitional($s.boolean),clarifyTimeoutError:$s.transitional($s.boolean)},!1);var i=r.paramsSerializer;Hb.isFunction(i)&&(r.paramsSerializer={serialize:i});var a=[],o=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(o=o&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});var s=[];this.interceptors.response.forEach(function(p){s.push(p.fulfilled,p.rejected)});var u;if(!o){var l=[GC,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(s),u=Promise.resolve(r);l.length;)u=u.then(l.shift(),l.shift());return u}for(var c=r;a.length;){var f=a.shift(),h=a.shift();try{c=f(c)}catch(d){h(d);break}}try{u=GC(c)}catch(d){return Promise.reject(d)}for(;s.length;)u=u.then(s.shift(),s.shift());return u};Dl.prototype.getUri=function(e){e=_v(this.defaults,e);var r=RK(e.baseURL,e.url);return OK(r,e.params,e.paramsSerializer)};Hb.forEach(["delete","get","head","options"],function(e){Dl.prototype[e]=function(r,n){return this.request(_v(n||{},{method:e,url:r,data:(n||{}).data}))}});Hb.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(_v(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Dl.prototype[e]=r(),Dl.prototype[e+"Form"]=r(!0)});var IK=Dl,Lg,XC;function kK(){if(XC)return Lg;XC=1;var t=gv();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(u){i.subscribe(u),o=u}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o,s,u){i.reason||(i.reason=new t(o,s,u),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},Lg=e,Lg}var Dg,zC;function MK(){return zC||(zC=1,Dg=function(e){return function(n){return e.apply(null,n)}}),Dg}var Bg,WC;function FK(){if(WC)return Bg;WC=1;var t=_r;return Bg=function(r){return t.isObject(r)&&r.isAxiosError===!0},Bg}var e_=_r,NK=Jk,hd=IK,LK=mM,DK=Wb,BK=dM;function _M(t){var e=new hd(t),r=NK(hd.prototype.request,e);return e_.extend(r,hd.prototype,e),e_.extend(r,e),r.create=function(i){return _M(LK(t,i))},r}var vn=_M(DK);vn.Axios=hd;vn.CanceledError=gv();vn.CancelToken=kK();vn.isCancel=vM();vn.VERSION=gM().version;vn.toFormData=mv;vn.AxiosError=ks;vn.Cancel=vn.CanceledError;vn.all=function(e){return Promise.all(e)};vn.spread=MK();vn.isAxiosError=FK();vn.formToJSON=function(t){return BK(e_.isHTMLForm(t)?new FormData(t):t)};Ub.exports=vn;Ub.exports.default=vn;var jK=Ub.exports,UK=jK;const Wc=gn(UK),ua=t=>new Promise((e,r)=>{Wc.get(t).then(n=>{const i=n.data.toString();e(i)}).catch(n=>{r(n)})});var $K="__lodash_hash_undefined__";function VK(t){return this.__data__.set(t,$K),this}var GK=VK;function XK(t){return this.__data__.has(t)}var zK=XK,WK=bb,YK=GK,HK=zK;function op(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new WK;++e<r;)this.add(t[e])}op.prototype.add=op.prototype.push=YK;op.prototype.has=HK;var xM=op;function qK(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var KK=qK;function ZK(t){return t!==t}var QK=ZK;function JK(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var eZ=JK,tZ=KK,rZ=QK,nZ=eZ;function iZ(t,e,r){return e===e?nZ(t,e,r):tZ(t,rZ,r)}var aZ=iZ,oZ=aZ;function sZ(t,e){var r=t==null?0:t.length;return!!r&&oZ(t,e,0)>-1}var lZ=sZ;function uZ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var cZ=uZ;function fZ(t,e){return t.has(e)}var bM=fZ;function hZ(){}var dZ=hZ;function pZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var qb=pZ,jg=bk,vZ=dZ,mZ=qb,gZ=1/0,yZ=jg&&1/mZ(new jg([,-0]))[1]==gZ?function(t){return new jg(t)}:vZ,_Z=yZ,xZ=xM,bZ=lZ,SZ=cZ,wZ=bM,EZ=_Z,TZ=qb,AZ=200;function CZ(t,e,r){var n=-1,i=bZ,a=t.length,o=!0,s=[],u=s;if(r)o=!1,i=SZ;else if(a>=AZ){var l=e?null:EZ(t);if(l)return TZ(l);o=!1,i=wZ,u=new xZ}else u=e?[]:s;e:for(;++n<a;){var c=t[n],f=e?e(c):c;if(c=r||c!==0?c:0,o&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;e&&u.push(f),s.push(c)}else i(u,f,r)||(u!==s&&u.push(f),s.push(c))}return s}var PZ=CZ,OZ=PZ;function RZ(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?OZ(t,void 0,e):[]}var IZ=RZ;const jf=gn(IZ),Uf=t=>{for(const e of t)L.sceneManager.settledScenes.includes(e)?ge.warn(`${e}`):(ge.info(`${e}`),ua(e).then(r=>{ca(r,e,e)}))},kZ=(t,e)=>{L.sceneManager.lockSceneWrite||(L.sceneManager.lockSceneWrite=!0,L.sceneManager.sceneData.sceneStack.push({sceneName:L.sceneManager.sceneData.currentScene.sceneName,sceneUrl:L.sceneManager.sceneData.currentScene.sceneUrl,continueLine:L.sceneManager.sceneData.currentSentenceId}),ua(t).then(r=>{L.sceneManager.sceneData.currentScene=ca(r,e,t),L.sceneManager.sceneData.currentSentenceId=0;const n=L.sceneManager.sceneData.currentScene.subSceneList;L.sceneManager.settledScenes.push(t);const i=jf(n);Uf(i),ge.debug("",L.sceneManager.sceneData),L.sceneManager.lockSceneWrite=!1,tn()}).catch(r=>{ge.error("",r),L.sceneManager.lockSceneWrite=!1}))},MZ=t=>{const e=t.content.split("/"),r=e[e.length-1];return kZ(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Yc(t,e,r){let n;const a=te.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function SM(t,e){const r=L.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alphaFilterVal=0)}function i(){r&&(r.pixiContainer.alphaFilterVal=1)}function a(o){if(r){const s=r.pixiContainer,u=L.gameplay.pixiStage.frameDuration,c=1/(e/u*o);s.alphaFilterVal<1&&(s.alpha+=c)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function wM(t,e){const r=L.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alphaFilterVal=0)}function a(o){if(r){const s=r.pixiContainer,u=L.gameplay.pixiStage.frameDuration,c=1/(e/u*o);s.alphaFilterVal>0&&(s.alphaFilterVal-=c)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const Kb={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};function EM(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var FZ=function(){},YC=function(){};const t_=(t,e,r)=>Math.min(Math.max(r,t),e),Ug=.001,NZ=.01,HC=10,LZ=.05,DZ=1;function BZ({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;FZ(t<=HC*1e3);let o=1-e;o=t_(LZ,DZ,o),t=t_(NZ,HC,t/1e3),o<1?(i=l=>{const c=l*o,f=c*t,h=c-r,d=r_(l,o),p=Math.exp(-f);return Ug-h/d*p},a=l=>{const f=l*o*t,h=f*r+r,d=Math.pow(o,2)*Math.pow(l,2)*t,p=Math.exp(-f),v=r_(Math.pow(l,2),o);return(-i(l)+Ug>0?-1:1)*((h-d)*p)/v}):(i=l=>{const c=Math.exp(-l*t),f=(l-r)*t+1;return-Ug+c*f},a=l=>{const c=Math.exp(-l*t),f=(r-l)*(t*t);return c*f});const s=5/t,u=UZ(i,a,s);if(t=t*1e3,isNaN(u))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const jZ=12;function UZ(t,e,r){let n=r;for(let i=1;i<jZ;i++)n=n-t(n)/e(n);return n}function r_(t,e){return t*Math.sqrt(1-e*e)}const $Z=["duration","bounce"],VZ=["stiffness","damping","mass"];function qC(t,e){return e.some(r=>t[r]!==void 0)}function GZ(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!qC(t,VZ)&&qC(t,$Z)){const r=BZ(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Zb(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=EM(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:u,mass:l,velocity:c,duration:f,isResolvedFromDuration:h}=GZ(a),d=KC,p=KC;function v(){const g=c?-(c/1e3):0,m=r-e,y=u/(2*Math.sqrt(s*l)),_=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),y<1){const x=r_(_,y);d=b=>{const S=Math.exp(-y*_*b);return r-S*((g+y*_*m)/x*Math.sin(x*b)+m*Math.cos(x*b))},p=b=>{const S=Math.exp(-y*_*b);return y*_*S*(Math.sin(x*b)*(g+y*_*m)/x+m*Math.cos(x*b))-S*(Math.cos(x*b)*(g+y*_*m)-x*m*Math.sin(x*b))}}else if(y===1)d=x=>r-Math.exp(-_*x)*(m+(g+_*m)*x);else{const x=_*Math.sqrt(y*y-1);d=b=>{const S=Math.exp(-y*_*b),w=Math.min(x*b,300);return r-S*((g+y*_*m)*Math.sinh(w)+x*m*Math.cosh(w))/x}}}return v(),{next:g=>{const m=d(g);if(h)o.done=g>=f;else{const y=p(g)*1e3,_=Math.abs(y)<=n,x=Math.abs(r-m)<=i;o.done=_&&x}return o.value=o.done?r:m,o},flipTarget:()=>{c=-c,[e,r]=[r,e],v()}}}Zb.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const KC=t=>0,TM=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Qb=(t,e,r)=>-r*t+r*e+t,AM=(t,e)=>r=>Math.max(Math.min(r,e),t),bc=t=>t%1?Number(t.toFixed(5)):t,sp=/(-)?([\d]*\.?[\d])+/g,n_=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,XZ=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $f(t){return typeof t=="string"}const xv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},CM=Object.assign(Object.assign({},xv),{transform:AM(0,1)});Object.assign(Object.assign({},xv),{default:1});const zZ=t=>({test:e=>$f(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sc=zZ("%");Object.assign(Object.assign({},Sc),{parse:t=>Sc.parse(t)/100,transform:t=>Sc.transform(t*100)});const Jb=(t,e)=>r=>!!($f(r)&&XZ.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),PM=(t,e,r)=>n=>{if(!$f(n))return n;const[i,a,o,s]=n.match(sp);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},es={test:Jb("hsl","hue"),parse:PM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Sc.transform(bc(e))+", "+Sc.transform(bc(r))+", "+bc(CM.transform(n))+")"},WZ=AM(0,255),$g=Object.assign(Object.assign({},xv),{transform:t=>Math.round(WZ(t))}),eo={test:Jb("rgb","red"),parse:PM("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+$g.transform(t)+", "+$g.transform(e)+", "+$g.transform(r)+", "+bc(CM.transform(n))+")"};function YZ(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const i_={test:Jb("#"),parse:YZ,transform:eo.transform},bv={test:t=>eo.test(t)||i_.test(t)||es.test(t),parse:t=>eo.test(t)?eo.parse(t):es.test(t)?es.parse(t):i_.parse(t),transform:t=>$f(t)?t:t.hasOwnProperty("red")?eo.transform(t):es.transform(t)},OM="${c}",RM="${n}";function HZ(t){var e,r,n,i;return isNaN(t)&&$f(t)&&((r=(e=t.match(sp))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(n_))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function IM(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(n_);n&&(r=n.length,t=t.replace(n_,OM),e.push(...n.map(bv.parse)));const i=t.match(sp);return i&&(t=t.replace(sp,RM),e.push(...i.map(xv.parse))),{values:e,numColors:r,tokenised:t}}function kM(t){return IM(t).values}function MM(t){const{values:e,numColors:r,tokenised:n}=IM(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?OM:RM,s<r?bv.transform(a[s]):bc(a[s]));return o}}const qZ=t=>typeof t=="number"?0:t;function KZ(t){const e=kM(t);return MM(t)(e.map(qZ))}const FM={test:HZ,parse:kM,createTransformer:MM,getAnimatableNone:KZ};function Vg(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ZC({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,u=2*r-s;i=Vg(u,s,t+1/3),a=Vg(u,s,t),o=Vg(u,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const ZZ=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},QZ=[i_,eo,es],QC=t=>QZ.find(e=>e.test(t)),NM=(t,e)=>{let r=QC(t),n=QC(e),i=r.parse(t),a=n.parse(e);r===es&&(i=ZC(i),r=eo),n===es&&(a=ZC(a),n=eo);const o=Object.assign({},i);return s=>{for(const u in o)u!=="alpha"&&(o[u]=ZZ(i[u],a[u],s));return o.alpha=Qb(i.alpha,a.alpha,s),r.transform(o)}},JZ=t=>typeof t=="number",eQ=(t,e)=>r=>e(t(r)),LM=(...t)=>t.reduce(eQ);function DM(t,e){return JZ(t)?r=>Qb(t,e,r):bv.test(t)?NM(t,e):jM(t,e)}const BM=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>DM(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},tQ=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=DM(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function JC(t){const e=FM.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const jM=(t,e)=>{const r=FM.createTransformer(e),n=JC(t),i=JC(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?LM(BM(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},rQ=(t,e)=>r=>Qb(t,e,r);function nQ(t){if(typeof t=="number")return rQ;if(typeof t=="string")return bv.test(t)?NM:jM;if(Array.isArray(t))return BM;if(typeof t=="object")return tQ}function iQ(t,e,r){const n=[],i=r||nQ(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]:e;s=LM(u,s)}n.push(s)}return n}function aQ([t,e],[r]){return n=>r(TM(t,e,n))}function oQ(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let u=1;for(;u<r&&!(t[u]>i||u===n);u++);a=u-1}const s=TM(t[a],t[a+1],i);return e[a](s)}}function UM(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;YC(a===e.length),YC(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=iQ(e,n,i),s=a===2?aQ(t,o):oQ(t,o);return r?u=>s(t_(t[0],t[a-1],u)):s}const sQ=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lQ=t=>e=>Math.pow(e,t),uQ=t=>e=>e*e*((t+1)*e-t),cQ=t=>{const e=uQ(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},fQ=1.525,hQ=lQ(2),dQ=sQ(hQ);cQ(fQ);function pQ(t,e){return t.map(()=>e||dQ).splice(0,t.length-1)}function vQ(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function mQ(t,e){return t.map(r=>r*e)}function dd({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=mQ(n&&n.length===o.length?n:vQ(o),i);function u(){return UM(s,o,{ease:Array.isArray(r)?r:pQ(o,r)})}let l=u();return{next:c=>(a.value=l(c),a.done=c>=i,a),flipTarget:()=>{o.reverse(),l=u()}}}function gQ({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const u=e+s,l=a===void 0?u:a(u);return l!==u&&(s=l-e),{next:c=>{const f=-s*Math.exp(-c/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const eP={keyframes:dd,spring:Zb,decay:gQ};function yQ(t){if(Array.isArray(t.to))return dd;if(eP[t.type])return eP[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?dd:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Zb:dd}const $M=1/60*1e3,_Q=typeof performance<"u"?()=>performance.now():()=>Date.now(),VM=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(_Q()),$M);function xQ(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(u,l=!1,c=!1)=>{const f=c&&i,h=f?e:r;return l&&o.add(u),h.indexOf(u)===-1&&(h.push(u),f&&i&&(n=e.length)),u},cancel:u=>{const l=r.indexOf(u);l!==-1&&r.splice(l,1),o.delete(u)},process:u=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const c=e[l];c(u),o.has(c)&&(s.schedule(c),t())}i=!1,a&&(a=!1,s.process(u))}};return s}const bQ=40;let a_=!0,Hc=!1,o_=!1;const wc={delta:0,timestamp:0},Vf=["read","update","preRender","render","postRender"],Sv=Vf.reduce((t,e)=>(t[e]=xQ(()=>Hc=!0),t),{}),SQ=Vf.reduce((t,e)=>{const r=Sv[e];return t[e]=(n,i=!1,a=!1)=>(Hc||TQ(),r.schedule(n,i,a)),t},{}),wQ=Vf.reduce((t,e)=>(t[e]=Sv[e].cancel,t),{});Vf.reduce((t,e)=>(t[e]=()=>Sv[e].process(wc),t),{});const EQ=t=>Sv[t].process(wc),GM=t=>{Hc=!1,wc.delta=a_?$M:Math.max(Math.min(t-wc.timestamp,bQ),1),wc.timestamp=t,o_=!0,Vf.forEach(EQ),o_=!1,Hc&&(a_=!1,VM(GM))},TQ=()=>{Hc=!0,a_=!0,o_||VM(GM)},AQ=SQ;function XM(t,e,r=0){return t-e-r}function CQ(t,e,r=0,n=!0){return n?XM(e+-t,e,r):e-(t-e)+r}function PQ(t,e,r,n){return n?t>=e+r:t<=-r}const OQ=t=>{const e=({delta:r})=>t(r);return{start:()=>AQ.update(e,!0),stop:()=>wQ.update(e)}};function RQ(t){var e,r,{from:n,autoplay:i=!0,driver:a=OQ,elapsed:o=0,repeat:s=0,repeatType:u="loop",repeatDelay:l=0,onPlay:c,onStop:f,onComplete:h,onRepeat:d,onUpdate:p}=t,v=EM(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:g}=v,m,y=0,_=v.duration,x,b=!1,S=!0,w;const E=yQ(v);!((r=(e=E).needsInterpolation)===null||r===void 0)&&r.call(e,n,g)&&(w=UM([0,100],[n,g],{clamp:!1}),n=0,g=100);const T=E(Object.assign(Object.assign({},v),{from:n,to:g}));function A(){y++,u==="reverse"?(S=y%2===0,o=CQ(o,_,l,S)):(o=XM(o,_,l),u==="mirror"&&T.flipTarget()),b=!1,d&&d()}function O(){m.stop(),h&&h()}function P(M){if(S||(M=-M),o+=M,!b){const B=T.next(Math.max(0,o));x=B.value,w&&(x=w(x)),b=S?B.done:o<=0}p==null||p(x),b&&(y===0&&(_??(_=o)),y<s?PQ(o,_,l,S)&&A():O())}function k(){c==null||c(),m=a(P),m.start()}return i&&k(),{stop:()=>{f==null||f(),m.stop()}}}function IQ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var kQ=IQ,MQ=xM,FQ=kQ,NQ=bM,LQ=1,DQ=2;function BQ(t,e,r,n,i,a){var o=r&LQ,s=t.length,u=e.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(t),c=a.get(e);if(l&&c)return l==e&&c==t;var f=-1,h=!0,d=r&DQ?new MQ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],v=e[f];if(n)var g=o?n(v,p,f,e,t,a):n(p,v,f,t,e,a);if(g!==void 0){if(g)continue;h=!1;break}if(d){if(!FQ(e,function(m,y){if(!NQ(d,y)&&(p===m||i(p,m,r,n,a)))return d.push(y)})){h=!1;break}}else if(!(p===v||i(p,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var zM=BQ;function jQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var UQ=jQ,tP=Nf,rP=wk,$Q=_b,VQ=zM,GQ=UQ,XQ=qb,zQ=1,WQ=2,YQ="[object Boolean]",HQ="[object Date]",qQ="[object Error]",KQ="[object Map]",ZQ="[object Number]",QQ="[object RegExp]",JQ="[object Set]",eJ="[object String]",tJ="[object Symbol]",rJ="[object ArrayBuffer]",nJ="[object DataView]",nP=tP?tP.prototype:void 0,Gg=nP?nP.valueOf:void 0;function iJ(t,e,r,n,i,a,o){switch(r){case nJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rJ:return!(t.byteLength!=e.byteLength||!a(new rP(t),new rP(e)));case YQ:case HQ:case ZQ:return $Q(+t,+e);case qQ:return t.name==e.name&&t.message==e.message;case QQ:case eJ:return t==e+"";case KQ:var s=GQ;case JQ:var u=n&zQ;if(s||(s=XQ),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;n|=WQ,o.set(t,e);var c=VQ(s(t),s(e),n,i,a,o);return o.delete(t),c;case tJ:if(Gg)return Gg.call(t)==Gg.call(e)}return!1}var aJ=iJ,iP=_k,oJ=1,sJ=Object.prototype,lJ=sJ.hasOwnProperty;function uJ(t,e,r,n,i,a){var o=r&oJ,s=iP(t),u=s.length,l=iP(e),c=l.length;if(u!=c&&!o)return!1;for(var f=u;f--;){var h=s[f];if(!(o?h in e:lJ.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var v=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<u;){h=s[f];var m=t[h],y=e[h];if(n)var _=o?n(y,m,h,e,t,a):n(m,y,h,t,e,a);if(!(_===void 0?m===y||i(m,y,r,n,a):_)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(v=!1)}return a.delete(t),a.delete(e),v}var cJ=uJ,Xg=Sb,fJ=zM,hJ=aJ,dJ=cJ,aP=av,oP=Da,sP=Eb,pJ=ck,vJ=1,lP="[object Arguments]",uP="[object Array]",mh="[object Object]",mJ=Object.prototype,cP=mJ.hasOwnProperty;function gJ(t,e,r,n,i,a){var o=oP(t),s=oP(e),u=o?uP:aP(t),l=s?uP:aP(e);u=u==lP?mh:u,l=l==lP?mh:l;var c=u==mh,f=l==mh,h=u==l;if(h&&sP(t)){if(!sP(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Xg),o||pJ(t)?fJ(t,e,r,n,i,a):hJ(t,e,u,r,n,i,a);if(!(r&vJ)){var d=c&&cP.call(t,"__wrapped__"),p=f&&cP.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return a||(a=new Xg),i(v,g,r,n,a)}}return h?(a||(a=new Xg),dJ(t,e,r,n,i,a)):!1}var yJ=gJ,_J=yJ,fP=Ps;function WM(t,e,r,n,i){return t===e?!0:t==null||e==null||!fP(t)&&!fP(e)?t!==t&&e!==e:_J(t,e,r,n,WM,i)}var YM=WM,xJ=Sb,bJ=YM,SJ=1,wJ=2;function EJ(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var u=s[0],l=t[u],c=s[1];if(o&&s[2]){if(l===void 0&&!(u in t))return!1}else{var f=new xJ;if(n)var h=n(l,c,u,t,e,f);if(!(h===void 0?bJ(c,l,SJ|wJ,n,f):h))return!1}}return!0}var TJ=EJ,AJ=sa;function CJ(t){return t===t&&!AJ(t)}var HM=CJ,PJ=HM,OJ=iv;function RJ(t){for(var e=OJ(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,PJ(i)]}return e}var IJ=RJ;function kJ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var qM=kJ,MJ=TJ,FJ=IJ,NJ=qM;function LJ(t){var e=FJ(t);return e.length==1&&e[0][2]?NJ(e[0][0],e[0][1]):function(r){return r===t||MJ(r,t,e)}}var DJ=LJ,BJ=Lf,jJ=Ps,UJ="[object Symbol]";function $J(t){return typeof t=="symbol"||jJ(t)&&BJ(t)==UJ}var wv=$J,VJ=Da,GJ=wv,XJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zJ=/^\w*$/;function WJ(t,e){if(VJ(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||GJ(t)?!0:zJ.test(t)||!XJ.test(t)||e!=null&&t in Object(e)}var eS=WJ,KM=bb,YJ="Expected a function";function tS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YJ);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(tS.Cache||KM),r}tS.Cache=KM;var HJ=tS,qJ=HJ,KJ=500;function ZJ(t){var e=qJ(t,function(n){return r.size===KJ&&r.clear(),n}),r=e.cache;return e}var QJ=ZJ,JJ=QJ,eee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tee=/\\(\\)?/g,ree=JJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(eee,function(r,n,i,a){e.push(i?a.replace(tee,"$1"):n||r)}),e}),nee=ree;function iee(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var ZM=iee,hP=Nf,aee=ZM,oee=Da,see=wv,lee=1/0,dP=hP?hP.prototype:void 0,pP=dP?dP.toString:void 0;function QM(t){if(typeof t=="string")return t;if(oee(t))return aee(t,QM)+"";if(see(t))return pP?pP.call(t):"";var e=t+"";return e=="0"&&1/t==-lee?"-0":e}var uee=QM,cee=uee;function fee(t){return t==null?"":cee(t)}var hee=fee,dee=Da,pee=eS,vee=nee,mee=hee;function gee(t,e){return dee(t)?t:pee(t,e)?[t]:vee(mee(t))}var Ev=gee,yee=wv,_ee=1/0;function xee(t){if(typeof t=="string"||yee(t))return t;var e=t+"";return e=="0"&&1/t==-_ee?"-0":e}var Gf=xee,bee=Ev,See=Gf;function wee(t,e){e=bee(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[See(e[r++])];return r&&r==n?t:void 0}var rS=wee,Eee=rS;function Tee(t,e,r){var n=t==null?void 0:Eee(t,e);return n===void 0?r:n}var JM=Tee;const Aee=gn(JM);function Cee(t,e){return t!=null&&e in Object(t)}var Pee=Cee,Oee=Ev,Ree=uk,Iee=Da,kee=Tb,Mee=Ab,Fee=Gf;function Nee(t,e,r){e=Oee(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Fee(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Mee(i)&&kee(o,i)&&(Iee(t)||Ree(t)))}var Lee=Nee,Dee=Pee,Bee=Lee;function jee(t,e){return t!=null&&Bee(t,e,Dee)}var Uee=jee,$ee=YM,Vee=JM,Gee=Uee,Xee=eS,zee=HM,Wee=qM,Yee=Gf,Hee=1,qee=2;function Kee(t,e){return Xee(t)&&zee(e)?Wee(Yee(t),e):function(r){var n=Vee(r,t);return n===void 0&&n===e?Gee(r,t):$ee(e,n,Hee|qee)}}var Zee=Kee;function Qee(t){return t}var Jee=Qee;function ete(t){return function(e){return e==null?void 0:e[t]}}var tte=ete,rte=rS;function nte(t){return function(e){return rte(e,t)}}var ite=nte,ate=tte,ote=ite,ste=eS,lte=Gf;function ute(t){return ste(t)?ate(lte(t)):ote(t)}var cte=ute,fte=DJ,hte=Zee,dte=Jee,pte=Da,vte=cte;function mte(t){return typeof t=="function"?t:t==null?dte:typeof t=="object"?pte(t)?hte(t[0],t[1]):fte(t):vte(t)}var eF=mte,gte="Expected a function";function yte(t){if(typeof t!="function")throw new TypeError(gte);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var _te=yte,xte=wb,bte=Ev,Ste=Tb,vP=sa,wte=Gf;function Ete(t,e,r,n){if(!vP(t))return t;e=bte(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var u=wte(e[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=o){var c=s[u];l=n?n(c,u,s):void 0,l===void 0&&(l=vP(c)?c:Ste(e[i+1])?[]:{})}xte(s,u,l),s=s[u]}return t}var Tte=Ete,Ate=rS,Cte=Tte,Pte=Ev;function Ote(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=Ate(t,o);r(s,o)&&Cte(a,Pte(o,t),s)}return a}var Rte=Ote,Ite=ZM,kte=eF,Mte=Rte,Fte=xk;function Nte(t,e){if(t==null)return{};var r=Ite(Fte(t),function(n){return[n]});return e=kte(e),Mte(t,r,function(n,i){return e(n,i[0])})}var Lte=Nte,Dte=eF,Bte=_te,jte=Lte;function Ute(t,e){return jte(t,Bte(Dte(e)))}var $te=Ute;const zg=gn($te);function Vte(t){return t===void 0}var Gte=Vte;const ga=gn(Gte);function tF(t,e,r){for(const m of t)m.alphaFilterVal=m.alpha,m.alpha=1;const n=L.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const m of t){const y=m.duration;i+=y;const{position:_,scale:x,...b}=m;a.push({x:_.x,y:_.y,scaleX:x.x,scaleY:x.y,...b}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let u=null;r>0&&(u=RQ({to:a,offset:o,duration:r,onUpdate:m=>{if(s){const{scaleX:y,scaleY:_,...x}=m;Object.assign(s,zg(x,ga)),ga(y)||(s.scale.x=y),ga(_)||(s.scale.y=_)}}}));const{duration:l,...c}=v();te.dispatch(Tr.updateEffect({target:e,transform:c}));function f(){if(n!=null&&n.pixiContainer){const{position:m,scale:y,..._}=p(),x=zg({x:m.x,y:m.y,..._},ga);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(ga(y.x)||(n.pixiContainer.scale.x=y.x),ga(y==null?void 0:y.y)||(n.pixiContainer.scale.y=y.y))}}function h(){if(u&&u.stop(),u=null,n!=null&&n.pixiContainer){const{position:m,scale:y,..._}=v(),x=zg({x:m.x,y:m.y,..._},ga);Object.assign(n==null?void 0:n.pixiContainer,x),n!=null&&n.pixiContainer&&(ga(y.x)||(n.pixiContainer.scale.x=y.x),ga(y==null?void 0:y.y)||(n.pixiContainer.scale.y=y.y))}}function d(m){}function p(){return t[0]}function v(){return t[t.length-1]}function g(){const m=t[t.length-1],{alpha:y,rotation:_,blur:x,duration:b,scale:S,position:w,...E}=m;return E}return{setStartState:f,setEndState:h,tickerFunc:d,getEndFilterEffect:g}}function lp(t,e,r){const n=L.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=te.getState().stage.effects.find(u=>u.target===e),s=Jt({...(o==null?void 0:o.transform)??Kb,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return ge.debug("",i),tF(i,e,r)}return null}function En(t){const e=L.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function Ka(t,e,r=!1,n){if(e==="enter"){let i=500;r&&(i=1500);let a=SM(n??t,i);const o=L.animationManager.nextEnterAnimationName.get(t);return o&&(ge.debug("",t),a=lp(o,n??t,En(o)),i=En(o),L.animationManager.nextEnterAnimationName.delete(t)),{duration:i,animation:a}}else{let i=750;r&&(i=1500);let a=wM(n??t,i);const o=L.animationManager.nextExitAnimationName.get(t);return o&&(ge.debug("",t),a=lp(o,n??t,En(o)),i=En(o),L.animationManager.nextExitAnimationName.delete(t)),{duration:i,animation:a}}}const Xte=t=>{const e=t.content;let r="",n="default";t.args.forEach(l=>{l.key==="unlockname"&&(r=l.value.toString()),l.key==="series"&&(n=l.value.toString())});const i=te.dispatch;r!==""&&i(zk({name:r,url:e,series:n})),i(Tr.removeEffectByTargetId("bg-main"));const a=He(t,"transform");let o=He(t,"duration");(!o||typeof o!="number")&&(o=1e3);let s;if(a)try{const l=JSON.parse(a.toString());s=Yc("bg-main",l,o),s[0].alpha=0;const c=(Math.random()*10).toString(16),f={name:c,effects:s};L.animationManager.addAnimation(f),o=En(c),L.animationManager.nextEnterAnimationName.set("bg-main",c)}catch{u()}else u();function u(){s=Yc("bg-main",{},o),s[0].alpha=0;const c=(Math.random()*10).toString(16),f={name:c,effects:s};L.animationManager.addAnimation(f),o=En(c),L.animationManager.nextEnterAnimationName.set("bg-main",c)}return He(t,"enter")&&(L.animationManager.nextEnterAnimationName.set("bg-main",He(t,"enter").toString()),o=En(He(t,"enter").toString())),He(t,"exit")&&(L.animationManager.nextExitAnimationName.set("bg-main-off",He(t,"exit").toString()),o=En(He(t,"exit").toString())),i(Ge({key:"bgName",value:t.content})),{performName:"none",duration:o,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function zte(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,u="",l="",c="",f="",h="",d="",p="",v=-1;const g=te.dispatch;for(const w of t.args)switch(w.key){case"left":w.value===!0&&(e="left");break;case"right":w.value===!0&&(e="right");break;case"clear":w.value===!0&&(r="");break;case"id":n=!0,o=w.value.toString();break;case"motion":i=w.value.toString();break;case"bounds":p=String(w.value);break;case"expression":a=w.value.toString();break;case"mouthOpen":u=w.value.toString(),u=Nn(u,Fn.figure);break;case"mouthClose":l=w.value.toString(),l=Nn(l,Fn.figure);break;case"mouthHalfOpen":c=w.value.toString(),c=Nn(c,Fn.figure);break;case"eyesOpen":f=w.value.toString(),f=Nn(f,Fn.figure);break;case"eyesClose":h=w.value.toString(),h=Nn(h,Fn.figure);break;case"animationFlag":d=w.value.toString();break;case"none":r="";break;case"zIndex":v=Number(w.value);break}const m=o||`fig-${e}`,_=te.getState().stage.figureAssociatedAnimation.filter(w=>w.targetId!==m),x={targetId:m,animationFlag:d,mouthAnimation:{open:u,close:l,halfOpen:c},blinkAnimation:{open:f,close:h}};_.push(x),g(Ge({key:"figureAssociatedAnimation",value:_}));let b=!0;if(o!==""){const w=te.getState().stage.freeFigure.find(E=>E.key===o);w&&w.name===t.content&&(b=!1)}else e==="center"&&te.getState().stage.figName===t.content&&(b=!1),e==="left"&&te.getState().stage.figNameLeft===t.content&&(b=!1),e==="right"&&te.getState().stage.figNameRight===t.content&&(b=!1);if(b){const w=`fig-${e}`,E=`${o}`;te.dispatch(Tr.removeEffectByTargetId(w)),te.dispatch(Tr.removeEffectByTargetId(E)),g(Tr.setFigureMetaData([w,"zIndex",0,!0])),g(Tr.setFigureMetaData([E,"zIndex",0,!0]))}const S=(w,E)=>{const T=He(E,"transform"),A=He(E,"duration");A&&typeof A=="number"&&(s=A);let O;if(T){console.log(T);try{const B=JSON.parse(T.toString());O=Yc(w,B,s),O[0].alpha=0;const j=(Math.random()*10).toString(16),z={name:j,effects:O};L.animationManager.addAnimation(z),s=En(j),L.animationManager.nextEnterAnimationName.set(w,j)}catch{P()}}else P();function P(){O=Yc(w,{},s),O[0].alpha=0;const j=(Math.random()*10).toString(16),z={name:j,effects:O};L.animationManager.addAnimation(z),s=En(j),L.animationManager.nextEnterAnimationName.set(w,j)}const k=He(E,"enter"),M=He(E,"exit");k&&(L.animationManager.nextEnterAnimationName.set(w,k.toString()),s=En(k.toString())),M&&(L.animationManager.nextExitAnimationName.set(w+"-off",M.toString()),s=En(M.toString()))};if(n){const w={key:o,name:r,basePosition:e};S(o,t),(i||p)&&g(Tr.setLive2dMotion({target:o,motion:i,overrideBounds:mP(p)})),a&&g(Tr.setLive2dExpression({target:o,expression:a})),v>0&&g(Tr.setFigureMetaData([o,"zIndex",v,!1])),g(Tr.setFreeFigureByKey(w))}else{const w={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"figName",left:"figNameLeft",right:"figNameRight"};o=w[e],S(o,t),(i||p)&&g(Tr.setLive2dMotion({target:o,motion:i,overrideBounds:mP(p)})),a&&g(Tr.setLive2dExpression({target:o,expression:a})),v>0&&g(Tr.setFigureMetaData([o,"zIndex",v,!1])),g(Ge({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}function mP(t){const e=t.split(",").map(n=>Number(n));let r=!0;if(e.forEach(n=>{isNaN(n)&&(r=!1)}),r=r&&e.length===4,r)return e}const rF=(t,e)=>{L.sceneManager.lockSceneWrite||(L.sceneManager.lockSceneWrite=!0,ua(t).then(r=>{L.sceneManager.sceneData.currentScene=ca(r,e,t),L.sceneManager.sceneData.currentSentenceId=0;const n=L.sceneManager.sceneData.currentScene.subSceneList;L.sceneManager.settledScenes.push(t);const i=jf(n);Uf(i),ge.debug("",L.sceneManager.sceneData),L.sceneManager.lockSceneWrite=!1,tn()}).catch(r=>{ge.error("",r),L.sceneManager.lockSceneWrite=!1}))},Wte=t=>{const e=t.content.split("/"),r=e[e.length-1];return rF(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},nF=t=>{const e=L.sceneManager.sceneData.currentSentenceId;let r=e;L.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Qe.label&&n.content===t&&i!==e&&(r=i)}),L.sceneManager.sceneData.currentSentenceId=r,setTimeout(tn,1)},Yte="_Choose_Main_1kza1_1",Hte="_Choose_item_1kza1_13",qte="_Choose_item_disabled_1kza1_34",Kte="_Choose_item_outer_1kza1_50",gh={Choose_Main:Yte,Choose_item:Hte,Choose_item_disabled:qte,Choose_item_outer:Kte},Zte=""+new URL("page-flip-1-7df32409.mp3",import.meta.url).href,Qte=""+new URL("switch-1-99b576bc.mp3",import.meta.url).href,iF="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjE0LjEwMAAAAAAAAAAAAAAA//OAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAHAAAGhgA/Pz8/Pz8/Pz8/Pz8/P19fX19fX19fX19fX19ff39/f39/f39/f39/f3+fn5+fn5+fn5+fn5+fn5+/v7+/v7+/v7+/v7+/v9/f39/f39/f39/f39/f//////////////////8AAAAATGF2YzU3LjE1AAAAAAAAAAAAAAAAJAAAAAAAAAAABoYV32R7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgGQAAAABpAAAAAAAAANIAAAAACADH/+QtN3NAAAKF6IiVEl7hE0Sv/+XsgGgCgQDQFAgGg3D+yBShQzd+K0qXyBQyRQUp3hEkUMGn/8oCBQ5KOIf+sPl3//+Xf/+GP//6w+EgFgk/nOfWhA4Q4ABxjnQhDhCD3pgIQLAARlkyZ8Ew+Ud1AgUOfy7/4OeGOUORPD//wwUd/KHP//+GPykMA445BCHBIYg4ZC4AyGP+PuWtgyRb6quwuJvp+v8wQwDAKoXYMnpC0w6gAc0HLf/84JkuwnkuN6ioaAAD3CpsVVFMAAFQBkWjRnE4hYMOnIaT5sXEGFHCyMLPhfcDTHTUmRcgnQMuCfCKHjcDRlTchxFTcEHsKGiBNQ6mLhLkNImWi8PkY6s3kUWgaJmjd1igSfFzk+gLLIOcMi4gXyupR9A20G/4zAhOJ/PDgGYKI4y4LMEEBYhnUz1lpozrmZk3//lsky4s+TB4ul8ny6YOV0FmRx0ElHlMbNWYOr///1uZFQ3IGRNBRmfWlRUYkeV8mVhC5j/+UOiwF4DdcGgB//zgmTqHCnhQS/NUAGcStp6X4JQAARBgQCDIwGbMjrzxBIRk8s4+IS7mMEYN4elXLheFicbuxm88zzzHaw/G//9DCJ+eYRf8WGFtZp9ydCUvPMKGf/57ZjPRjzHtq+3//+YZ2U8817jxbb1vcn/1yAPkAgGUJuPiliw1FHilYbAAkIkV4CdGauxnChrTd+JTOW4BTlAB55YoeqaxWm7Wv8xLqLOiiZLUixqapJF5JNAcoviEoN2gAwAUcLiN5Mk6i3TRU+ikk++6KKKTqSKyBsx//OCZFMVigU/GuzMAIuQEq5fwxACNMZGRPKvoqXbR0UbJP11I0t9J/SqSrRZ0lXoqetSTnWoto0kl26LJGJqizoJmtJSSNSWk7WdTpXUkiigbVor9K6lpKSrdFNi8gnstA65dQVWxkXlGyTGRiRt9gUkBwgAggllBkQbKigffEMUfzqlL+6Ruli5Bv+4lPf//////X/////o0Wte9XLYBs4JbHGkwql7GrPNPMusqAJDUPzthoURwGi5eZyu+VuecNrURSYBU/p8//81Vf+Znkn/84JkNA4gwTcvDYYmF1lmTbAzByQpycp3ROJPn025p4SQJoSeFQoViUUAoiJFRL3c8JRUNETudLFn0MtLDwrM4lUeOiJtiztbvBk6xyPrctYdEkBpA09q2Xn9/TmkZxYMuXBUW17I4clP/nKrXbW/C6FI5G0z11z31L9fvGqoAzY1X86WwYUHIdWCvLEwkeEq3kQ7iI8MPM/ssO/8OnlHsFW1nWeCvyzwVOtEvHuyqv/8hOYSETL//NtNaySXOSsAqIiRrkS82UvXUvppbobMbv/zgmQhC0HzBAAEwpKVEO4JYAjTIJ/y/0egY3vXWaZv65cpZm36G/mMUpdalcpStzalb1KXUoUBf8pXKyGM5Sv/TRRPKoUSQMYKTJfSwiUDeW+ZhhmIXNYfiyfSbiqFFLNEQaajFVnrO9YLTodKvET9Z0FcSgq6s6eIz3uLcFQmCxJY06W/g0Cri31AqGrq56EgaXxLPCUNdBZ5USrBUse3BqpNF93yP//yMyMDWEJGQ01////MjMv//I1kcjJrLf/stlzL55SkyyOX5q0cjVrL//OCZC4KtfrOGgAjbodYBawMAEQAYf//+Rk1qGRqygo5GRq1sP/sln//cyNWCg0cj//ZZZZKh+asCHP8lAL////9n/////////GMYm3raaWKige/+sW+LesVTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",Jte=""+new URL("dialog-d5b91235.mp3",import.meta.url).href,aF="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjIzLjEwMQAAAAAAAAAAAAAA//OAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAHAAAGhgA/Pz8/Pz8/Pz8/Pz8/P19fX19fX19fX19fX19ff39/f39/f39/f39/f3+fn5+fn5+fn5+fn5+fn5+/v7+/v7+/v7+/v7+/v9/f39/f39/f39/f39/f//////////////////8AAAAATGF2YzU4LjQwAAAAAAAAAAAAAAAAJAL7AAAAAAAABobgvJxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgGQADLH/PRigiACM0AZ+XUAQAoAVYA9AY3IAASAgeRjeQMhP0O/nec/1cn+Qnv/8n+RuhGUhPoQDPISc6HP1Oec7+pwAROeQikI3IT////z+p3Q56VOd/nOc5JzyAAhQAAI053QDFnoQjKACGvoQ7yThzoBgZ8ADMJQURtuNAkMH4P4P+XOZD4f5d/D/64f/3co7/8H8u/wQ5R3/+sPiN8TvB95SDgYT/yjgQf+mpbd5dJrdLkpewIOA5GsDQUQZnZzSB6Q1U50Guqy9OaH/84JkIg/hbXkux6gBEfpLBx+SKAZQvxWLwbxAAoJRbMJjWBoPcgIzjpzzz2clFsxj0ITlVELLXdjzyg8Q3UoM0PPct+QCw/6D5KMrNmLdXOUnPRjXJ3nMYVFVfnfdzf//q//MR+Q/8uwB0uyB/lVHlY6YhEIGR4cHYHAcAZwSQAJAcAocdAxoAMh6L1HV969TxECi7iHlYn7jW//an//+JXU5/9v4l//6EM3f83/41j3///+ozd63/9C2p2W2W22i0Mq2OVytAvxB06nWCVQIZP/zgmQXD4W5ey/HqAEQUkbOR4koAmYRklcoUe+Yd1AuC8AHmsVSoIxFCwPh6RI8ajdB8807yw/JxoLbsai/djzjScCv+Q/lARCSFyRC8hIFYZkF06Dv//MLs5zV+edqzv6krdvP9V/yO3p66H//n73UnMetFzzx4P/MNxBOVut0AFwIAARCgysYSXL+VO2TXhMWBADVCKKhQmjLmX/////0/P+rf7f///29++FO9LfYWYp//Z9n/yHlg30VsPil34MMSQVrYqfLAYVacpCtK1Oq//OCZBUPGaFC3+e0AA8ZVoZdyxAA2az68kOa28sO3puYoqNkUTUxnD6CKnSNlGTJJositaK2TdJSb2NWSX/SSScyDlAnQ6myTv/1X0aJePGZqjnT1FL6v9SRkXW/dVaKP6VaKLOv//+r//X/ZzF06dSFLuv/1B0aZUKwhImgCMAB2aHaUe7x55QPP/rp3zyZZf/VkdS3RFZ3m/9H//iSCn/1Qaev/0CVH3+oO1P///1t+j//9KoPL7QDcAaC4x+83dEEEvXL3vljkRVf5ZqiVpT/84JkGw5BSSx+MMpOEjoual7AxBzqOG5mzBJL6c7URxGtROS/Zu8vMwc2/naKcgTgLi5R79f/ZSUVjWOSaa1aHK5xM/apQnJHJUuTbXQ5VN09HRzSUNfirDtAVBYCwdfpJmYrjDVue/9pJZFMiSvSUMuMAg40uvlBXQECFUh3VKcOGoUBJAurXLsY3+xpv///1aZAwAP///yghpkdW/5qt8OMEMKKg7/pDn///h1/Ues6P/xLEaAkoyibeSeC8E+AuhymiEos8tLHJNRoThxKnP/zgmQcDD0TFAk8xToRuh4sCGgPKooy1Y8s/q2X/ZH//6tqJAEEQwRKxjI9y1KWWqPDw8awiKqQPPob/pRUDwAioCEtX9R7/9eGlncrLPLBVgKmRZ+GpD/tqEogdIXwLlNkUnUxiamSS0W/ooqUlrot//zUCIHRc05Zrqaabod86PDZv/+b/UamAIGjTP+W/879s9liLSrmCVxXgq7xL+RKoQZ+UAAwBYQh4Rig2ZaVmytcNUuiO5/zP8jP1/+VMy/1RygyCgEMDDLv4CCZF3/S//OCZC8JaK7qfiQiTgxILdAAYYYEEhVLrP///S1HoCosaCoCCYZrZUSBkQDwESH/WkJSAZjByJI0oE4Z/////4FCQeBkVZ/xX/zIsRd/6hf7X//4qSfqwEEiLv1ciEyISQKqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=";var oF={exports:{}},sF={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=ne;function ere(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tre=typeof Object.is=="function"?Object.is:ere,rre=Bl.useState,nre=Bl.useEffect,ire=Bl.useLayoutEffect,are=Bl.useDebugValue;function ore(t,e){var r=e(),n=rre({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return ire(function(){i.value=r,i.getSnapshot=e,Wg(i)&&a({inst:i})},[t,r,e]),nre(function(){return Wg(i)&&a({inst:i}),t(function(){Wg(i)&&a({inst:i})})},[t]),are(r),r}function Wg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!tre(t,r)}catch{return!0}}function sre(t,e){return e()}var lre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sre:ore;sF.useSyncExternalStore=Bl.useSyncExternalStore!==void 0?Bl.useSyncExternalStore:lre;oF.exports=sF;var ure=oF.exports,lF={exports:{}},uF={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=ne,cre=ure;function fre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hre=typeof Object.is=="function"?Object.is:fre,dre=cre.useSyncExternalStore,pre=Tv.useRef,vre=Tv.useEffect,mre=Tv.useMemo,gre=Tv.useDebugValue;uF.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=pre(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=mre(function(){function u(d){if(!l){if(l=!0,c=d,d=n(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return f=p}return f=d}if(p=f,hre(c,d))return p;var v=n(d);return i!==void 0&&i(p,v)?p:(c=d,f=v)}var l=!1,c,f,h=r===void 0?null:r;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,r,n,i]);var s=dre(t,a[0],a[1]);return vre(function(){o.hasValue=!0,o.value=s},[s]),gre(s),s};lF.exports=uF;var yre=lF.exports;function _re(t){t()}let cF=_re;const xre=t=>cF=t,bre=()=>cF,gP=Symbol.for("react-redux-context"),yP=typeof globalThis<"u"?globalThis:{};function Sre(){var t;if(!ne.createContext)return{};const e=(t=yP[gP])!=null?t:yP[gP]=new Map;let r=e.get(ne.createContext);return r||(r=ne.createContext(null),e.set(ne.createContext,r)),r}const Eo=Sre();function nS(t=Eo){return function(){return ne.useContext(t)}}const fF=nS(),wre=()=>{throw new Error("uSES not initialized!")};let hF=wre;const Ere=t=>{hF=t},Tre=(t,e)=>t===e;function Are(t=Eo){const e=t===Eo?fF:nS(t);return function(n,i={}){const{equalityFn:a=Tre,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:h}=e();ne.useRef(!0);const d=ne.useCallback({[n.name](v){return n(v)}}[n.name],[n,f,o]),p=hF(l.addNestedSub,u.getState,c||u.getState,d,a);return ne.useDebugValue(p),p}}const Ne=Are();function Cre(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var dF={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=typeof Symbol=="function"&&Symbol.for,iS=Nr?Symbol.for("react.element"):60103,aS=Nr?Symbol.for("react.portal"):60106,Av=Nr?Symbol.for("react.fragment"):60107,Cv=Nr?Symbol.for("react.strict_mode"):60108,Pv=Nr?Symbol.for("react.profiler"):60114,Ov=Nr?Symbol.for("react.provider"):60109,Rv=Nr?Symbol.for("react.context"):60110,oS=Nr?Symbol.for("react.async_mode"):60111,Iv=Nr?Symbol.for("react.concurrent_mode"):60111,kv=Nr?Symbol.for("react.forward_ref"):60112,Mv=Nr?Symbol.for("react.suspense"):60113,Pre=Nr?Symbol.for("react.suspense_list"):60120,Fv=Nr?Symbol.for("react.memo"):60115,Nv=Nr?Symbol.for("react.lazy"):60116,Ore=Nr?Symbol.for("react.block"):60121,Rre=Nr?Symbol.for("react.fundamental"):60117,Ire=Nr?Symbol.for("react.responder"):60118,kre=Nr?Symbol.for("react.scope"):60119;function Gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case iS:switch(t=t.type,t){case oS:case Iv:case Av:case Pv:case Cv:case Mv:return t;default:switch(t=t&&t.$$typeof,t){case Rv:case kv:case Nv:case Fv:case Ov:return t;default:return e}}case aS:return e}}}function pF(t){return Gn(t)===Iv}pt.AsyncMode=oS;pt.ConcurrentMode=Iv;pt.ContextConsumer=Rv;pt.ContextProvider=Ov;pt.Element=iS;pt.ForwardRef=kv;pt.Fragment=Av;pt.Lazy=Nv;pt.Memo=Fv;pt.Portal=aS;pt.Profiler=Pv;pt.StrictMode=Cv;pt.Suspense=Mv;pt.isAsyncMode=function(t){return pF(t)||Gn(t)===oS};pt.isConcurrentMode=pF;pt.isContextConsumer=function(t){return Gn(t)===Rv};pt.isContextProvider=function(t){return Gn(t)===Ov};pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===iS};pt.isForwardRef=function(t){return Gn(t)===kv};pt.isFragment=function(t){return Gn(t)===Av};pt.isLazy=function(t){return Gn(t)===Nv};pt.isMemo=function(t){return Gn(t)===Fv};pt.isPortal=function(t){return Gn(t)===aS};pt.isProfiler=function(t){return Gn(t)===Pv};pt.isStrictMode=function(t){return Gn(t)===Cv};pt.isSuspense=function(t){return Gn(t)===Mv};pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Av||t===Iv||t===Pv||t===Cv||t===Mv||t===Pre||typeof t=="object"&&t!==null&&(t.$$typeof===Nv||t.$$typeof===Fv||t.$$typeof===Ov||t.$$typeof===Rv||t.$$typeof===kv||t.$$typeof===Rre||t.$$typeof===Ire||t.$$typeof===kre||t.$$typeof===Ore)};pt.typeOf=Gn;dF.exports=pt;var Mre=dF.exports,vF=Mre,Fre={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nre={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mF={};mF[vF.ForwardRef]=Fre;mF[vF.Memo]=Nre;var gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=Symbol.for("react.element"),lS=Symbol.for("react.portal"),Lv=Symbol.for("react.fragment"),Dv=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),jv=Symbol.for("react.provider"),Uv=Symbol.for("react.context"),Lre=Symbol.for("react.server_context"),$v=Symbol.for("react.forward_ref"),Vv=Symbol.for("react.suspense"),Gv=Symbol.for("react.suspense_list"),Xv=Symbol.for("react.memo"),zv=Symbol.for("react.lazy"),Dre=Symbol.for("react.offscreen"),gF;gF=Symbol.for("react.module.reference");function ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sS:switch(t=t.type,t){case Lv:case Bv:case Dv:case Vv:case Gv:return t;default:switch(t=t&&t.$$typeof,t){case Lre:case Uv:case $v:case zv:case Xv:case jv:return t;default:return e}}case lS:return e}}}gt.ContextConsumer=Uv;gt.ContextProvider=jv;gt.Element=sS;gt.ForwardRef=$v;gt.Fragment=Lv;gt.Lazy=zv;gt.Memo=Xv;gt.Portal=lS;gt.Profiler=Bv;gt.StrictMode=Dv;gt.Suspense=Vv;gt.SuspenseList=Gv;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(t){return ai(t)===Uv};gt.isContextProvider=function(t){return ai(t)===jv};gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sS};gt.isForwardRef=function(t){return ai(t)===$v};gt.isFragment=function(t){return ai(t)===Lv};gt.isLazy=function(t){return ai(t)===zv};gt.isMemo=function(t){return ai(t)===Xv};gt.isPortal=function(t){return ai(t)===lS};gt.isProfiler=function(t){return ai(t)===Bv};gt.isStrictMode=function(t){return ai(t)===Dv};gt.isSuspense=function(t){return ai(t)===Vv};gt.isSuspenseList=function(t){return ai(t)===Gv};gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lv||t===Bv||t===Dv||t===Vv||t===Gv||t===Dre||typeof t=="object"&&t!==null&&(t.$$typeof===zv||t.$$typeof===Xv||t.$$typeof===jv||t.$$typeof===Uv||t.$$typeof===$v||t.$$typeof===gF||t.getModuleId!==void 0)};gt.typeOf=ai;function Bre(){const t=bre();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const _P={notify(){},get:()=>[]};function jre(t,e){let r,n=_P,i=0,a=!1;function o(v){c();const g=n.subscribe(v);let m=!1;return()=>{m||(m=!0,g(),f())}}function s(){n.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return a}function c(){i++,r||(r=e?e.addNestedSub(u):t.subscribe(u),n=Bre())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=_P)}function h(){a||(a=!0,c())}function d(){a&&(a=!1,f())}const p={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:l,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>n};return p}const Ure=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$re=Ure?ne.useLayoutEffect:ne.useEffect;function yF({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=ne.useMemo(()=>{const l=jre(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=ne.useMemo(()=>t.getState(),[t]);$re(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const u=e||Eo;return ne.createElement(u.Provider,{value:o},r)}function _F(t=Eo){const e=t===Eo?fF:nS(t);return function(){const{store:n}=e();return n}}const Vre=_F();function Gre(t=Eo){const e=t===Eo?Vre:_F(t);return function(){return e().dispatch}}const Lr=Gre();Ere(yre.useSyncExternalStoreWithSelector);xre(XI.unstable_batchedUpdates);const _n=()=>{const t=Lr();return{playSeEnter:()=>{t(Ge({key:"uiSe",value:iF}))},playSeClick:()=>{t(Ge({key:"uiSe",value:aF}))},playSePageChange:()=>{t(Ge({key:"uiSe",value:Zte}))},playSeDialogOpen:()=>{t(Ge({key:"uiSe",value:Jte}))},playSeSwitch:()=>{t(Ge({key:"uiSe",value:Qte}))}}},uS=()=>({playSeEnter:()=>{te.dispatch(Ge({key:"uiSe",value:iF}))},playSeClick:()=>{te.dispatch(Ge({key:"uiSe",value:aF}))}}),Xre=[{reg:/\\\\/g,val:"\\"},{reg:/\\\|/g,val:"|"},{reg:/\\:/g,val:":"},{reg:/\\,/g,val:","},{reg:/\\;/g,val:";"},{reg:/\\./g,val:"."}],cS=t=>{let e=t;for(let r of Xre)e=e.replaceAll(r.reg,r.val);return e};function zre(t){return Kv.parseScssToWebgalStyleObj(t)}function wi(t){const[e,r]=ne.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function Wre(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Yre(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Hre=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Yre(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Wre(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Yr="-ms-",up="-moz-",at="-webkit-",xF="comm",fS="rule",hS="decl",qre="@import",bF="@keyframes",Kre="@layer",Zre=Math.abs,Wv=String.fromCharCode,Qre=Object.assign;function Jre(t,e){return Gr(t,0)^45?(((e<<2^Gr(t,0))<<2^Gr(t,1))<<2^Gr(t,2))<<2^Gr(t,3):0}function SF(t){return t.trim()}function ene(t,e){return(t=e.exec(t))?t[0]:t}function ot(t,e,r){return t.replace(e,r)}function s_(t,e){return t.indexOf(e)}function Gr(t,e){return t.charCodeAt(e)|0}function qc(t,e,r){return t.slice(e,r)}function Ui(t){return t.length}function dS(t){return t.length}function yh(t,e){return e.push(t),t}function tne(t,e){return t.map(e).join("")}var Yv=1,jl=1,wF=0,Pn=0,sr=0,hu="";function Hv(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Yv,column:jl,length:o,return:""}}function Uu(t,e){return Qre(Hv("",null,null,"",null,null,0),t,{length:-t.length},e)}function rne(){return sr}function nne(){return sr=Pn>0?Gr(hu,--Pn):0,jl--,sr===10&&(jl=1,Yv--),sr}function Bn(){return sr=Pn<wF?Gr(hu,Pn++):0,jl++,sr===10&&(jl=1,Yv++),sr}function Ji(){return Gr(hu,Pn)}function pd(){return Pn}function Xf(t,e){return qc(hu,t,e)}function Kc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function EF(t){return Yv=jl=1,wF=Ui(hu=t),Pn=0,[]}function TF(t){return hu="",t}function vd(t){return SF(Xf(Pn-1,l_(t===91?t+2:t===40?t+1:t)))}function ine(t){for(;(sr=Ji())&&sr<33;)Bn();return Kc(t)>2||Kc(sr)>3?"":" "}function ane(t,e){for(;--e&&Bn()&&!(sr<48||sr>102||sr>57&&sr<65||sr>70&&sr<97););return Xf(t,pd()+(e<6&&Ji()==32&&Bn()==32))}function l_(t){for(;Bn();)switch(sr){case t:return Pn;case 34:case 39:t!==34&&t!==39&&l_(sr);break;case 40:t===41&&l_(t);break;case 92:Bn();break}return Pn}function one(t,e){for(;Bn()&&t+sr!==47+10;)if(t+sr===42+42&&Ji()===47)break;return"/*"+Xf(e,Pn-1)+"*"+Wv(t===47?t:Bn())}function sne(t){for(;!Kc(Ji());)Bn();return Xf(t,Pn)}function lne(t){return TF(md("",null,null,null,[""],t=EF(t),0,[0],t))}function md(t,e,r,n,i,a,o,s,u){for(var l=0,c=0,f=o,h=0,d=0,p=0,v=1,g=1,m=1,y=0,_="",x=i,b=a,S=n,w=_;g;)switch(p=y,y=Bn()){case 40:if(p!=108&&Gr(w,f-1)==58){s_(w+=ot(vd(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:w+=vd(y);break;case 9:case 10:case 13:case 32:w+=ine(p);break;case 92:w+=ane(pd()-1,7);continue;case 47:switch(Ji()){case 42:case 47:yh(une(one(Bn(),pd()),e,r),u);break;default:w+="/"}break;case 123*v:s[l++]=Ui(w)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:m==-1&&(w=ot(w,/\f/g,"")),d>0&&Ui(w)-f&&yh(d>32?bP(w+";",n,r,f-1):bP(ot(w," ","")+";",n,r,f-2),u);break;case 59:w+=";";default:if(yh(S=xP(w,e,r,l,c,i,s,_,x=[],b=[],f),a),y===123)if(c===0)md(w,e,S,S,x,a,f,s,b);else switch(h===99&&Gr(w,3)===110?100:h){case 100:case 108:case 109:case 115:md(t,S,S,n&&yh(xP(t,S,S,0,0,i,s,_,i,x=[],f),b),i,b,f,s,n?x:b);break;default:md(w,S,S,S,[""],b,0,s,b)}}l=c=d=0,v=m=1,_=w="",f=o;break;case 58:f=1+Ui(w),d=p;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&nne()==125)continue}switch(w+=Wv(y),y*v){case 38:m=c>0?1:(w+="\f",-1);break;case 44:s[l++]=(Ui(w)-1)*m,m=1;break;case 64:Ji()===45&&(w+=vd(Bn())),h=Ji(),c=f=Ui(_=w+=sne(pd())),y++;break;case 45:p===45&&Ui(w)==2&&(v=0)}}return a}function xP(t,e,r,n,i,a,o,s,u,l,c){for(var f=i-1,h=i===0?a:[""],d=dS(h),p=0,v=0,g=0;p<n;++p)for(var m=0,y=qc(t,f+1,f=Zre(v=o[p])),_=t;m<d;++m)(_=SF(v>0?h[m]+" "+y:ot(y,/&\f/g,h[m])))&&(u[g++]=_);return Hv(t,e,r,i===0?fS:s,u,l,c)}function une(t,e,r){return Hv(t,e,r,xF,Wv(rne()),qc(t,2,-2),0)}function bP(t,e,r,n){return Hv(t,e,r,hS,qc(t,0,n),qc(t,n+1,-1),n)}function El(t,e){for(var r="",n=dS(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function cne(t,e,r,n){switch(t.type){case Kre:if(t.children.length)break;case qre:case hS:return t.return=t.return||t.value;case xF:return"";case bF:return t.return=t.value+"{"+El(t.children,n)+"}";case fS:t.value=t.props.join(",")}return Ui(r=El(t.children,n))?t.return=t.value+"{"+r+"}":""}function fne(t){var e=dS(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function hne(t){return function(e){e.root||(e=e.return)&&t(e)}}function dne(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var pne=function(e,r,n){for(var i=0,a=0;i=a,a=Ji(),i===38&&a===12&&(r[n]=1),!Kc(a);)Bn();return Xf(e,Pn)},vne=function(e,r){var n=-1,i=44;do switch(Kc(i)){case 0:i===38&&Ji()===12&&(r[n]=1),e[n]+=pne(Pn-1,r,n);break;case 2:e[n]+=vd(i);break;case 4:if(i===44){e[++n]=Ji()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Wv(i)}while(i=Bn());return e},mne=function(e,r){return TF(vne(EF(e),r))},SP=new WeakMap,gne=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!SP.get(n))&&!i){SP.set(e,!0);for(var a=[],o=mne(r,a),s=n.props,u=0,l=0;u<o.length;u++)for(var c=0;c<s.length;c++,l++)e.props[l]=a[u]?o[u].replace(/&\f/g,s[c]):s[c]+" "+o[u]}}},yne=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function AF(t,e){switch(Jre(t,e)){case 5103:return at+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return at+t+up+t+Yr+t+t;case 6828:case 4268:return at+t+Yr+t+t;case 6165:return at+t+Yr+"flex-"+t+t;case 5187:return at+t+ot(t,/(\w+).+(:[^]+)/,at+"box-$1$2"+Yr+"flex-$1$2")+t;case 5443:return at+t+Yr+"flex-item-"+ot(t,/flex-|-self/,"")+t;case 4675:return at+t+Yr+"flex-line-pack"+ot(t,/align-content|flex-|-self/,"")+t;case 5548:return at+t+Yr+ot(t,"shrink","negative")+t;case 5292:return at+t+Yr+ot(t,"basis","preferred-size")+t;case 6060:return at+"box-"+ot(t,"-grow","")+at+t+Yr+ot(t,"grow","positive")+t;case 4554:return at+ot(t,/([^-])(transform)/g,"$1"+at+"$2")+t;case 6187:return ot(ot(ot(t,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),t,"")+t;case 5495:case 3959:return ot(t,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return ot(ot(t,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+Yr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+t+t;case 4095:case 3583:case 4068:case 2532:return ot(t,/(.+)-inline(.+)/,at+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ui(t)-1-e>6)switch(Gr(t,e+1)){case 109:if(Gr(t,e+4)!==45)break;case 102:return ot(t,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+up+(Gr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~s_(t,"stretch")?AF(ot(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Gr(t,e+1)!==115)break;case 6444:switch(Gr(t,Ui(t)-3-(~s_(t,"!important")&&10))){case 107:return ot(t,":",":"+at)+t;case 101:return ot(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+at+(Gr(t,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+Yr+"$2box$3")+t}break;case 5936:switch(Gr(t,e+11)){case 114:return at+t+Yr+ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return at+t+Yr+ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return at+t+Yr+ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return at+t+Yr+t+t}return t}var _ne=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case hS:e.return=AF(e.value,e.length);break;case bF:return El([Uu(e,{value:ot(e.value,"@","@"+at)})],i);case fS:if(e.length)return tne(e.props,function(a){switch(ene(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return El([Uu(e,{props:[ot(a,/:(read-\w+)/,":"+up+"$1")]})],i);case"::placeholder":return El([Uu(e,{props:[ot(a,/:(plac\w+)/,":"+at+"input-$1")]}),Uu(e,{props:[ot(a,/:(plac\w+)/,":"+up+"$1")]}),Uu(e,{props:[ot(a,/:(plac\w+)/,Yr+"input-$1")]})],i)}return""})}},xne=[_ne],bne=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||xne,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),m=1;m<g.length;m++)a[g[m]]=!0;s.push(v)});var u,l=[gne,yne];{var c,f=[cne,hne(function(v){c.insert(v)})],h=fne(l.concat(i,f)),d=function(g){return El(lne(g),h)};u=function(g,m,y,_){c=y,d(g?g+"{"+m.styles+"}":m.styles),_&&(p.inserted[m.name]=!0)}}var p={key:r,sheet:new Hre({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:u};return p.sheet.hydrate(s),p};function Sne(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ene=/[A-Z]|^ms/g,Tne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CF=function(e){return e.charCodeAt(1)===45},wP=function(e){return e!=null&&typeof e!="boolean"},Yg=dne(function(t){return CF(t)?t:t.replace(Ene,"-$&").toLowerCase()}),EP=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Tne,function(n,i,a){return $i={name:i,styles:a,next:$i},i})}return wne[e]!==1&&!CF(e)&&typeof r=="number"&&r!==0?r+"px":r};function Zc(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return $i={name:r.name,styles:r.styles,next:$i},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)$i={name:n.name,styles:n.styles,next:$i},n=n.next;var i=r.styles+";";return i}return Ane(t,e,r)}case"function":{if(t!==void 0){var a=$i,o=r(t);return $i=a,Zc(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function Ane(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Zc(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":wP(o)&&(n+=Yg(a)+":"+EP(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)wP(o[s])&&(n+=Yg(a)+":"+EP(a,o[s])+";");else{var u=Zc(t,e,o);switch(a){case"animation":case"animationName":{n+=Yg(a)+":"+u+";";break}default:n+=a+"{"+u+"}"}}}return n}var TP=/label:\s*([^\s;\n{]+)\s*(;|$)/g,$i,Hg=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";$i=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=Zc(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=Zc(n,r,e[s]),i&&(a+=o[s]);TP.lastIndex=0;for(var u="",l;(l=TP.exec(a))!==null;)u+="-"+l[1];var c=Sne(a)+u;return{name:c,styles:a,next:$i}},Cne=!0;function PF(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var Pne=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Cne===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},One=function(e,r,n){Pne(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function AP(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function CP(t,e,r){var n=[],i=PF(t,n,r);return n.length<2?r:i+e(n)}var Rne=function(e){var r=bne(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=Hg(l,r.registered,void 0);return One(r,f,!1),r.key+"-"+f.name},i=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=Hg(l,r.registered),h="animation-"+f.name;return AP(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=Hg(l,r.registered);AP(r,f)},o=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return CP(r.registered,n,Ine(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(u){u.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:PF.bind(null,r.registered),merge:CP.bind(null,r.registered,n)}},Ine=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},OF=Rne({key:"css"}),kne=OF.injectGlobal,ac=OF.css;function pS(t){const e=wi({classNameStyles:{},others:""}),r=Ne(a=>a.stage.replacedUIlable),n=(a,o)=>{var u;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=ac(((u=e.value.classNameStyles)==null?void 0:u[s])??"");return`${o} ${l}`}return o},i=async()=>{ge.debug(" Scss ",t);const o=(await Wc.get(`game/template/${t}`)).data;e.set(zre(o))};return ne.useEffect(()=>{i()},[]),ne.useEffect(()=>{kne(e.value.others)},[e.value.others]),Mne(i),n}function Mne(t){const e=()=>{t()};ne.useEffect(()=>(L.events.styleUpdate.on(e),()=>L.events.styleUpdate.off(e)),[])}class vS{constructor(e,r){Ae(this,"text");Ae(this,"jump");Ae(this,"jumpToScene");Ae(this,"showCondition");Ae(this,"enableCondition");this.text=cS(e),this.jump=r,this.jumpToScene=r.match(new RegExp("(?<!\\\\)\\."))!==null}static parse(e){const r=e.split("->"),n=r.length>1?r[0]:null,a=(r.length>1?r[1]:r[0]).split(new RegExp("(?<!\\\\):","g")),o=new vS(a[0],a[1]);if(n!==null){const s=n.match(/\((.*)\)/);s&&(o.showCondition=s[1]);const u=n.match(/\[(.*)\]/);u&&(o.enableCondition=u[1])}return o}}const Fne=t=>{const r=t.content.split(new RegExp("(?<!\\\\)\\|")).map(n=>vS.parse(n));return ea.render(C.jsx(yF,{store:te,children:C.jsx(Nne,{chooseOptions:r})}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{ea.render(C.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}};function Nne(t){const r=te.getState().userData.optionData.textboxFont===Zi.song?'"", serif':'"WebgalUI", serif',{playSeEnter:n,playSeClick:i}=uS(),a=pS("Stage/Choose/choose.scss"),o=s=>s.filter((u,l)=>d_(u.showCondition)).map((u,l)=>{const c=d_(u.enableCondition),f=c?a("Choose_item",gh.Choose_item):a("Choose_item_disabled",gh.Choose_item_disabled),h=c?()=>{i(),u.jumpToScene?rF(u.jump,u.text):nF(u.jump),L.gameplay.performController.unmountPerform("choose")}:()=>{};return C.jsx("div",{className:a("Choose_item_outer",gh.Choose_item_outer),children:C.jsx("div",{className:f,style:{fontFamily:r},onClick:h,onMouseEnter:n,children:u.text})},u.jump+l)});return C.jsx("div",{className:a("Choose_Main",gh.Choose_Main),children:o(t.chooseOptions)})}const Lne=t=>(ge.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Dne=t=>(t.content!==""&&t.content!=="none"?te.dispatch(Ge({key:"enableFilm",value:t.content})):te.dispatch(Ge({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Bne="_Choose_Main_4xkm5_1",jne="_Choose_item_4xkm5_13",Une="_glabalDialog_container_inner_4xkm5_28",$ne="_glabalDialog_container_4xkm5_28",Vne="_title_4xkm5_47",Gne="_button_4xkm5_59",Vs={Choose_Main:Bne,Choose_item:jne,glabalDialog_container_inner:Une,glabalDialog_container:$ne,title:Vne,button:Gne},Xne=t=>{const e=t.content.toString().trim(),r=He(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=He(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=te.getState().userData.optionData.textboxFont===Zi.song?'"", serif':'"WebgalUI", serif',{playSeEnter:u,playSeClick:l}=uS(),c=C.jsx("div",{style:{fontFamily:s},className:Vs.glabalDialog_container,children:C.jsxs("div",{className:Vs.glabalDialog_container_inner,children:[C.jsx("div",{className:Vs.title,children:n}),C.jsx("input",{id:"user-input",className:Vs.Choose_item}),C.jsx("div",{onMouseEnter:u,onClick:()=>{const f=document.getElementById("user-input");f&&te.dispatch(Pk({key:e,value:((f==null?void 0:f.value)??"")===""?" ":(f==null?void 0:f.value)??""})),l(),L.gameplay.performController.unmountPerform("userInput"),tn()},className:Vs.button,children:a})]})});return ea.render(C.jsx("div",{className:Vs.Choose_Main,children:c}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{ea.render(C.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},zne="_FullScreenPerform_main_7er8a_2",Wne="_FullScreenPerform_element_7er8a_9",Yne="_fullScreen_video_7er8a_17",Hne="_fadeIn_7er8a_74",qne="_intro_showSoftly_7er8a_1",Kne="_slideIn_7er8a_80",Zne="_typingEffect_7er8a_86",Qne="_typing_7er8a_86",Jne="_blinkCursor_7er8a_1",eie="_pixelateEffect_7er8a_95",tie="_pixelateAnimation_7er8a_1",rie="_revealAnimation_7er8a_101",nie="_videoContainer_7er8a_115",Bi={FullScreenPerform_main:zne,FullScreenPerform_element:Wne,fullScreen_video:Yne,fadeIn:Hne,intro_showSoftly:qne,slideIn:Kne,typingEffect:Zne,typing:Qne,blinkCursor:Jne,pixelateEffect:eie,pixelateAnimation:tie,revealAnimation:rie,videoContainer:nie},iie=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(b,S=0)=>{switch(b){case"fadeIn":return Bi.fadeIn;case"slideIn":return Bi.slideIn;case"typingEffect":return`${Bi.typingEffect} ${S}`;case"pixelateEffect":return Bi.pixelateEffect;case"revealAnimation":return Bi.revealAnimation;default:return Bi.fadeIn}};let o=Bi.fadeIn,s=1500,u=!1;for(const b of t.args){if(b.key==="backgroundColor"&&(n=b.value||"rgba(0, 0, 0, 1)"),b.key==="fontColor"&&(i=b.value||"rgba(255, 255, 255, 1)"),b.key==="fontSize")switch(b.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(b.key==="animation"&&(o=a(b.value)),b.key==="delayTime"){const S=parseInt(b.value.toString(),10);s=isNaN(S)?s:S}b.key==="hold"&&b.value===!0&&(u=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},c=t.content.split(new RegExp("(?<!\\\\)\\|")).map(b=>cS(b));let h=1e3+s*c.length;const d=u?1e3*60*60*24:1e3+s*c.length;let p=!0,v=setTimeout(()=>{p=!1},h),g=setTimeout(()=>{});const m=()=>{const b=document.getElementById("introContainer");if(h-=s,clearTimeout(v),v=setTimeout(()=>{p=!1},h),b){const S=b.childNodes[0].childNodes[0].childNodes,w=S.length;S.forEach((E,T)=>{const A=Number(E.style.animationDelay.split("ms")[0]);A>0&&(E.style.animationDelay=`${A-s}ms`),T===w-1&&(A===0?(clearTimeout(g),L.gameplay.performController.unmountPerform(e)):(clearTimeout(g),u||(g=setTimeout(()=>{L.gameplay.performController.unmountPerform(e)},h))))})}};L.events.userInteractNext.on(m);const y=c.map((b,S)=>C.jsxs("div",{style:{animationDelay:`${s*S}ms`},className:o,children:[b,b===""?"":""]},"introtext"+S+Math.random().toString())),_=C.jsx("div",{style:l,children:C.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:y})});ea.render(_,document.getElementById("introContainer"));const x=document.getElementById("introContainer");return x&&(x.style.display="block"),{performName:e,duration:d,isHoldOn:!1,stopFunction:()=>{const b=document.getElementById("introContainer");b&&(b.style.display="none"),L.events.userInteractNext.off(m)},blockingNext:()=>p,blockingAuto:()=>p,stopTimeout:void 0,goNextWhenOver:!0}},aie=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),oie=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),te.dispatch(Ge({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},sie="modulepreload",lie=function(t,e){return new URL(t,e).href},PP={},uie=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=lie(a,n),a in PP)return;PP[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":sie,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((c,f)=>{l.addEventListener("load",c),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},RF=new Map;function cie(t){return t?typeof t=="string"?t:t():null}function IF(t){const e=cie(t);return e||(ge.error("Get name of perform failed. There no name of the perform."),"")}function _we(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);RF.set(IF(t),e)}function fie(t,e=[]){const r=RF.get(IF(t));if(!r||!(r instanceof Function))throw ge.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}uie(()=>import("./initRegister-ddb98f0b.js"),[],import.meta.url);const hie=t=>{const e="PixiPerform"+t.content;L.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=fie(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;ge.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=L.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=L.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},die=t=>{var a;ge.debug("play SE");let e="effect-sound";L.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;He(t,"id")&&(e=`effect-sound-${((a=He(t,"id"))==null?void 0:a.toString())??""}`,L.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(()=>{var p;const s=He(t,"volume");let u=document.createElement("audio");u.src=r,n&&(u.loop=!0);const l=te.getState().userData,c=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=c*.01*(((p=l.optionData)==null?void 0:p.seVolume)??100)*.01*f*.01;u.volume=h,u.currentTime=0;const d={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{u.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(d),u==null||u.play(),u.onended=()=>{for(const v of L.gameplay.performController.performList)v.performName===e&&(i=!0,v.stopFunction(),L.gameplay.performController.unmountPerform(v.performName))}},1)})}},pie=t=>{const e=te.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01,a=TS();let o=He(t,"skipOff"),s=!1;o&&(s=!0),ea.render(C.jsx("div",{className:Bi.videoContainer,children:C.jsx("video",{className:Bi.fullScreen_video,id:"playVideoElement",src:t.content,autoPlay:!0})}),document.getElementById("videoContainer"));let u=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>s,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(l=>{setTimeout(()=>{let c=document.getElementById("playVideoElement");if(c!==null){c.currentTime=0,c.volume=i;const f=()=>{for(const y of L.gameplay.performController.performList)y.performName===a&&(u=!0,y.stopFunction(),L.gameplay.performController.unmountPerform(y.performName))},h=()=>{f()};L.events.fullscreenDbClick.on(h);const d={performName:a,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{L.events.fullscreenDbClick.off(h);const y=document.getElementById("currentBgm");y&&(y.volume=i.toString());const _=document.getElementById("currentVocal");y&&(_.volume=n.toString()),ea.render(C.jsx("div",{}),document.getElementById("videoContainer"))},blockingNext:()=>s,blockingAuto:()=>!u,stopTimeout:void 0,goNextWhenOver:!0};l(d);const p=0,v=0,g=document.getElementById("currentBgm");g&&(g.volume=v.toString());const m=document.getElementById("currentVocal");g&&(m.volume=p.toString()),c==null||c.play(),c.onended=()=>{f()}}},1)})}},vie=t=>{var o;te.getState().stage.currentDialogKey;const e=t.content,r=En(e),n=(((o=He(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var u,l;(u=L.gameplay.pixiStage)==null||u.stopPresetAnimationOnTarget(n);const s=lp(e,n,r);s&&(ge.debug(`${e}${n}`,r),(l=L.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;te.getState().stage.currentDialogKey,(s=L.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function mie(t,e){const r=L.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,u=L.gameplay.pixiStage.frameDuration,l=e/u*o,c=1/l,f=5/l;s.alpha<1&&(s.alpha+=c),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const gie=[{name:"universalSoftIn",animationGenerateFunc:SM},{name:"universalSoftOff",animationGenerateFunc:wM},{name:"testblur",animationGenerateFunc:mie}],yie=t=>{var s,u,l;te.getState().stage.currentDialogKey;const e=t.content,r=He(t,"duration")??0,n=((s=He(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=_ie(e);let o=()=>{};if(a){ge.debug(`${e}${n}`,r);const c=a(n,r);(u=L.gameplay.pixiStage)==null||u.stopPresetAnimationOnTarget(n),(l=L.gameplay.pixiStage)==null||l.registerAnimation(c,i,n),o=()=>{var f;te.getState().stage.currentDialogKey,(f=L.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function _ie(t){const e=gie.find(r=>r.name===t);return ge.debug("",e),e?e.animationGenerateFunc:null}const xie=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),bie=t=>{var l;te.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};L.animationManager.addAnimation(i);const a=En(e),o=((l=He(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let u=()=>{};return setTimeout(()=>{var f,h;(f=L.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const c=lp(e,o,a);c&&(ge.debug(`${e}${o}`,a),(h=L.gameplay.pixiStage)==null||h.registerAnimation(c,s,o))},0),u=()=>{setTimeout(()=>{var c;te.getState().stage.currentDialogKey,(c=L.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:u,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Sie(t){return t.content==="hide"?te.dispatch(Ge({key:"isDisableTextbox",value:!0})):te.dispatch(Ge({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const wie=t=>{var c;te.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=He(t,"duration"),a=((c=He(t,"target"))==null?void 0:c.toString())??"0";try{const f=JSON.parse(r);n=Yc(a,f,i)}catch{n=[]}const o={name:e,effects:n};L.animationManager.addAnimation(o);const s=Tie(e),u=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,d;(h=L.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=Eie(e,a,s);f&&(ge.debug(`${e}${a}`,s),(d=L.gameplay.pixiStage)==null||d.registerAnimation(f,u,a))},0),l=()=>{setTimeout(()=>{var f;te.getState().stage.currentDialogKey,(f=L.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(u)},0)},{performName:u,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Eie(t,e,r){const n=L.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=Jt({...Kb,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return ge.debug("",i),tF(i,e,r)}return null}function Tie(t){const e=L.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const Aie=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return He(t,"enter")&&L.animationManager.nextEnterAnimationName.set(e,He(t,"enter").toString()),He(t,"exit")&&L.animationManager.nextExitAnimationName.set(e+"-off",He(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},Cie=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),ge.info(`BGM${r}${e}${n}`),te.dispatch(Wk({name:r,url:e,series:n}));const i=te.getState().userData;return Os.setItem(L.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Pie=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),ge.info(`CG${r}${e}${n}`),te.dispatch(zk({name:r,url:e,series:n}));const i=te.getState().userData;return Os.setItem(L.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},mS=(t,e=!0)=>{t&&L.backlogManager.makeBacklogEmpty(),e&&L.sceneManager.resetScene(),L.gameplay.performController.removeAllPerform(),L.gameplay.resetGamePlay();const r=Jt(Ck),n=te.getState().stage.GameVar;te.dispatch(ov(r)),e||te.dispatch(Ge({key:"GameVar",value:n}))},Oie={saveData:[],quickSaveData:null},kF=Qp({name:"saveData",initialState:Jt(Oie),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload}}}),Oa=kF.actions,Rie=kF.reducer,Iie=t=>{mS(!0);const e=te.dispatch,r=Nn("start.txt",Fn.scene);return setTimeout(()=>{L.sceneManager.resetScene()},5),e(Oa.resetFastSave()),hp(),ua(r).then(n=>{L.sceneManager.sceneData.currentScene=ca(n,"start.txt",r)}),e(rt({component:"showTitle",visibility:!0})),AS(te.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},kie=t=>(nF(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Mie=t=>(L.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){ge.warn("pixi ",e.performName);for(let r=0;r<L.gameplay.performController.performList.length;r++){const n=L.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),L.gameplay.performController.performList.splice(r,1),r--)}te.dispatch(Tr.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),ut={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},Fie=t=>(ut.maxAudioLevel=Math.max(t,ut.maxAudioLevel),{OPEN_THRESHOLD:ut.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:ut.maxAudioLevel*.5}),Nie=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=L.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),ut.blinkTimerID=setTimeout(()=>{var a;(a=L.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;ut.blinkTimerID=setTimeout(r,i)},200))}r()},Lie=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},u_=t=>{var h,d;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:u}=t;let l;e>r?l=1:e>n?l=.5:l=0;const c=i+(l-i)*a;(h=L.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;c>.75?f="open":c>.25?f="half_open":f="closed",s!==void 0&&((d=L.gameplay.pixiStage)==null||d.performMouthSyncAnimation(o,s,f,u))};class Die{constructor(e){Ae(this,"subject");Ae(this,"result");Ae(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function zf(t){return new Die(t)}const Bie=t=>{ge.debug("play vocal");const e="vocal-play",r=He(t,"vocal"),n=He(t,"volume");let i;i=te.getState().stage;let a="",o="";const s=i.freeFigure,u=i.figureAssociatedAnimation;let l=0,c=0;const f=1;let h=document.getElementById("currentVocal");L.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const p of t.args)p.value===!0&&zf(p.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),p.key==="figureId"&&(o=`${p.value.toString()}`);te.dispatch(Ge({key:"playVocal",value:r})),te.dispatch(Ge({key:"vocal",value:r}));let d=!1;return{arrangePerformPromise:new Promise(p=>{setTimeout(()=>{let v=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?te.dispatch(Ge({key:"vocalVolume",value:n})):te.dispatch(Ge({key:"vocalVolume",value:100})),v!==null){v.currentTime=0;const g={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(ut.audioLevelInterval),v.pause(),o=o||`fig-${a}`;const y=u.find(_=>_.targetId===o);u_({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:c,lerpSpeed:f,key:o,animationItem:y,pos:a}),clearTimeout(ut.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!d,skipNextCollect:!0,stopTimeout:void 0};L.gameplay.performController.arrangeNewPerform(g,t,!1),o=o||`fig-${a}`;const m=u.find(y=>y.targetId===o);if(m){const y=s.find(b=>b.key===o);if(y&&(a=y.basePosition),!ut.audioContext){let b;b=new AudioContext,ut.analyser=b.createAnalyser(),ut.analyser.fftSize=256,ut.dataArray=new Uint8Array(ut.analyser.frequencyBinCount)}ut.analyser||(ut.analyser=ut.audioContext.createAnalyser(),ut.analyser.fftSize=256),l=ut.analyser.frequencyBinCount,ut.dataArray=new Uint8Array(l);let _=document.getElementById("currentVocal");ut.source||(ut.source=ut.audioContext.createMediaElementSource(_),ut.source.connect(ut.analyser)),ut.analyser.connect(ut.audioContext.destination),ut.audioLevelInterval=setInterval(()=>{const b=Lie(ut.analyser,ut.dataArray,l),{OPEN_THRESHOLD:S,HALF_OPEN_THRESHOLD:w}=Fie(b);u_({audioLevel:b,OPEN_THRESHOLD:S,HALF_OPEN_THRESHOLD:w,currentMouthValue:c,lerpSpeed:f,key:o,animationItem:m,pos:a})},50);let x;x=Date.now()+1e4,Nie({key:o,animationItem:m,pos:a,animationEndTime:x}),setTimeout(()=>{clearTimeout(ut.blinkTimerID)},1e4)}v==null||v.play(),v.onended=()=>{for(const y of L.gameplay.performController.performList)y.performName===e&&(d=!0,y.stopFunction(),L.gameplay.performController.unmountPerform(y.performName))}}},1)})}};function gS(t){switch(t){case hn.slow:return 80;case hn.normal:return 35;case hn.fast:return 3}}function MF(t){switch(t){case hn.slow:return 800;case hn.normal:return 350;case hn.fast:return 200}}function FF(){const t=Ne(r=>r.userData.optionData.textboxFont);function e(){return zf(t).with(Zi.song,()=>'"", serif').with(Zi.lxgw,()=>'"LXGW", serif').with(Zi.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function c_(t){switch(t){case 0:return 155;case 1:return 205;case 2:return 230;default:return 205}}const jie="_TextBox_EventHandler_1qvth_2",Uie="_TextBox_Container_1qvth_10",$ie="_showSoftly_1qvth_1",Vie="_TextBox_main_1qvth_18",Gie="_TextBox_main_miniavatarOff_1qvth_39",Xie="_TextBox_Background_1qvth_43",zie="_TextBox_textElement_start_1qvth_56",Wie="_TextDelayShow_1qvth_1",Yie="_outer_1qvth_64",Hie="_inner_1qvth_76",qie="_zhanwei_1qvth_85",Kie="_TextBox_textElement_Settled_1qvth_93",Zie="_TextBox_showName_1qvth_100",Qie="_TextBox_ShowName_Background_1qvth_113",Jie="_miniAvatarContainer_1qvth_128",eae="_miniAvatarImg_1qvth_138",tae="_nameContainer_1qvth_146",rae="_outerName_1qvth_152",nae="_innerName_1qvth_163",iae="_text_1qvth_170",yt={TextBox_EventHandler:jie,TextBox_Container:Uie,showSoftly:$ie,TextBox_main:Vie,TextBox_main_miniavatarOff:Gie,TextBox_Background:Xie,TextBox_textElement_start:zie,TextDelayShow:Wie,outer:Yie,inner:Hie,zhanwei:qie,TextBox_textElement_Settled:Kie,TextBox_showName:Zie,TextBox_ShowName_Background:Qie,miniAvatarContainer:Jie,miniAvatarImg:eae,nameContainer:tae,outerName:rae,innerName:nae,text:iae};function NF(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:u,miniAvatar:l,isHasName:c,showName:f,font:h,textDuration:d,isUseStroke:p,textboxOpacity:v,textSizeState:g}=t,m=pS("Stage/TextBox/textbox.scss");ne.useEffect(()=>{function b(){[...document.querySelectorAll(".Textelement_start")].forEach(E=>{E.className=m("TextBox_textElement_Settled",yt.TextBox_textElement_Settled)})}return L.events.textSettle.on(b),()=>{L.events.textSettle.off(b)}},[]);let y=0;const _=f.map((b,S)=>{const w=b.map((E,T)=>{const A=E.reactNode;let O="",P="",k=!1;if(E.enhancedValue){k=!0;const j=E.enhancedValue;for(const z of j){const{key:J,value:Z}=z;switch(J){case"style":O=Z;break;case"tips":break;case"style-alltext":P=Z;break}}}const M=" "+ac(O,{label:"showname"}),B=" "+ac(P,{label:"showname"});return k?C.jsx("span",{style:{position:"relative"},children:C.jsxs("span",{className:yt.zhanwei+B,children:[A,C.jsx("span",{className:m("outerName",yt.outerName)+M+B,children:A}),p&&C.jsx("span",{className:m("innerName",yt.innerName)+B,children:A})]})},T):C.jsx("span",{style:{position:"relative"},children:C.jsxs("span",{className:yt.zhanwei+B,children:[A,C.jsx("span",{className:m("outerName",yt.outerName)+M+B,children:A}),p&&C.jsx("span",{className:m("innerName",yt.innerName)+B,children:A})]})},T)});return C.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:w},`text-line-${S}`)}),x=e.map((b,S)=>{const w=b.map((E,T)=>{const A=E.reactNode;let O="",P="";if(E.enhancedValue){const z=E.enhancedValue;for(const J of z){const{key:Z,value:$}=J;switch(Z){case"style":O=$;break;case"tips":break;case"style-alltext":P=$;break}}}let k=y*r;y++;let M=n.length;n!==""&&y>=M&&(k=k-M*r);const B=" "+ac(O),j=" "+ac(P);return y<M?C.jsx("span",{id:`${k}`,className:m("TextBox_textElement_Settled",yt.TextBox_textElement_Settled),style:{animationDelay:`${k}ms`,animationDuration:`${d}ms`},children:C.jsxs("span",{className:yt.zhanwei+j,children:[A,C.jsx("span",{className:m("outer",yt.outer)+B+j,children:A}),p&&C.jsx("span",{className:m("inner",yt.inner)+j,children:A})]})},i+T):C.jsx("span",{id:`${k}`,className:`${m("TextBox_textElement_start",yt.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${k}ms`,position:"relative"},children:C.jsxs("span",{className:yt.zhanwei+j,children:[A,C.jsx("span",{className:m("outer",yt.outer)+B+j,children:A}),p&&C.jsx("span",{className:m("inner",yt.inner)+j,children:A})]})},i+T)});return C.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:w},`text-line-${S}`)});return C.jsx(C.Fragment,{children:a&&C.jsxs("div",{className:yt.TextBox_Container,children:[C.jsx("div",{className:m("TextBox_main",yt.TextBox_main)+" "+m("TextBox_Background",yt.TextBox_Background)+" "+(l===""?m("TextBox_main_miniavatarOff",yt.TextBox_main_miniavatarOff):void 0),style:{opacity:`${v/100}`}}),C.jsxs("div",{id:"textBoxMain",className:m("TextBox_main",yt.TextBox_main)+" "+(l===""?m("TextBox_main_miniavatarOff",yt.TextBox_main_miniavatarOff):void 0),style:{fontFamily:h},children:[C.jsx("div",{id:"miniAvatar",className:m("miniAvatarContainer",yt.miniAvatarContainer),children:l!==""&&C.jsx("img",{className:m("miniAvatarImg",yt.miniAvatarImg),alt:"miniAvatar",src:l})}),c&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:m("TextBox_showName",yt.TextBox_showName)+" "+m("TextBox_ShowName_Background",yt.TextBox_ShowName_Background),style:{opacity:`${v/100}`,fontSize:"200%"},children:C.jsx("span",{style:{opacity:0},children:_})}),C.jsx("div",{className:m("TextBox_showName",yt.TextBox_showName),style:{fontSize:"200%"},children:_})]}),C.jsx("div",{className:m("text",yt.text),style:{fontSize:u,flexFlow:"column",overflow:"hidden",paddingLeft:"0.1em",lineHeight:g===ti.medium?"2.2em":"2em"},children:x})]})]})})}const cp={height:1440,width:2560},LF=navigator.userAgent,aae=/firefox/i.test(LF),oae=/^((?!chrome|android).)*safari/i.test(LF),sae=()=>{const[t,e]=ne.useState(!0);ne.useEffect(()=>{const _=()=>{const x=cp.height,b=cp.width,S=window.innerHeight,w=window.innerWidth,E=S/x,T=w/b,A=w/x,O=S/b;[E,T,A,O].forEach(P=>{P<=.2?e(!1):e(!0)})};return window.addEventListener("resize",_),_(),()=>{window.removeEventListener("resize",_)}},[]);const r=Ne(_=>_.stage),n=Ne(_=>_.userData),i=gS(n.optionData.textSpeed),a=MF(n.optionData.textSpeed);let o=c_(n.optionData.textSize)+"%";const s=FF(),u=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;u&&r.showTextSize!==-1&&(o=c_(r.showTextSize)+"%",l=r.showTextSize);const c=zf(l).with(ti.small,()=>3).with(ti.medium,()=>2).with(ti.large,()=>2).default(()=>2),f=gs(r.showText,c),h=r.showName!=="",d=gs(r.showName,c),p=r.currentConcatDialogPrev,v=r.currentDialogKey,g=r.miniAvatar,m=n.optionData.textboxOpacity,y=NF;return C.jsx(y,{textArray:f,isText:u,textDelay:i,showName:d,isHasName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:v,isSafari:oae,isFirefox:aae,miniAvatar:g,textDuration:a,font:s,textSizeState:l,lineLimit:c,isUseStroke:t,textboxOpacity:m})};function OP(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function gs(t,e,r){return t.split(new RegExp("(?<!\\\\)\\|")).map(o=>cS(o)).map(o=>uae(o)).map(o=>{const s=[];return o.forEach((u,l)=>{zf(u.type).with("SegmentType.String",()=>{const c=lae(u.value);s.push(...c.map(f=>({reactNode:f})))}).endsWith("SegmentType.Link",()=>{const c=u.value,f=C.jsx("span",{className:"__enhanced_text",children:C.jsxs("ruby",{children:[c.text,C.jsx("rt",{children:c.ruby})]},l+c.text)},c.text+`${l}`);s.push({reactNode:f,enhancedValue:c.values})})}),s}).slice(0,r?void 0:e)}function lae(t){if(!t)return[""];const e=[];let r="",n=OP(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(OP(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function uae(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];let o=[],s="";if(a.match(/style=|tips=|ruby=|style-alltext=/)){o=cae(a);const u=o.find(l=>l.key==="ruby");u&&(s=u.value)}else s=a;r.push({type:"SegmentType.Link",value:{text:i,ruby:s,values:o}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r.unshift({type:"SegmentType.String",value:""}),r}function cae(t){const e=[],r=/(\S+)=(.*?)(?=\s+\S+=|\s*$)/g;let n;for(;(n=r.exec(t))!==null;)e.push({key:n[1],value:n[2].replace(/~/g,":").trim()});return e}const fae=t=>{const e=te.getState().stage,r=te.getState().userData,n=te.dispatch;let i=Math.random().toString(),a=t.content;const o=He(t,"concat"),s=He(t,"notend"),u=He(t,"speaker"),l=He(t,"clear"),c=He(t,"vocal");o?(i=e.currentDialogKey,a=e.showText+a,n(Ge({key:"currentConcatDialogPrev",value:e.showText}))):n(Ge({key:"currentConcatDialogPrev",value:""})),n(Ge({key:"showText",value:a})),n(Ge({key:"vocal",value:""})),r.optionData.voiceInterruption===zc.no&&c===null||(n(Ge({key:"playVocal",value:""})),L.gameplay.performController.unmountPerform("vocal-play",!0)),n(Ge({key:"currentDialogKey",value:i}));const f=gS(r.optionData.textSpeed),d=gs(t.content,3).reduce((E,T)=>E+T.length,0),p=f*d;for(const E of t.args)if(E.key==="fontSize")switch(E.value){case"default":n(Ge({key:"showTextSize",value:-1}));break;case"small":n(Ge({key:"showTextSize",value:ti.small}));break;case"medium":n(Ge({key:"showTextSize",value:ti.medium}));break;case"large":n(Ge({key:"showTextSize",value:ti.large}));break}let v=e.showName;u!==null&&(v=u),l&&(v=""),n(Ge({key:"showName",value:v}));let g=null,m=0,y="",_="";for(const E of t.args)E.value===!0&&zf(E.key).with("left",()=>{y="left"}).with("right",()=>{y="right"}).endsWith("center",()=>{y="center"}),E.key==="figureId"&&(_=`${E.value.toString()}`);let x=80;const b=(E=!1)=>{let T=x+(Math.random()*60-30);Math.abs(T-x)<5&&(T=x+Math.sign(T-x)*5),x=Math.max(15,Math.min(T,100));const P=te.getState().stage.figureAssociatedAnimation.find(M=>M.targetId===_),k=_||`fig-${y}`;E&&(x=0),u_({audioLevel:x,OPEN_THRESHOLD:50,HALF_OPEN_THRESHOLD:25,currentMouthValue:0,lerpSpeed:1,key:k,animationItem:P,pos:y}),E||(g=setTimeout(b,50))};c?Bie(t):(_||y)&&(m=d*250,b());const S=TS();let w=750-r.optionData.textSpeed*250;return s&&(w=0),{performName:S,duration:p+w+m,isHoldOn:!1,stopFunction:()=>{L.events.textSettle.emit(),g&&(b(!0),clearTimeout(g))},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}};var yS={},Qc={document:{}},DF=Object.prototype.hasOwnProperty,BF=function(t){return qv(t)?t.toLowerCase():t},Ec=Array.isArray,hae=function(t){return qv(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(BF=hae);var dae,_S=Object.prototype.toString,jF=Object.getPrototypeOf,qg=XF("ng");Qc.angular||(Qc.angular={});Qc.document.documentMode;function pae(t){if(t==null||SS(t))return!1;if(Ec(t)||qv(t)||dae)return!0;var e="length"in Object(t)&&t.length;return bS(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function Dt(t,e,r){var n,i;if(t)if(VF(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(Ec(t)||pae(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==Dt)t.forEach(e,r,t);else if($F(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)DF.call(t,n)&&e.call(r,t[n],n,t);return t}function vae(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function xS(){}xS.$inject=[];function mae(t){return typeof t>"u"}function sl(t){return typeof t<"u"}function UF(t){return t!==null&&typeof t=="object"}function $F(t){return t!==null&&typeof t=="object"&&!jF(t)}function qv(t){return typeof t=="string"}function bS(t){return typeof t=="number"}function VF(t){return typeof t=="function"}function SS(t){return t&&t.window===t}function GF(t){return t&&t.$evalAsync&&t.$watch}var gae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function yae(t){return t&&bS(t.length)&&gae.test(_S.call(t))}function _ae(t){return _S.call(t)==="[object ArrayBuffer]"}function xae(t,e){var r=[],n=[];if(e){if(yae(e)||_ae(e))throw qg("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw qg("cpi","Can't copy! Source and destination are identical.");return Ec(e)?e.length=0:Dt(e,function(s,u){u!=="$$hashKey"&&delete e[u]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,u){var l=u.$$hashKey,c;if(Ec(s))for(var f=0,h=s.length;f<h;f++)u.push(a(s[f]));else if($F(s))for(c in s)u[c]=a(s[c]);else if(s&&typeof s.hasOwnProperty=="function")for(c in s)s.hasOwnProperty(c)&&(u[c]=a(s[c]));else for(c in s)DF.call(s,c)&&(u[c]=a(s[c]));return vae(u,l),u}function a(s){if(!UF(s))return s;var u=r.indexOf(s);if(u!==-1)return n[u];if(SS(s)||GF(s))throw qg("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,c=o(s);return c===void 0&&(c=Ec(s)?[]:Object.create(jF(s)),l=!0),r.push(s),n.push(c),l?i(s,c):c}function o(s){switch(_S.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var u=new ArrayBuffer(s.byteLength);return new Uint8Array(u).set(new Uint8Array(s)),u}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(VF(s.cloneNode))return s.cloneNode(!0)}}function bae(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:SS(e)?r="$WINDOW":e&&Qc.document===e?r="$DOCUMENT":GF(e)&&(r="$SCOPE"),r}function Sae(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}Sae(Qc.document);function wae(){return Object.create(null)}function Eae(t){var e=[];return JSON.stringify(t,function(r,n){if(n=bae(r,n),UF(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function RP(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):mae(t)?"undefined":typeof t!="string"?Eae(t):t}function XF(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,u;for(a+=o.replace(/\{\d+\}/g,function(l){var c=+l.slice(1,-1),f=c+r;return f<n.length?RP(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,u=r,s="?";u<n.length;u++,s="&")a+=s+"p"+(u-r)+"="+encodeURIComponent(RP(n[u]));return new e(a)}}var ll=XF("$parse");({}).constructor.prototype.valueOf;function zF(t){return t+""}var gd=wae();Dt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){gd[t]=!0});var Tae={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},f_=function(e){this.options=e};f_.prototype={constructor:f_,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=gd[e],a=gd[r],o=gd[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=sl(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw ll("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=BF(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=Tae[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var le=function(e,r){this.lexer=e,this.options=r};le.Program="Program";le.ExpressionStatement="ExpressionStatement";le.AssignmentExpression="AssignmentExpression";le.ConditionalExpression="ConditionalExpression";le.LogicalExpression="LogicalExpression";le.BinaryExpression="BinaryExpression";le.UnaryExpression="UnaryExpression";le.CallExpression="CallExpression";le.MemberExpression="MemberExpression";le.Identifier="Identifier";le.Literal="Literal";le.ArrayExpression="ArrayExpression";le.Property="Property";le.ObjectExpression="ObjectExpression";le.ThisExpression="ThisExpression";le.LocalsExpression="LocalsExpression";le.NGValueParameter="NGValueParameter";le.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:le.Program,body:t}},expressionStatement:function(){return{type:le.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!HF(t))throw ll("lval","Trying to assign a value to a non l-value");t={type:le.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:le.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:le.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:le.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:le.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:le.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:le.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:le.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:le.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=xae(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:le.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:le.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:le.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:le.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:le.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:le.Identifier,name:t.text}},constant:function(){return{type:le.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:le.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:le.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:le.ObjectExpression,properties:t}},throwError:function(t,e){throw ll("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw ll("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw ll("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:le.ThisExpression},$locals:{type:le.LocalsExpression}}};function Aae(t,e){return typeof t<"u"?t:e}function WF(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function Cae(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function Er(t,e){var r,n,i;switch(t.type){case le.Program:r=!0,Dt(t.body,function(a){Er(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case le.Literal:t.constant=!0,t.toWatch=[];break;case le.UnaryExpression:Er(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case le.BinaryExpression:Er(t.left,e),Er(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case le.LogicalExpression:Er(t.left,e),Er(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case le.ConditionalExpression:Er(t.test,e),Er(t.alternate,e),Er(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case le.Identifier:t.constant=!1,t.toWatch=[t];break;case le.MemberExpression:Er(t.object,e),t.computed&&Er(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case le.CallExpression:i=t.filter?Cae(e,t.callee.name):!1,r=i,n=[],Dt(t.arguments,function(a){Er(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case le.AssignmentExpression:Er(t.left,e),Er(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case le.ArrayExpression:r=!0,n=[],Dt(t.elements,function(a){Er(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case le.ObjectExpression:r=!0,n=[],Dt(t.properties,function(a){Er(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case le.ThisExpression:t.constant=!1,t.toWatch=[];break;case le.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function YF(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function HF(t){return t.type===le.Identifier||t.type===le.MemberExpression}function qF(t){if(t.body.length===1&&HF(t.body[0].expression))return{type:le.AssignmentExpression,left:t.body[0].expression,right:{type:le.NGValueParameter},operator:"="}}function KF(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===le.Literal||t.body[0].expression.type===le.ArrayExpression||t.body[0].expression.type===le.ObjectExpression)}function ZF(t){return t.constant}function QF(t,e){this.astBuilder=t,this.$filter=e}QF.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Er(r,e.$filter);var n="",i;if(this.stage="assign",i=qF(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=YF(r.body);e.stage="inputs",Dt(o,function(l,c){var f="fn"+c;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,zF,Aae,WF);return this.state=this.stage=void 0,u.ast=r,u.literal=KF(r),u.constant=ZF(r),u},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return Dt(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return Dt(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,u=this,l,c,f;if(n=n||xS,!a&&sl(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case le.Program:Dt(t.body,function(d,p){u.recurse(d.expression,void 0,void 0,function(v){s=v}),p!==t.body.length-1?u.current().body.push(s,";"):u.return_(s)});break;case le.Literal:c=this.escape(t.value),this.assign(e,c),n(e||c);break;case le.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(d){s=d}),c=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,c),n(c);break;case le.BinaryExpression:this.recurse(t.left,void 0,void 0,function(d){o=d}),this.recurse(t.right,void 0,void 0,function(d){s=d}),t.operator==="+"?c=this.plus(o,s):t.operator==="-"?c=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):c="("+o+")"+t.operator+"("+s+")",this.assign(e,c),n(c);break;case le.LogicalExpression:e=e||this.nextId(),u.recurse(t.left,e),u.if_(t.operator==="&&"?e:u.not(e),u.lazyRecurse(t.right,e)),n(e);break;case le.ConditionalExpression:e=e||this.nextId(),u.recurse(t.test,e),u.if_(e,u.lazyRecurse(t.alternate,e),u.lazyRecurse(t.consequent,e)),n(e);break;case le.Identifier:e=e||this.nextId();var h=u.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=u.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),u.if_(u.stage==="inputs"||u.not(u.getHasOwnProperty("l",t.name)),function(){u.if_(u.stage==="inputs"||u.and_("s",u.or_(u.isNull(u.nonComputedMember("s",t.name)),u.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&u.if_(u.isNull(u.nonComputedMember("s",t.name)),u.lazyAssign(u.nonComputedMember("s",t.name),"{}")),u.assign(e,u.nonComputedMember("s",t.name))})},e&&u.lazyAssign(e,u.nonComputedMember("l",t.name))),n(e);break;case le.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),u.recurse(t.object,o,void 0,function(){var d=null,p=u.current().inAssignment;t.computed?(s=u.nextId(),p||u.state.computing==="assign"?d=u.unsafeComputedMember(o,s):d=u.computedMember(o,s)):(p||u.state.computing==="assign"?d=u.unsafeNonComputedMember(o,t.property.name):d=u.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===le.Literal&&u.recurse(t.property,s),u.if_(u.and_(u.notNull(o),u.or_(u.isNull(d),u.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==le.Literal&&u.recurse(t.property,s),i&&i!==1&&u.if_(u.not(d),u.lazyAssign(d,"{}")),u.assign(e,d),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&u.if_(u.isNull(d),u.lazyAssign(d,"{}")),u.assign(e,d),r&&(r.computed=!1,r.name=t.property.name))},function(){u.assign(e,"undefined")}),n(e)},!!i);break;case le.CallExpression:e=e||this.nextId(),t.filter?(s=u.filter(t.callee.name),l=[],Dt(t.arguments,function(d){var p=u.nextId();u.recurse(d,p),l.push(p)}),c=s+".call("+s+","+l.join(",")+")",u.assign(e,c),n(e)):(s=u.nextId(),o={},l=[],u.recurse(t.callee,s,o,function(){u.if_(u.notNull(s),function(){if(Dt(t.arguments,function(p){u.recurse(p,t.constant?void 0:u.nextId(),void 0,function(v){l.push(v)})}),o.name){var d=u.member(o.context,o.name,o.computed);c="("+d+" === null ? null : "+u.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else c=s+"("+l.join(",")+")";u.assign(e,c)},function(){u.assign(e,"undefined")}),n(e)}));break;case le.AssignmentExpression:s=this.nextId(),o={},u.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){u.if_(u.and_(u.notNull(o.context),u.or_(u.hasOwnProperty_(o.context,o.name),u.isNull(u.member(o.context,o.name,o.computed)))),function(){u.recurse(t.right,s),c=u.member(o.context,o.name,o.computed)+t.operator+s,u.assign(e,c),n(e||c)}),u.current().inAssignment=!1,u.recurse(t.right,s),u.current().inAssignment=!0},1),u.current().inAssignment=!1;break;case le.ArrayExpression:l=[],Dt(t.elements,function(d){u.recurse(d,t.constant?void 0:u.nextId(),void 0,function(p){l.push(p)})}),c="["+l.join(",")+"]",this.assign(e,c),n(e||c);break;case le.ObjectExpression:l=[],f=!1,Dt(t.properties,function(d){d.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),Dt(t.properties,function(d){d.computed?(o=u.nextId(),u.recurse(d.key,o)):o=d.key.type===le.Identifier?d.key.name:""+d.key.value,s=u.nextId(),u.recurse(d.value,s),u.assign(u.unsafeMember(e,o,d.computed),s)})):(Dt(t.properties,function(d){u.recurse(d.value,t.constant?void 0:u.nextId(),void 0,function(p){l.push(u.escape(d.key.type===le.Identifier?d.key.name:""+d.key.value)+":"+p)})}),c="{"+l.join(",")+"}",this.assign(e,c)),n(e||c);break;case le.ThisExpression:this.assign(e,"s"),n(e||"s");break;case le.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case le.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(qv(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(bS(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw ll("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function JF(t,e){this.astBuilder=t,this.$filter=e}JF.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);Er(r,e.$filter);var n,i;(n=qF(r))&&(i=this.recurse(n));var a=YF(r.body),o;a&&(o=[],Dt(a,function(l,c){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=c}));var s=[];Dt(r.body,function(l){s.push(e.recurse(l.expression))});var u=r.body.length===0?xS:r.body.length===1?s[0]:function(l,c){var f;return Dt(s,function(h){f=h(l,c)}),f};return i&&(u.assign=function(l,c,f){return i(l,f,c)}),o&&(u.inputs=o),u.ast=r,u.literal=KF(r),u.constant=ZF(r),u},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case le.Literal:return this.value(t.value,e);case le.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case le.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case le.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case le.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case le.Identifier:return a.identifier(t.name,e,r);case le.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case le.CallExpression:return o=[],Dt(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,u,l,c){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,u,l,c));var d=i.apply(void 0,f,c);return e?{context:void 0,name:void 0,value:d}:d}:function(s,u,l,c){var f=i(s,u,l,c),h;if(f.value!=null){for(var d=[],p=0;p<o.length;++p)d.push(o[p](s,u,l,c));h=f.value.apply(f.context,d)}return e?{value:h}:h};case le.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,u,l,c){var f=n(s,!1,l,c),h=i(s,u,l,c);return f.context[f.name]=h,e?{value:h}:h};case le.ArrayExpression:return o=[],Dt(t.elements,function(s){o.push(a.recurse(s))}),function(s,u,l,c){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,u,l,c));return e?{value:f}:f};case le.ObjectExpression:return o=[],Dt(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===le.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,u,l,c){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,u,l,c)]=o[h].value(s,u,l,c):f[o[h].key]=o[h].value(s,u,l,c);return e?{value:f}:f};case le.ThisExpression:return function(s){return e?{value:s}:s};case le.LocalsExpression:return function(s,u){return e?{value:u}:u};case le.NGValueParameter:return function(s,u,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return sl(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return sl(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),u=e(n,i,a,o),l=WF(s,u);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),u=e(n,i,a,o),l=(sl(s)?s:0)-(sl(u)?u:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var u=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var u=s?s[t]:void 0;return e?{context:s,name:t,value:u}:u}},computedMember:function(t,e,r,n){return function(i,a,o,s){var u=t(i,a,o,s),l,c;return u!=null&&(l=e(i,a,o,s),l=zF(l),n&&n!==1&&u&&!u[l]&&(u[l]={}),Object.prototype.hasOwnProperty.call(u,l)&&(c=u[l])),r?{context:u,name:l,value:c}:c}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var u=t(i,a,o,s);n&&n!==1&&u&&u[e]==null&&(u[e]={});var l=void 0;return u!=null&&Object.prototype.hasOwnProperty.call(u,e)&&(l=u[e]),r?{context:u,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var h_=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new le(e,n),this.astCompiler=n.csp?new JF(this.ast,r):new QF(this.ast,r)};h_.prototype={constructor:h_,parse:function(t){return this.astCompiler.compile(t)}};yS.Lexer=f_;yS.Parser=h_;var eN=yS,Pae={},Oae=eN.Lexer,Rae=eN.Parser;function wS(t,e){e=e||{};var r=e.filters||Pae,n=e.filters?e.cache||{}:wS.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new Oae(i),u=new Rae(s,function(c){return r[c]},o);return n?(a=n[t],a||(a=n[t]=u.parse(t)),a):u.parse(t)}wS.cache=Object.create(null);var tN=wS;const Iae=t=>{let e=!1;t.args.forEach(n=>{n.key==="global"&&(e=!0)});let r;if(e?r=lW:r=Pk,t.content.match(/\s*=\s*/)){const n=t.content.split(/\s*=\s*/)[0],i=t.content.split(/\s*=\s*/)[1];if(i==="random()")te.dispatch(r({key:n,value:Math.random()}));else if(i.match(/[+\-*\/()]/)){const o=i.split(/([+\-*\/()])/g).map(u=>{if(!u.trim().match(/^[a-zA-Z_$][a-zA-Z0-9_.]*$/))return u;const l=fp(u.trim(),!0);return typeof l=="string"?`'${l}'`:l}).reduce((u,l)=>u+l,"");let s="";try{s=tN(o)()}catch(u){ge.error("expression compile error",u)}te.dispatch(r({key:n,value:s}))}else i.match(/true|false/)?(i.match(/true/)&&te.dispatch(r({key:n,value:!0})),i.match(/false/)&&te.dispatch(r({key:n,value:!1}))):i.length===0?te.dispatch(r({key:n,value:""})):isNaN(Number(i))?te.dispatch(r({key:n,value:fp(i,!0)})):te.dispatch(r({key:n,value:Number(i)}));e?(ge.debug("",{key:n,value:te.getState().userData.globalGameVar[n]}),hp()):ge.debug("",{key:n,value:te.getState().stage.GameVar[n]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function kae(t){let e;const r=te.getState().stage,n=te.getState().userData,i={stage:r,userData:n};if(r.GameVar.hasOwnProperty(t))e=r.GameVar[t];else if(n.globalGameVar.hasOwnProperty(t))e=n.globalGameVar[t];else if(t.startsWith("$")){const a=t.replace("$","");e=Aee(i,a,void 0)}return e}function fp(t,e=!1){const r=kae(t);return r??(ge.warn("valueFromState result null, key = "+t),e?t:`{${t}}`)}const Mae=t=>{const e=te.getState().stage,r=te.getState().userData,n=te.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(Ge({key:"showText",value:JSON.stringify(i)})),n(Ge({key:"showName",value:""})),ge.debug("",i),setTimeout(()=>{L.events.textSettle.emit()},0);const a=TS(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{L.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function it(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const rN={};function Fae(t){const e={};for(const[r,n]of Object.entries(t))e[r]=rN[n.scriptType]={scriptString:r,...n};return e}const Nae=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];te.dispatch(Tr.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},nN=Fae({intro:it(Qe.intro,iie),changeBg:it(Qe.changeBg,Xte),changeFigure:it(Qe.changeFigure,zte),miniAvatar:it(Qe.miniAvatar,oie,{next:!0}),changeScene:it(Qe.changeScene,Wte),choose:it(Qe.choose,Fne),end:it(Qe.end,Iie),bgm:it(Qe.bgm,o7,{next:!0}),playVideo:it(Qe.video,pie),setComplexAnimation:it(Qe.setComplexAnimation,yie),setFilter:it(Qe.setFilter,xie),pixiInit:it(Qe.pixiInit,Mie,{next:!0}),pixiPerform:it(Qe.pixi,hie,{next:!0}),label:it(Qe.label,aie,{next:!0}),jumpLabel:it(Qe.jumpLabel,kie),setVar:it(Qe.setVar,Iae,{next:!0}),showVars:it(Qe.showVars,Mae),unlockCg:it(Qe.unlockCg,Pie,{next:!0}),unlockBgm:it(Qe.unlockBgm,Cie,{next:!0}),say:it(Qe.say,fae),filmMode:it(Qe.filmMode,Dne,{next:!0}),callScene:it(Qe.callScene,MZ),setTextbox:it(Qe.setTextbox,Sie),setAnimation:it(Qe.setAnimation,vie),playEffect:it(Qe.playEffect,die,{next:!0}),setTempAnimation:it(Qe.setTempAnimation,bie),__commment:it(Qe.comment,Lne,{next:!0}),setTransform:it(Qe.setTransform,wie),setTransition:it(Qe.setTransition,Aie,{next:!0}),getUserInput:it(Qe.getUserInput,Xne),applyStyle:it(Qe.applyStyle,Nae,{next:!0})}),iN=Object.values(nN),Lae=iN.filter(t=>t.next).map(t=>t.scriptType),Kv=new a7(gW,Nn,Lae,iN),ca=(t,e,r)=>{const n=Kv.parse(t,e,r);return ge.info(`${e}`,n),n},ES=t=>{var n;let e=mW;e=(((n=rN[t.command])==null?void 0:n.scriptFunction)??nN.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>L.gameplay.performController.arrangeNewPerform(i,t)):L.gameplay.performController.arrangeNewPerform(e,t)},Dae=t=>{L.sceneManager.lockSceneWrite||(L.sceneManager.lockSceneWrite=!0,ua(t.sceneUrl).then(e=>{L.sceneManager.sceneData.currentScene=ca(e,t.sceneName,t.sceneUrl),L.sceneManager.sceneData.currentSentenceId=t.continueLine+1,ge.debug("",L.sceneManager.sceneData.currentScene),L.sceneManager.lockSceneWrite=!1,tn()}).catch(e=>{ge.error("",e),L.sceneManager.lockSceneWrite=!1}))};function Bae(t){try{return tN(t)()}catch{return!1}}const d_=t=>{if(t===void 0)return!0;const r=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g).map(n=>n.match(/[a-zA-Z]/)?n.match(/true/)||n.match(/false/)?n:fp(n,!0):n).reduce((n,i)=>n+i,"");return!!Bae(r)},aN=()=>{if(L.sceneManager.sceneData.currentSentenceId>L.sceneManager.sceneData.currentScene.sentenceList.length-1){if(L.sceneManager.sceneData.sceneStack.length!==0){const l=L.sceneManager.sceneData.sceneStack.pop();l!==void 0&&Dae(l)}return}const t=L.sceneManager.sceneData.currentScene.sentenceList[L.sceneManager.sceneData.currentSentenceId],e=l=>{let c=l;const f=c.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const d=fp(h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));c=c.replace(h,d)}),c=c.replace(/\\{/g,"{").replace(/\\}/g,"}"),c};(()=>{t.content=e(t.content),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=d_(a)),!n){ge.warn(""),L.sceneManager.sceneData.currentSentenceId++,tn();return}ES(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Qe.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let u;if(o){L.sceneManager.sceneData.currentSentenceId++,aN();return}setTimeout(()=>{u=te.getState().stage;const l={currentStageState:u,globalGameVar:te.getState().userData.globalGameVar};ge.debug("",l),s&&L.backlogManager.saveCurrentStateToBacklog()},0),L.sceneManager.sceneData.currentSentenceId++},tn=()=>{if(L.events.userInteractNext.emit(),te.getState().GUI.showTitle)return;let e=!1;if(L.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&(e=!0)}),e){ge.warn("next ");return}let r=!0;if(L.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=te.getState().stage,a=Jt(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);te.dispatch(ov(a)),aN();return}ge.debug("");let n=!1;for(let i=0;i<L.gameplay.performController.performList.length;i++){const a=L.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),L.gameplay.performController.performList.splice(i,1),i--))}n&&tn()},TS=()=>Math.random().toString().substring(0,10);class jae{constructor(){Ae(this,"performList",[]);Ae(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};te.dispatch(Tr.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||this.unmountPerform(e.performName)},e.duration),r.args.find(i=>i.key==="continue"&&i.value===!0)&&(e.goNextWhenOver=!0),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),i.goNextWhenOver&&this.goNextWhenOver(),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),i.goNextWhenOver&&this.goNextWhenOver(),this.performList.splice(n,1),n--)}}erasePerformFromState(e){te.dispatch(Tr.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){var r;let e=!1;(r=this.performList)==null||r.forEach(n=>{n.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):tn()}}class Uae{constructor(){Ae(this,"isAuto",!1);Ae(this,"isFast",!1);Ae(this,"autoInterval",null);Ae(this,"fastInterval",null);Ae(this,"autoTimeout",null);Ae(this,"pixiStage",null);Ae(this,"performController",new jae)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function $ae(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class Vae{constructor(){Ae(this,"textSettle",_h("text-settle"));Ae(this,"userInteractNext",_h("__NEXT"));Ae(this,"fullscreenDbClick",_h("fullscreen-dbclick"));Ae(this,"styleUpdate",_h("style-update"))}}const Kg=$ae();function _h(t){return{on:(e,r)=>{Kg.on(`${t}-${r??""}`,e)},emit:(e,r)=>{Kg.emit(`${t}-${r??""}`,e)},off:(e,r)=>{Kg.off(`${t}-${r??""}`,e)}}}class Gae{constructor(){Ae(this,"sceneManager",new pW);Ae(this,"backlogManager",new dW(this.sceneManager));Ae(this,"animationManager",new vW);Ae(this,"gameplay",new Uae);Ae(this,"gameName","");Ae(this,"gameKey","");Ae(this,"events",new Vae)}}const L=new Gae,st=oN(()=>{const t=te.getState().userData;ms.setItem(L.gameKey,t).then(()=>{ge.info("")})},100),Jc=oN(()=>{ms.getItem(L.gameKey).then(t=>{if(!t||!sN(t)){ge.warn(""),st();return}te.dispatch(Bb(t))})},100);function oN(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const hp=()=>{const t=te.getState().userData;ms.setItem(L.gameKey,t).then(()=>{ms.getItem(L.gameKey).then(e=>{if(!e){st();return}te.dispatch(Bb(e))}),ge.info("")})};function sN(t){let e=!0;for(const r in K0)t.hasOwnProperty(r)||(e=!1);return e}async function lN(){const t=await ms.getItem(L.gameKey);if(!t||!sN(t)){const e=te.getState().userData;return ge.warn(""),await ms.setItem(L.gameKey,e)}else te.dispatch(Bb(t))}var vt=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(vt||{});const Xae={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:vt.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0},uN=Qp({name:"gui",initialState:Xae,reducers:{setVisibility:(t,e)=>{Jc();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{Jc(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]}}}),{setVisibility:rt,setMenuPanelTag:ss,setGuiAsset:dp,setLogoImage:zae}=uN.actions,Wae=uN.reducer,te=TU({reducer:{stage:rz,GUI:Wae,userData:fW,saveData:Rie},middleware:tk({serializableCheck:!1})});let IP;function AS(t,e=0,r=100){if(ge.debug("playing bgm"+t),t===""){IP=setTimeout(()=>{te.dispatch(Ge({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const n=te.getState().stage.bgm.src;te.dispatch(Ge({key:"bgm",value:{src:n,enter:-e,volume:r}}))}else clearTimeout(IP),te.dispatch(Ge({key:"bgm",value:{src:t,enter:e,volume:r}}));setTimeout(()=>{const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())},0)}function Wf(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const CS=()=>{ge.warn("");for(let t=0;t<L.gameplay.performController.performList.length;t++){const e=L.gameplay.performController.performList[t];e.stopFunction(),clearTimeout(e.stopTimeout),L.gameplay.performController.performList.splice(t,1),t--}},PS=()=>{te.getState().stage.PerformList.forEach(e=>{ES(e.script)})},cN=(t,e=!0)=>{const r=te.dispatch,n=L.backlogManager.getBacklog()[t];ge.debug("backlog",n),e&&ua(n.saveScene.sceneUrl).then(a=>{L.sceneManager.sceneData.currentScene=ca(a,n.saveScene.sceneName,n.saveScene.sceneUrl);const o=L.sceneManager.sceneData.currentScene.subSceneList;L.sceneManager.settledScenes.push(L.sceneManager.sceneData.currentScene.sceneUrl);const s=jf(o);Uf(s)}),L.sceneManager.sceneData.currentSentenceId=n.saveScene.currentSentenceId,L.sceneManager.sceneData.sceneStack=Jt(n.saveScene.sceneStack),CS();for(let a=L.backlogManager.getBacklog().length-1;a>t;a--)L.backlogManager.getBacklog().pop();L.backlogManager.isSaveBacklogNext=!0;const i=Jt(n.currentStageState);r(ov(i)),setTimeout(PS,0),r(rt({component:"showBacklog",visibility:!1})),r(rt({component:"showTextBox",visibility:!0}))},fN=t=>{const r=te.getState().saveData.saveData[t];ge.debug("",r),hN(r)};function hN(t){if(!t){ge.info("");return}const e=t;ua(e.sceneData.sceneUrl).then(a=>{L.sceneManager.sceneData.currentScene=ca(a,e.sceneData.sceneName,e.sceneData.sceneUrl);const o=L.sceneManager.sceneData.currentScene.subSceneList;L.sceneManager.settledScenes.push(L.sceneManager.sceneData.currentScene.sceneUrl);const s=jf(o);Uf(s)}),L.sceneManager.sceneData.currentSentenceId=e.sceneData.currentSentenceId,L.sceneManager.sceneData.sceneStack=Jt(e.sceneData.sceneStack),CS();const r=e.backlog;L.backlogManager.getBacklog().splice(0,L.backlogManager.getBacklog().length);for(const a of r)L.backlogManager.getBacklog().push(a);const n=Jt(e.nowStageState),i=te.dispatch;i(ov(n)),setTimeout(PS,0),i(rt({component:"showTitle",visibility:!1})),i(rt({component:"showMenuPanel",visibility:!1})),Wf(te.getState().stage.bgName)}function yd(t,e){for(let r=t;r<=e;r++){const n=te.getState().saveData.saveData[r];Os.setItem(`${L.gameKey}-saves${r}`,n).then(()=>{ge.info(`${r}`)})}}function Zv(t,e){for(let r=t;r<=e;r++)Os.getItem(`${L.gameKey}-saves${r}`).then(n=>{te.dispatch(Oa.saveGame({index:r,saveData:n})),ge.info(`${r}`)})}async function _d(){const t=te.getState().saveData.quickSaveData;await Os.setItem(`${L.gameKey}-saves-fast`,t),ge.info("")}async function OS(){const t=await Os.getItem(`${L.gameKey}-saves-fast`);te.dispatch(Oa.setFastSave(t)),ge.info("")}const p_=t=>{const e=dN(t);te.dispatch(Oa.saveGame({index:t,saveData:e})),yd(t,t)};function dN(t,e=!0){const r=te.getState().stage,n=Jt(L.backlogManager.getBacklog());let i="";if(e){const o=document.getElementById("pixiCanvas"),s=document.createElement("canvas"),u=s.getContext("2d");s.width=480,s.height=270,u.drawImage(o,0,0,480,270),i=s.toDataURL("image/webp",.5),s.remove()}return{nowStageState:Jt(r),backlog:n,index:t,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:L.sceneManager.sceneData.currentSentenceId,sceneStack:Jt(L.sceneManager.sceneData.sceneStack),sceneName:L.sceneManager.sceneData.currentScene.sceneName,sceneUrl:L.sceneManager.sceneData.currentScene.sceneUrl},previewImage:i}}function Yae(){`${L.gameName}${L.gameKey}`,`${L.gameName}${L.gameKey}`}async function Hae(){const t=dN(-1,!1),e=Jt(t);te.dispatch(Oa.setFastSave(e)),await _d()}async function qae(){return await lN(),te.getState().saveData.quickSaveData!==null}async function Kae(){await OS();const t=te.getState().saveData.quickSaveData;t&&hN(t)}const Zae=()=>{mS(!0);const t=Nn("start.txt",Fn.scene);ua(t).then(e=>{L.sceneManager.sceneData.currentScene=ca(e,"start.txt",t),tn()}),te.dispatch(rt({component:"showTitle",visibility:!1}))};async function Qae(){if(Wf(te.getState().stage.bgName),await qae()&&L.sceneManager.sceneData.currentSentenceId===0){await Kae();return}L.sceneManager.sceneData.currentSentenceId===0&&L.sceneManager.sceneData.currentScene.sceneName==="start.txt"?tn():PS()}function RS(t,e){if(t==null)return{};var r=Cre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Jae={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const eoe=gn(Jae);var toe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function kP(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(eoe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(toe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var roe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,noe=/^\s*$/,ioe=Object.create(null);function pN(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(pN,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var aoe={parse:function(t,e){e||(e={}),e.components||(e.components=ioe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(roe,function(u,l){if(o){if(u!=="</"+r.name+">")return;o=!1}var c,f=u.charAt(1)!=="/",h=u.startsWith("<!--"),d=l+u.length,p=t.charAt(d);if(h){var v=kP(u);return a<0?(n.push(v),n):((c=i[a]).children.push(v),n)}if(f&&(a++,(r=kP(u)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!p||p==="<"||r.children.push({type:"text",content:t.slice(d,t.indexOf("<",d))}),a===0&&n.push(r),(c=i[a-1])&&c.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===u.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&p!=="<"&&p)){c=a===-1?n:i[a].children;var g=t.indexOf("<",d),m=t.slice(d,g===-1?void 0:g);noe.test(m)&&(m=" "),(g>-1&&a+c.length>=0||m!==" ")&&c.push({type:"text",content:m})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+pN("",r)},"")}};function xd(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var MP={};function pp(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&MP[e[0]]||(typeof e[0]=="string"&&(MP[e[0]]=new Date),xd.apply(void 0,e))}var vN=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function FP(t,e,r){t.loadNamespaces(e,vN(t,r))}function NP(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,vN(t,n))}function ooe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(u,l){var c=e.services.backendConnector.state["".concat(u,"|").concat(l)];return c===-1||c===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function soe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return pp("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):ooe(t,e,r)}var loe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uoe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},coe=function(e){return uoe[e]},foe=function(e){return e.replace(loe,coe)};function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var v_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:foe};function hoe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v_=DP(DP({},v_),t)}function mN(){return v_}var gN;function doe(t){gN=t}function IS(){return gN}var poe=["format"],voe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function BP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zg(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function Qg(t){return t?t.props?t.props.children:t.children:[]}function moe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return ne.isValidElement(e)})}function oc(t){return Array.isArray(t)?t:[t]}function goe(t,e){var r=hr({},e);return r.props=Object.assign(t.props,e.props),r}function yN(t,e){if(!t)return"";var r="",n=oc(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(ne.isValidElement(a)){var s=Object.keys(a.props).length,u=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&u&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!u||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(u&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var c=yN(l,e);r+="<".concat(o,">").concat(c,"</").concat(o,">")}}else if(a===null)xd("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Rr(a)==="object"){var f=a.format,h=RS(a,poe),d=Object.keys(h);if(d.length===1){var p=f?"".concat(d[0],", ").concat(f):d[0];r+="{{".concat(p,"}}")}else xd("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else xd("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function yoe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var u={};function l(g){var m=oc(g);m.forEach(function(y){typeof y!="string"&&(Zg(y)?l(Qg(y)):Rr(y)==="object"&&!ne.isValidElement(y)&&Object.assign(u,y))})}l(t);var c=aoe.parse("<0>".concat(e,"</0>")),f=hr(hr({},u),i);function h(g,m,y){var _=Qg(g),x=p(_,m.children,y);return moe(_)&&x.length===0?_:x}function d(g,m,y,_,x){g.dummy&&(g.children=m),y.push(ne.cloneElement(g,hr(hr({},g.props),{},{key:_}),x?void 0:m))}function p(g,m,y){var _=oc(g),x=oc(m);return x.reduce(function(b,S,w){var E=S.children&&S.children[0]&&S.children[0].content&&r.services.interpolator.interpolate(S.children[0].content,f,r.language);if(S.type==="tag"){var T=_[parseInt(S.name,10)];!T&&y.length===1&&y[0][S.name]&&(T=y[0][S.name]),T||(T={});var A=Object.keys(S.attrs).length!==0?goe({props:S.attrs},T):T,O=ne.isValidElement(A),P=O&&Zg(S,!0)&&!S.voidElement,k=s&&Rr(A)==="object"&&A.dummy&&!O,M=Rr(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,S.name);if(typeof A=="string"){var B=r.services.interpolator.interpolate(A,f,r.language);b.push(B)}else if(Zg(A)||P){var j=h(A,S,y);d(A,j,b,w)}else if(k){var z=p(_,S.children,y);b.push(ne.cloneElement(A,hr(hr({},A.props),{},{key:w}),z))}else if(Number.isNaN(parseFloat(S.name)))if(M){var J=h(A,S,y);d(A,J,b,w,S.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(S.name)>-1)if(S.voidElement)b.push(ne.createElement(S.name,{key:"".concat(S.name,"-").concat(w)}));else{var Z=p(_,S.children,y);b.push(ne.createElement(S.name,{key:"".concat(S.name,"-").concat(w)},Z))}else if(S.voidElement)b.push("<".concat(S.name," />"));else{var $=p(_,S.children,y);b.push("<".concat(S.name,">").concat($,"</").concat(S.name,">"))}else if(Rr(A)==="object"&&!O){var F=S.children[0]?E:null;F&&b.push(F)}else S.children.length===1&&E?b.push(ne.cloneElement(A,hr(hr({},A.props),{},{key:w}),E)):b.push(ne.cloneElement(A,hr(hr({},A.props),{},{key:w})))}else if(S.type==="text"){var G=n.transWrapTextNodes,V=a?n.unescape(r.services.interpolator.interpolate(S.content,f,r.language)):r.services.interpolator.interpolate(S.content,f,r.language);G?b.push(ne.createElement(G,{key:"".concat(S.name,"-").concat(w)},V)):b.push(V)}return b},[])}var v=p([{dummy:!0,children:t||[]}],c,oc(t||[]));return Qg(v[0])}function _oe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,u=t.values,l=t.defaults,c=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=RS(t,voe),g=h||IS();if(!g)return pp("You will need to pass in an i18next instance by using i18nextReactModule"),e;var m=d||g.t.bind(g)||function(P){return P};a&&(s.context=a);var y=hr(hr({},mN()),g.options&&g.options.react),_=f||m.ns||g.options&&g.options.defaultNS;_=typeof _=="string"?[_]:_||["translation"];var x=l||yN(e,y)||y.transEmptyNodeValue||i,b=y.hashTransKey,S=i||(b?b(x):x),w=u?s.interpolation:{interpolation:hr(hr({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},E=hr(hr(hr(hr({},s),{},{count:r},u),w),{},{defaultValue:x,ns:_}),T=S?m(S,E):x,A=yoe(c||e,T,g,y,E,p),O=n!==void 0?n:y.defaultTransParent;return O?ne.createElement(O,v,A):A}function Ti(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KI(n.key),n)}}function Ai(t,e,r){return e&&jP(t.prototype,e),r&&jP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var xoe={type:"3rdParty",init:function(e){hoe(e.options.react),doe(e)}},_N=ne.createContext(),boe=function(){function t(){Ti(this,t),this.usedNamespaces={}}return Ai(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),Soe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function woe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eoe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,u=t.values,l=t.defaults,c=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=RS(t,Soe),g=ne.useContext(_N)||{},m=g.i18n,y=g.defaultNS,_=h||m||IS(),x=d||_&&_.t.bind(_);return _oe(woe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:u,defaults:l,components:c,ns:f||x&&x.ns||y||_&&_.options&&_.options.defaultNS,i18n:_,t:d,shouldUnescape:p},v))}function xN(t){if(Array.isArray(t))return t}function Toe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bN(t,e){if(t){if(typeof t=="string")return $P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(t,e)}}function SN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aoe(t,e){return xN(t)||Toe(t,e)||bN(t,e)||SN()}function VP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Coe=function(e,r){var n=ne.useRef();return ne.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function Qv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=ne.useContext(_N)||{},i=n.i18n,a=n.defaultNS,o=r||i||IS();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new boe),!o){pp("You will need to pass in an i18next instance by using initReactI18next");var s=function(T,A){return typeof A=="string"?A:A&&Rr(A)==="object"&&typeof A.defaultValue=="string"?A.defaultValue:Array.isArray(T)?T[T.length-1]:T},u=[s,{},!1];return u.t=s,u.i18n={},u.ready=!1,u}o.options.react&&o.options.react.wait!==void 0&&pp("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=Jg(Jg(Jg({},mN()),o.options.react),e),c=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var d=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(E){return soe(E,o,l)});function p(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var v=ne.useState(p),g=Aoe(v,2),m=g[0],y=g[1],_=h.join();e.lng&&(_="".concat(e.lng).concat(_));var x=Coe(_),b=ne.useRef(!0);ne.useEffect(function(){var E=l.bindI18n,T=l.bindI18nStore;b.current=!0,!d&&!c&&(e.lng?NP(o,e.lng,h,function(){b.current&&y(p)}):FP(o,h,function(){b.current&&y(p)})),d&&x&&x!==_&&b.current&&y(p);function A(){b.current&&y(p)}return E&&o&&o.on(E,A),T&&o&&o.store.on(T,A),function(){b.current=!1,E&&o&&E.split(" ").forEach(function(O){return o.off(O,A)}),T&&o&&T.split(" ").forEach(function(O){return o.store.off(O,A)})}},[o,_]);var S=ne.useRef(!0);ne.useEffect(function(){b.current&&!S.current&&y(p),S.current=!1},[o,f]);var w=[m,o,d];if(w.t=m,w.i18n=o,w.ready=d,d||!d&&!c)return w;throw new Promise(function(E){e.lng?NP(o,e.lng,h,function(){return E()}):FP(o,h,function(){return E()})})}function On(t){const{t:e}=Qv(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}function du(t){const e=Ne(t),r=ne.useRef(e);return ne.useEffect(()=>{r.current=e},[e]),r}function pu(t){ne.useEffect(()=>{t()},[])}function vu(t){ne.useEffect(()=>function(){t()},[])}function Poe(t){ne.useEffect(()=>{t()})}const Ooe="_main_15mmi_1",Roe="_button_15mmi_16",Ioe="_button_text_15mmi_23",koe="_button_on_15mmi_31",Moe="_singleButton_15mmi_42",Foe="_fastSlPreview_15mmi_59",Noe="_fastSlEnter_15mmi_1",Loe="_fastsave_15mmi_73",Doe="_fastSPreview_15mmi_73",Boe="_fastload_15mmi_77",joe="_fastLPreview_15mmi_77",Uoe="_slPreviewMain_15mmi_89",$oe="_imgContainer_15mmi_97",Voe="_textContainer_15mmi_105",Ie={main:Ooe,button:Roe,button_text:Ioe,button_on:koe,singleButton:Moe,fastSlPreview:Foe,fastSlEnter:Noe,fastsave:Loe,fastSPreview:Doe,fastload:Boe,fastLPreview:joe,slPreviewMain:Uoe,imgContainer:$oe,textContainer:Voe},wN=t=>{const e=document.getElementById("Button_ControlPanel_auto");e&&(t?e.className=Ie.button_on:e.className=Ie.singleButton)},kS=()=>{L.gameplay.isAuto=!1,wN(!1),L.gameplay.autoInterval!==null&&(clearInterval(L.gameplay.autoInterval),L.gameplay.autoInterval=null),L.gameplay.autoTimeout!==null&&(clearTimeout(L.gameplay.autoTimeout),L.gameplay.autoTimeout=null)},EN=()=>{L.gameplay.isAuto?kS():(L.gameplay.isAuto=!0,wN(!0),L.gameplay.autoInterval=setInterval(Xoe,100))},Goe=()=>{tn(),L.gameplay.autoTimeout=null},Xoe=()=>{const e=750-250*te.getState().userData.optionData.autoSpeed;let r=!1;L.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&L.gameplay.autoTimeout===null&&(L.gameplay.autoTimeout=setTimeout(Goe,e))},TN=t=>{const e=document.getElementById("Button_ControlPanel_fast");e&&(t?e.className=Ie.button_on:e.className=Ie.singleButton)},Tl=()=>{CN()&&(L.gameplay.isFast=!1,TN(!1),L.gameplay.fastInterval!==null&&(clearInterval(L.gameplay.fastInterval),L.gameplay.fastInterval=null))},AN=()=>{CN()||(L.gameplay.isFast=!0,TN(!0),L.gameplay.fastInterval=setInterval(()=>{tn()},Yk.fast_timeout))},CN=function(){return L.gameplay.isFast},MS=()=>{Tl(),kS()},PN=()=>{L.gameplay.isFast?Tl():AN()},zoe="_Backlog_main_zwyao_2",Woe="_backlog_soft_in_zwyao_1",Yoe="_Backlog_main_out_zwyao_15",Hoe="_backlog_soft_out_zwyao_1",qoe="_Backlog_main_out_IndexHide_zwyao_28",Koe="_Backlog_main_DisableScroll_zwyao_32",Zoe="_backlog_top_zwyao_36",Qoe="_backlog_top_icon_zwyao_42",Joe="_backlog_icon_softin_zwyao_1",ese="_backlog_title_zwyao_62",tse="_backlog_content_zwyao_72",rse="_backlog_item_zwyao_84",nse="_backlog_item_in_zwyao_1",ise="_backlog_item_out_zwyao_94",ase="_backlog_func_area_zwyao_104",ose="_backlog_item_content_name_zwyao_113",sse="_backlog_item_content_zwyao_113",lse="_backlog_item_button_list_zwyao_137",use="_backlog_item_button_element_zwyao_144",cse="_backlog_item_content_text_zwyao_157",Ur={Backlog_main:zoe,backlog_soft_in:Woe,Backlog_main_out:Yoe,backlog_soft_out:Hoe,Backlog_main_out_IndexHide:qoe,Backlog_main_DisableScroll:Koe,backlog_top:Zoe,backlog_top_icon:Qoe,backlog_icon_softin:Joe,backlog_title:ese,backlog_content:tse,backlog_item:rse,backlog_item_in:nse,backlog_item_out:ise,backlog_func_area:ase,backlog_item_content_name:ose,backlog_item_content:sse,backlog_item_button_list:lse,backlog_item_button_element:use,backlog_item_content_text:cse};var fse=Ei,hse=function(){return fse.Date.now()},dse=hse,pse=/\s/;function vse(t){for(var e=t.length;e--&&pse.test(t.charAt(e)););return e}var mse=vse,gse=mse,yse=/^\s+/;function _se(t){return t&&t.slice(0,gse(t)+1).replace(yse,"")}var xse=_se,bse=xse,GP=sa,Sse=wv,XP=0/0,wse=/^[-+]0x[0-9a-f]+$/i,Ese=/^0b[01]+$/i,Tse=/^0o[0-7]+$/i,Ase=parseInt;function Cse(t){if(typeof t=="number")return t;if(Sse(t))return XP;if(GP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=GP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=bse(t);var r=Ese.test(t);return r||Tse.test(t)?Ase(t.slice(2),r?2:8):wse.test(t)?XP:+t}var Pse=Cse,Ose=sa,ey=dse,zP=Pse,Rse="Expected a function",Ise=Math.max,kse=Math.min;function Mse(t,e,r){var n,i,a,o,s,u,l=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Rse);e=zP(e)||0,Ose(r)&&(c=!!r.leading,f="maxWait"in r,a=f?Ise(zP(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function d(S){var w=n,E=i;return n=i=void 0,l=S,o=t.apply(E,w),o}function p(S){return l=S,s=setTimeout(m,e),c?d(S):o}function v(S){var w=S-u,E=S-l,T=e-w;return f?kse(T,a-E):T}function g(S){var w=S-u,E=S-l;return u===void 0||w>=e||w<0||f&&E>=a}function m(){var S=ey();if(g(S))return y(S);s=setTimeout(m,v(S))}function y(S){return s=void 0,h&&n?d(S):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),l=0,n=u=i=s=void 0}function x(){return s===void 0?o:y(ey())}function b(){var S=ey(),w=g(S);if(n=arguments,i=this,u=S,w){if(s===void 0)return p(u);if(f)return clearTimeout(s),s=setTimeout(m,e),d(u)}return s===void 0&&(s=setTimeout(m,e)),o}return b.cancel=_,b.flush=x,b}var Fse=Mse,Nse=Fse,Lse=sa,Dse="Expected a function";function Bse(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Dse);return Lse(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Nse(t,e,{leading:n,maxWait:e,trailing:i})}var jse=Bse;const Use=gn(jse),ul="keyboard"in navigator&&navigator.keyboard;function $se(t){Vse(),Xse(),Wse(),zse(),Yse(),Qse(),ele()}function Vse(){const t=du(u=>u.GUI),e=em(),r=Jv(t),n=ON(t),i=Hse(t),a=Kse(t),o=qse(t),s=ne.useCallback(u=>i()?(e("showGlobalDialog",!1),u.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),u.preventDefault(),!1),[]);pu(()=>{document.addEventListener("contextmenu",s)}),vu(()=>{document.removeEventListener("contextmenu",s)})}let Gse=setTimeout(()=>{},0);function Xse(){const t=du(u=>u.GUI),e=em(),r=Jv(t),n=ON(t),i=RN(t),a=ne.useCallback(Use(()=>{tn()},100),[]),o=ne.useRef(0),s=ne.useCallback(u=>{if(i())return;const l=u.wheelDelta&&(u.wheelDelta>0?"up":"down")||u.detail&&(u.detail<0?"up":"down")||"down",c=u.ctrlKey,f=document.querySelector(`.${Ur.backlog_content}`);if(r()&&l==="up"&&!c)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&l==="down"&&!c){if(f){let h=Jse(f),d=new Date().getTime();h&&d-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=d}}else r()&&l==="down"&&!c&&(clearTimeout(Gse),L.gameplay.isFast=!0,setTimeout(()=>{L.gameplay.isFast=!1},150),a())},[]);pu(()=>{document.addEventListener("wheel",s)}),vu(()=>{document.removeEventListener("wheel",s)})}function zse(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=du(s=>s.GUI),n=ne.useCallback(()=>r.current.showTitle,[r]),i=RN(r),a=em(),o=ne.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),MS()))},[]);pu(()=>{document.addEventListener("keyup",o)}),vu(()=>{document.removeEventListener("keyup",o)})}function Wse(){const t=du(o=>o.GUI),e=Jv(t),r=ne.useCallback(o=>o.keyCode===17,[]),n=ne.useCallback(o=>{r(o)&&e()&&AN()},[]),i=ne.useCallback(o=>{r(o)&&e()&&Tl()},[]),a=ne.useCallback(o=>{Tl()},[]);pu(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),vu(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),Poe(()=>{e()||Tl()})}function Yse(){const t=Zse(),e=ne.useCallback(async r=>{t()&&await Hae()},[]);pu(()=>{window.addEventListener("beforeunload",e)}),vu(()=>{window.removeEventListener("beforeunload",e)})}function Jv(t){return ne.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function ON(t){return ne.useCallback(()=>t.current.showBacklog,[t])}function Hse(t){return ne.useCallback(()=>t.current.showGlobalDialog,[t])}function qse(t){return ne.useCallback(()=>t.current.showExtra,[t])}function RN(t){return ne.useCallback(()=>t.current.showPanicOverlay,[t])}function Kse(t){return ne.useCallback(()=>[vt.Save,vt.Load,vt.Option].includes(t.current.currentMenuTag),[t])}function Zse(){return ne.useCallback(()=>L.sceneManager.sceneData.currentSentenceId!==0,[L.sceneManager.sceneData])}function em(){const t=Lr();return(e,r)=>{t(rt({component:e,visibility:r}))}}function Qse(){const t=du(u=>u.GUI),e=Jv(t),r=em(),n=ne.useRef(!1),i=ne.useCallback(u=>u.keyCode===32||u.keyCode===13,[]),a=ne.useCallback(u=>{if(i(u)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}MS(),tn(),n.current=!0}},[]),o=ne.useCallback(u=>{i(u)&&e()&&(n.current=!1)},[]),s=ne.useCallback(u=>{n.current=!1},[]);pu(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),vu(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function Jse(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function ele(){const t=Ne(n=>n.userData),e=Lr(),r=t.optionData.fullScreen;ne.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==Qi.on?(e(Ct({key:"fullScreen",value:Qi.on})),st()):(e(Ct({key:"fullScreen",value:Qi.off})),st()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const tle=()=>{const t=["Title_img","Game_Logo","Title_bgm","Game_name","Game_key"],e=Ne(r=>r.userData.globalGameVar);return ne.useEffect(()=>{for(let r in e){if(!t.includes(r))continue;const n=e[r];switch(r){case"Title_img":{const i=Nn(n,Fn.background);te.dispatch(dp({asset:"titleBg",value:i})),Wf(i);break}case"Game_Logo":{const a=n.split("|").map(o=>Nn(o,Fn.background));te.dispatch(zae(a));break}case"Title_bgm":{const i=Nn(n,Fn.bgm);te.dispatch(dp({asset:"titleBgm",value:i}));break}case"Game_name":{L.gameName=n,document.title=n;break}case"Game_key":{L.gameKey=n,Jc(),OS(),Zv(0,0);break}}}return()=>{}},[e.Game_Logo,e.Game_key,e.Game_name,e.Title_bgm,e.Title_img])},rle=()=>{const t=Ne(c=>c.userData),e=Ne(c=>c.GUI),r=Lr(),n=t.optionData.fullScreen,i=e.titleBg,a=i===""?"rgba(0,0,0,1)":`url("${i}")`,o=On("title."),{playSeEnter:s,playSeClick:u}=_n(),l=pS("UI/Title/title.scss");return tle(),C.jsxs(C.Fragment,{children:[e.showTitle&&C.jsx("div",{className:l("Title_backup_background",In.Title_backup_background)}),C.jsx("div",{id:"enter_game_target",onClick:()=>{AS(e.titleBgm),r(rt({component:"isEnterGame",visibility:!0})),n===Qi.on&&(document.documentElement.requestFullscreen(),ul&&ul.lock(["Escape","F11"]))},onMouseEnter:s}),e.showTitle&&C.jsx("div",{className:l("Title_main",In.Title_main),style:{backgroundImage:a,backgroundSize:"cover"},children:C.jsxs("div",{className:l("Title_buttonList",In.Title_buttonList),children:[C.jsx("div",{className:l("Title_button",In.Title_button),onClick:()=>{Zae(),u()},onMouseEnter:s,children:C.jsx("div",{className:l("Title_button_text",In.Title_button_text),children:o("start.title")})}),C.jsx("div",{className:l("Title_button",In.Title_button),onClick:async()=>{u(),r(rt({component:"showTitle",visibility:!1})),Qae()},onMouseEnter:s,children:C.jsx("div",{className:l("Title_button_text",In.Title_button_text),children:o("continue.title")})}),C.jsx("div",{className:l("Title_button",In.Title_button),onClick:()=>{u(),r(rt({component:"showMenuPanel",visibility:!0})),r(ss(vt.Option))},onMouseEnter:s,children:C.jsx("div",{className:l("Title_button_text",In.Title_button_text),children:o("options.title")})}),C.jsx("div",{className:l("Title_button",In.Title_button),onClick:()=>{u(),r(rt({component:"showMenuPanel",visibility:!0})),r(ss(vt.Load))},onMouseEnter:s,children:C.jsx("div",{className:l("Title_button_text",In.Title_button_text),children:o("load.title")})}),C.jsx("div",{className:l("Title_button",In.Title_button),onClick:()=>{u(),r(rt({component:"showExtra",visibility:!0}))},onMouseEnter:s,children:C.jsx("div",{className:l("Title_button_text",In.Title_button_text),children:o("extra.title")})})]})})]})},nle="_Logo_main_1bne2_1",ile="_Logo_Back_1bne2_32",ale="_animationActive_1bne2_46",ole="_fadeout_1bne2_1",ty={Logo_main:nle,"change-img-anim":"_change-img-anim_1bne2_1",Logo_Back:ile,animationActive:ale,fadeout:ole},sle=()=>{const t=Ne(u=>u.GUI),e=t.logoImage,r=t.isEnterGame,n=wi(-1),i=wi(-1),a=5e3,o=()=>{clearTimeout(i.value),n.value<e.length-1?(n.set(n.value+1),i.set(setTimeout(o,a))):n.set(-1)};ne.useEffect(()=>{r&&e.length>0&&(n.set(0),i.set(setTimeout(o,a)))},[r]);const s=n.value===-1?"":e[n.value];return C.jsxs(C.Fragment,{children:[n.value!==-1&&C.jsx("div",{className:ty.Logo_Back+" "+(n.value===e.length-1?ty.animationActive:""),style:{animationDuration:`${a}ms`}},n.value+"wh"),s!==""&&C.jsx("div",{className:ty.Logo_main,onClick:o,style:{backgroundImage:`url("${s}")`,animationDuration:`${a}ms`}},n.value+"bg")]})},lle=t=>{const e=te.dispatch;Wc.get(t).then(async r=>{var o,s;let n=r.data,i=Kv.parseConfig(n);ge.info("",i);const a=i.find(u=>u.command==="Game_key");L.gameKey=((o=a==null?void 0:a.args)==null?void 0:o[0])??"",Yae(),await lN(),OS(),Zv(0,0),i.forEach(u=>{const{command:l,args:c}=u;if(c.length>0)if(c.length>1)e(dC({key:l,value:c.join("|")}));else{let f=c[0].trim();/^(true|false)$/g.test(c[0])?f=!!f:/^[0-9]+\.?[0-9]+$/g.test(c[0])&&(f=Number(f)),e(dC({key:l,value:f}))}}),(s=window==null?void 0:window.renderPromise)==null||s.call(window),delete window.renderPromise,st()})};let m_;const ule=(t,e,r=!1)=>{ge.warn(""+t+":"+e);const n=te.dispatch;n(rt({component:"showTitle",visibility:!1})),n(rt({component:"showMenuPanel",visibility:!1})),n(rt({component:"isShowLogo",visibility:!1}));const i=document.getElementById("Title_enter_page");i&&(i.style.display="none");const a=Jt(L.sceneManager.sceneData.currentScene),o=Nn(t,Fn.scene);ua(o).then(s=>{const u=cle(a,L.sceneManager.sceneData.currentScene,e),l=Math.min(e,u),c=fle(l,t),f=c>=0&&r;mS(!f),L.sceneManager.sceneData.currentScene=ca(s,t,o);const h=L.sceneManager.sceneData.currentScene.sceneName;L.gameplay.isFast=!0,f&&cN(c,!1),m_&&clearTimeout(m_),FS(e,h)})};function FS(t,e){L.sceneManager.sceneData.currentSentenceId<t&&L.sceneManager.sceneData.currentScene.sceneName===e?(tn(),m_=setTimeout(()=>FS(t,e),2)):L.gameplay.isFast=!1}function cle(t,e,r){let n=0;for(let i=0;i<r&&i<t.sentenceList.length;i++){const a=JSON.stringify(t.sentenceList[i]),o=JSON.stringify(e.sentenceList[i]);if(a!==o)break;n=i}return n}function fle(t,e){let r=-1;return L.backlogManager.getBacklog().forEach((n,i)=>{const a=n.saveScene.currentSentenceId,o=n.saveScene.sceneName;a<=t&&o===e&&(r=i)}),r}const hle=()=>{window.JMP=FS};var sc=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(sc||{});const dle=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}${n}/api/webgalsync`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),ge.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{ge.info("socket");function o(){const s={event:"message",data:{command:sc.SYNCFC,sceneMsg:{scene:L.sceneManager.sceneData.currentScene.sceneName,sentence:L.sceneManager.sceneData.currentSentenceId},stageSyncMsg:te.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===sc.JUMP&&ule(l.sceneMsg.scene,l.sceneMsg.sentence,l.message==="exp"),l.command===sc.EXE_COMMAND){const c=l.message,h=Kv.parse(c,"temp.txt","temp.txt").sentenceList[0];ES(h)}if(l.command===sc.REFETCH_TEMPLATE_FILES){const c=document.getElementById("Title_enter_page");c&&(c.style.display="none"),L.events.styleUpdate.emit()}},a.onerror=o=>{ge.info(" Terre ")}};function ple(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function vle(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(u,l){if(l&&(typeof l=="object"||typeof l=="function")){var c=l.then;if(typeof c=="function"){c.call(l,function(f){o(u,f)},function(f){i[u]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[u]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function IN(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}IN.prototype=Error.prototype;function mle(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new IN(a,"All promises were rejected"))})}catch(s){n(s)}})}var gle=setTimeout;function kN(t){return!!(t&&typeof t.length<"u")}function yle(){}function _le(t,e){return function(){t.apply(e,arguments)}}function jt(t){if(!(this instanceof jt))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],FN(t,this)}function MN(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,jt._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?g_:ef)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){ef(e.promise,i);return}g_(e.promise,n)})}function g_(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof jt){t._state=3,t._value=e,y_(t);return}else if(typeof r=="function"){FN(_le(r,e),t);return}}t._state=1,t._value=e,y_(t)}catch(n){ef(t,n)}}function ef(t,e){t._state=2,t._value=e,y_(t)}function y_(t){t._state===2&&t._deferreds.length===0&&jt._immediateFn(function(){t._handled||jt._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)MN(t,t._deferreds[e]);t._deferreds=null}function xle(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function FN(t,e){var r=!1;try{t(function(n){r||(r=!0,g_(e,n))},function(n){r||(r=!0,ef(e,n))})}catch(n){if(r)return;r=!0,ef(e,n)}}jt.prototype.catch=function(t){return this.then(null,t)};jt.prototype.then=function(t,e){var r=new this.constructor(yle);return MN(this,new xle(t,e,r)),r};jt.prototype.finally=ple;jt.all=function(t){return new jt(function(e,r){if(!kN(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var l=u.then;if(typeof l=="function"){l.call(u,function(c){a(s,c)},r);return}}n[s]=u,--i===0&&e(n)}catch(c){r(c)}}for(var o=0;o<n.length;o++)a(o,n[o])})};jt.any=mle;jt.allSettled=vle;jt.resolve=function(t){return t&&typeof t=="object"&&t.constructor===jt?t:new jt(function(e){e(t)})};jt.reject=function(t){return new jt(function(e,r){r(t)})};jt.race=function(t){return new jt(function(e,r){if(!kN(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)jt.resolve(t[n]).then(e,r)})};jt._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){gle(t,0)};jt._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=jt);Object.assign||(Object.assign=UB);var ble=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var Sle=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-Sle}}var ry=Date.now(),WP=["ms","moz","webkit","o"];for(var ny=0;ny<WP.length&&!globalThis.requestAnimationFrame;++ny){var iy=WP[ny];globalThis.requestAnimationFrame=globalThis[iy+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[iy+"CancelAnimationFrame"]||globalThis[iy+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=ble+ry-e;return r<0&&(r=0),ry=e,globalThis.self.setTimeout(function(){ry=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ta;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ta||(ta={}));var Ul;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Ul||(Ul={}));var tf;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(tf||(tf={}));var Se;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Se||(Se={}));var Ln;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ln||(Ln={}));var ve;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ve||(ve={}));var vo;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(vo||(vo={}));var Re;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Re||(Re={}));var rf;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(rf||(rf={}));var Ir;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Ir||(Ir={}));var xi;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(xi||(xi={}));var mn;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(mn||(mn={}));var Rn;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Rn||(Rn={}));var qn;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(qn||(qn={}));var nf;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(nf||(nf={}));var Tn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Tn||(Tn={}));var Zt;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Zt||(Zt={}));var __;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(__||(__={}));var Ot;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Ot||(Ot={}));var bi;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(bi||(bi={}));/*!
 * @pixi/settings - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var NN={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},ay=/iPhone/i,YP=/iPod/i,HP=/iPad/i,qP=/\biOS-universal(?:.+)Mac\b/i,oy=/\bAndroid(?:.+)Mobile\b/i,KP=/Android/i,Gs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,xh=/Silk/i,ya=/Windows Phone/i,ZP=/\bWindows(?:.+)ARM\b/i,QP=/BlackBerry/i,JP=/BB10/i,e2=/Opera Mini/i,t2=/\b(CriOS|Chrome)(?:.+)Mobile/i,r2=/Mobile(?:.+)Firefox\b/i,n2=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function wle(t){return function(e){return e.test(t)}}function Ele(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=wle(r),a={apple:{phone:i(ay)&&!i(ya),ipod:i(YP),tablet:!i(ay)&&(i(HP)||n2(e))&&!i(ya),universal:i(qP),device:(i(ay)||i(YP)||i(HP)||i(qP)||n2(e))&&!i(ya)},amazon:{phone:i(Gs),tablet:!i(Gs)&&i(xh),device:i(Gs)||i(xh)},android:{phone:!i(ya)&&i(Gs)||!i(ya)&&i(oy),tablet:!i(ya)&&!i(Gs)&&!i(oy)&&(i(xh)||i(KP)),device:!i(ya)&&(i(Gs)||i(xh)||i(oy)||i(KP))||i(/\bokhttp\b/i)},windows:{phone:i(ya),tablet:i(ZP),device:i(ya)||i(ZP)},other:{blackberry:i(QP),blackberry10:i(JP),opera:i(e2),firefox:i(r2),chrome:i(t2),device:i(QP)||i(JP)||i(e2)||i(r2)||i(t2)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var Jn=Ele(globalThis.navigator);function Tle(){return!Jn.apple.device}function Ale(t){var e=!0;if(Jn.tablet||Jn.phone){if(Jn.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Jn.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}var xe={ADAPTER:NN,MIPMAP_TEXTURES:mn.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Ot.NONE,SPRITE_MAX_TEXTURES:Ale(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:nf.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:xi.CLAMP,SCALE_MODE:Ir.LINEAR,PRECISION_VERTEX:Tn.HIGH,PRECISION_FRAGMENT:Jn.apple.device?Tn.HIGH:Tn.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Tle(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},LN={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function a(u,l,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||u,h),p=r?r+l:l;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],d]:u._events[p].push(d):(u._events[p]=d,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=r?r+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(l){var c=r?r+l:l,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,c,f,h,d,p){var v=r?r+l:l;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,y,_;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,h),!0;case 5:return g.fn.call(g.context,c,f,h,d),!0;case 6:return g.fn.call(g.context,c,f,h,d,p),!0}for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];g.fn.apply(g.context,y)}else{var x=g.length,b;for(_=0;_<x;_++)switch(g[_].once&&this.removeListener(l,g[_].fn,void 0,!0),m){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,c);break;case 3:g[_].fn.call(g[_].context,c,f);break;case 4:g[_].fn.call(g[_].context,c,f,h);break;default:if(!y)for(b=1,y=new Array(m-1);b<m;b++)y[b-1]=arguments[b];g[_].fn.apply(g[_].context,y)}}return!0},s.prototype.on=function(l,c,f){return a(this,l,c,f,!1)},s.prototype.once=function(l,c,f){return a(this,l,c,f,!0)},s.prototype.removeListener=function(l,c,f,h){var d=r?r+l:l;if(!this._events[d])return this;if(!c)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===c&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==c||h&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[d]=g.length===1?g[0]:g:o(this,d)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(LN);var Cle=LN.exports;const mu=gn(Cle);var NS={exports:{}};NS.exports=tm;NS.exports.default=tm;function tm(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=DN(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,u,l,c,f,h,d;if(n&&(a=kle(t,e,a,r)),t.length>80*r){s=l=t[0],u=c=t[1];for(var p=r;p<i;p+=r)f=t[p],h=t[p+1],f<s&&(s=f),h<u&&(u=h),f>l&&(l=f),h>c&&(c=h);d=Math.max(l-s,c-u),d=d!==0?32767/d:0}return af(a,o,r,s,u,d,0),o}function DN(t,e,r,n,i){var a,o;if(i===S_(t,e,r,n)>0)for(a=e;a<r;a+=n)o=i2(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=i2(a,t[a],t[a+1],o);return o&&rm(o,o.next)&&(sf(o),o=o.next),o}function ys(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(rm(r,r.next)||Bt(r.prev,r,r.next)===0)){if(sf(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function af(t,e,r,n,i,a,o){if(t){!o&&a&&Dle(t,n,i,a);for(var s=t,u,l;t.prev!==t.next;){if(u=t.prev,l=t.next,a?Ole(t,n,i,a):Ple(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),sf(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=Rle(ys(t),e,r),af(t,e,r,n,i,a,2)):o===2&&Ile(t,e,r,n,i,a):af(ys(t),e,r,n,i,a,1);break}}}}function Ple(t){var e=t.prev,r=t,n=t.next;if(Bt(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,u=r.y,l=n.y,c=i<a?i<o?i:o:a<o?a:o,f=s<u?s<l?s:l:u<l?u:l,h=i>a?i>o?i:o:a>o?a:o,d=s>u?s>l?s:l:u>l?u:l,p=n.next;p!==e;){if(p.x>=c&&p.x<=h&&p.y>=f&&p.y<=d&&cl(i,s,a,u,o,l,p.x,p.y)&&Bt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ole(t,e,r,n){var i=t.prev,a=t,o=t.next;if(Bt(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,f=a.y,h=o.y,d=s<u?s<l?s:l:u<l?u:l,p=c<f?c<h?c:h:f<h?f:h,v=s>u?s>l?s:l:u>l?u:l,g=c>f?c>h?c:h:f>h?f:h,m=x_(d,p,e,r,n),y=x_(v,g,e,r,n),_=t.prevZ,x=t.nextZ;_&&_.z>=m&&x&&x.z<=y;){if(_.x>=d&&_.x<=v&&_.y>=p&&_.y<=g&&_!==i&&_!==o&&cl(s,c,u,f,l,h,_.x,_.y)&&Bt(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=d&&x.x<=v&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&cl(s,c,u,f,l,h,x.x,x.y)&&Bt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=m;){if(_.x>=d&&_.x<=v&&_.y>=p&&_.y<=g&&_!==i&&_!==o&&cl(s,c,u,f,l,h,_.x,_.y)&&Bt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&cl(s,c,u,f,l,h,x.x,x.y)&&Bt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Rle(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!rm(i,a)&&BN(i,n,n.next,a)&&of(i,a)&&of(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),sf(n),sf(n.next),n=t=a),n=n.next}while(n!==t);return ys(n)}function Ile(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ule(o,s)){var u=jN(o,s);o=ys(o,o.next),u=ys(u,u.next),af(o,e,r,n,i,a,0),af(u,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function kle(t,e,r,n){var i=[],a,o,s,u,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,u=a<o-1?e[a+1]*n:t.length,l=DN(t,s,u,n,!1),l===l.next&&(l.steiner=!0),i.push(jle(l));for(i.sort(Mle),a=0;a<i.length;a++)r=Fle(i[a],r);return r}function Mle(t,e){return t.x-e.x}function Fle(t,e){var r=Nle(t,e);if(!r)return e;var n=jN(r,t);return ys(n,n.next),ys(r,r.next)}function Nle(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,l=o.x,c=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&cl(i<c?n:a,i,l,c,i<c?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),of(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&Lle(o,r)))&&(o=r,f=h)),r=r.next;while(r!==u);return o}function Lle(t,e){return Bt(t.prev,t,e.prev)<0&&Bt(e.next,t,t.next)<0}function Dle(t,e,r,n){var i=t;do i.z===0&&(i.z=x_(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Ble(i)}function Ble(t){var e,r,n,i,a,o,s,u,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(u=l;s>0||u>0&&n;)s!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function x_(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function jle(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function cl(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function Ule(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!$le(t,e)&&(of(t,e)&&of(e,t)&&Vle(t,e)&&(Bt(t.prev,t,e.prev)||Bt(t,e.prev,e))||rm(t,e)&&Bt(t.prev,t,t.next)>0&&Bt(e.prev,e,e.next)>0)}function Bt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function rm(t,e){return t.x===e.x&&t.y===e.y}function BN(t,e,r,n){var i=Sh(Bt(t,e,r)),a=Sh(Bt(t,e,n)),o=Sh(Bt(r,n,t)),s=Sh(Bt(r,n,e));return!!(i!==a&&o!==s||i===0&&bh(t,r,e)||a===0&&bh(t,n,e)||o===0&&bh(r,t,n)||s===0&&bh(r,e,n))}function bh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Sh(t){return t>0?1:t<0?-1:0}function $le(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&BN(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function of(t,e){return Bt(t.prev,t,t.next)<0?Bt(t,e,t.next)>=0&&Bt(t,t.prev,e)>=0:Bt(t,e,t.prev)<0||Bt(t,t.next,e)<0}function Vle(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function jN(t,e){var r=new b_(t.i,t.x,t.y),n=new b_(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function i2(t,e,r,n){var i=new b_(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function sf(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function b_(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}tm.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(S_(t,0,a,r));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length;o-=Math.abs(S_(t,l,c,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;f+=Math.abs((t[h]-t[p])*(t[d+1]-t[h+1])-(t[h]-t[d])*(t[p+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function S_(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}tm.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Gle=NS.exports;const LS=gn(Gle);var vp={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */vp.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof Qn=="object"&&Qn;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,u=36,l=1,c=26,f=38,h=700,d=72,p=128,v="-",g=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,b=Math.floor,S=String.fromCharCode,w;function E($){throw new RangeError(_[$])}function T($,F){for(var G=$.length,V=[];G--;)V[G]=F($[G]);return V}function A($,F){var G=$.split("@"),V="";G.length>1&&(V=G[0]+"@",$=G[1]),$=$.replace(y,".");var U=$.split("."),H=T(U,F).join(".");return V+H}function O($){for(var F=[],G=0,V=$.length,U,H;G<V;)U=$.charCodeAt(G++),U>=55296&&U<=56319&&G<V?(H=$.charCodeAt(G++),(H&64512)==56320?F.push(((U&1023)<<10)+(H&1023)+65536):(F.push(U),G--)):F.push(U);return F}function P($){return T($,function(F){var G="";return F>65535&&(F-=65536,G+=S(F>>>10&1023|55296),F=56320|F&1023),G+=S(F),G}).join("")}function k($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:u}function M($,F){return $+22+75*($<26)-((F!=0)<<5)}function B($,F,G){var V=0;for($=G?b($/h):$>>1,$+=b($/F);$>x*c>>1;V+=u)$=b($/x);return b(V+(x+1)*$/($+f))}function j($){var F=[],G=$.length,V,U=0,H=p,ee=d,ie,ae,pe,ye,oe,_e,Ce,be,Oe;for(ie=$.lastIndexOf(v),ie<0&&(ie=0),ae=0;ae<ie;++ae)$.charCodeAt(ae)>=128&&E("not-basic"),F.push($.charCodeAt(ae));for(pe=ie>0?ie+1:0;pe<G;){for(ye=U,oe=1,_e=u;pe>=G&&E("invalid-input"),Ce=k($.charCodeAt(pe++)),(Ce>=u||Ce>b((s-U)/oe))&&E("overflow"),U+=Ce*oe,be=_e<=ee?l:_e>=ee+c?c:_e-ee,!(Ce<be);_e+=u)Oe=u-be,oe>b(s/Oe)&&E("overflow"),oe*=Oe;V=F.length+1,ee=B(U-ye,V,ye==0),b(U/V)>s-H&&E("overflow"),H+=b(U/V),U%=V,F.splice(U++,0,H)}return P(F)}function z($){var F,G,V,U,H,ee,ie,ae,pe,ye,oe,_e=[],Ce,be,Oe,ke;for($=O($),Ce=$.length,F=p,G=0,H=d,ee=0;ee<Ce;++ee)oe=$[ee],oe<128&&_e.push(S(oe));for(V=U=_e.length,U&&_e.push(v);V<Ce;){for(ie=s,ee=0;ee<Ce;++ee)oe=$[ee],oe>=F&&oe<ie&&(ie=oe);for(be=V+1,ie-F>b((s-G)/be)&&E("overflow"),G+=(ie-F)*be,F=ie,ee=0;ee<Ce;++ee)if(oe=$[ee],oe<F&&++G>s&&E("overflow"),oe==F){for(ae=G,pe=u;ye=pe<=H?l:pe>=H+c?c:pe-H,!(ae<ye);pe+=u)ke=ae-ye,Oe=u-ye,_e.push(S(M(ye+ke%Oe,0))),ae=b(ke/Oe);_e.push(S(M(ae,0))),H=B(G,be,V==U),G=0,++V}++G,++F}return _e.join("")}function J($){return A($,function(F){return g.test(F)?j(F.slice(4).toLowerCase()):F})}function Z($){return A($,function(F){return m.test(F)?"xn--"+z(F):F})}if(o={version:"1.4.1",ucs2:{decode:O,encode:P},decode:j,encode:z,toASCII:Z,toUnicode:J},n&&i)if(t.exports==n)i.exports=o;else for(w in o)o.hasOwnProperty(w)&&(n[w]=o[w]);else r.punycode=o})(Qn)})(vp,vp.exports);var Xle=vp.exports,zle=Error,Wle=EvalError,Yle=RangeError,Hle=ReferenceError,UN=SyntaxError,Yf=TypeError,qle=URIError,Kle=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},a2=typeof Symbol<"u"&&Symbol,Zle=Kle,Qle=function(){return typeof a2!="function"||typeof Symbol!="function"||typeof a2("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Zle()},sy={__proto__:null,foo:{}},Jle=Object,eue=function(){return{__proto__:sy}.foo===sy.foo&&!(sy instanceof Jle)},tue="Function.prototype.bind called on incompatible ",rue=Object.prototype.toString,nue=Math.max,iue="[object Function]",o2=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},aue=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},oue=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},sue=function(e){var r=this;if(typeof r!="function"||rue.apply(r)!==iue)throw new TypeError(tue+r);for(var n=aue(arguments,1),i,a=function(){if(this instanceof i){var c=r.apply(this,o2(n,arguments));return Object(c)===c?c:this}return r.apply(e,o2(n,arguments))},o=nue(0,r.length-n.length),s=[],u=0;u<o;u++)s[u]="$"+u;if(i=Function("binder","return function ("+oue(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},lue=sue,DS=Function.prototype.bind||lue,uue=Function.prototype.call,cue=Object.prototype.hasOwnProperty,fue=DS,hue=fue.call(uue,cue),qe,due=zle,pue=Wle,vue=Yle,mue=Hle,$l=UN,Al=Yf,gue=qle,$N=Function,ly=function(t){try{return $N('"use strict"; return ('+t+").constructor;")()}catch{}},ls=Object.getOwnPropertyDescriptor;if(ls)try{ls({},"")}catch{ls=null}var uy=function(){throw new Al},yue=ls?function(){try{return arguments.callee,uy}catch{try{return ls(arguments,"callee").get}catch{return uy}}}():uy,Xs=Qle(),_ue=eue(),Ar=Object.getPrototypeOf||(_ue?function(t){return t.__proto__}:null),Js={},xue=typeof Uint8Array>"u"||!Ar?qe:Ar(Uint8Array),us={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?qe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?qe:ArrayBuffer,"%ArrayIteratorPrototype%":Xs&&Ar?Ar([][Symbol.iterator]()):qe,"%AsyncFromSyncIteratorPrototype%":qe,"%AsyncFunction%":Js,"%AsyncGenerator%":Js,"%AsyncGeneratorFunction%":Js,"%AsyncIteratorPrototype%":Js,"%Atomics%":typeof Atomics>"u"?qe:Atomics,"%BigInt%":typeof BigInt>"u"?qe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?qe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?qe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?qe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":due,"%eval%":eval,"%EvalError%":pue,"%Float32Array%":typeof Float32Array>"u"?qe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?qe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?qe:FinalizationRegistry,"%Function%":$N,"%GeneratorFunction%":Js,"%Int8Array%":typeof Int8Array>"u"?qe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?qe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?qe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xs&&Ar?Ar(Ar([][Symbol.iterator]())):qe,"%JSON%":typeof JSON=="object"?JSON:qe,"%Map%":typeof Map>"u"?qe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xs||!Ar?qe:Ar(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?qe:Promise,"%Proxy%":typeof Proxy>"u"?qe:Proxy,"%RangeError%":vue,"%ReferenceError%":mue,"%Reflect%":typeof Reflect>"u"?qe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?qe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xs||!Ar?qe:Ar(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?qe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xs&&Ar?Ar(""[Symbol.iterator]()):qe,"%Symbol%":Xs?Symbol:qe,"%SyntaxError%":$l,"%ThrowTypeError%":yue,"%TypedArray%":xue,"%TypeError%":Al,"%Uint8Array%":typeof Uint8Array>"u"?qe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?qe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?qe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?qe:Uint32Array,"%URIError%":gue,"%WeakMap%":typeof WeakMap>"u"?qe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?qe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?qe:WeakSet};if(Ar)try{null.error}catch(t){var bue=Ar(Ar(t));us["%Error.prototype%"]=bue}var Sue=function t(e){var r;if(e==="%AsyncFunction%")r=ly("async function () {}");else if(e==="%GeneratorFunction%")r=ly("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ly("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ar&&(r=Ar(i.prototype))}return us[e]=r,r},s2={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hf=DS,mp=hue,wue=Hf.call(Function.call,Array.prototype.concat),Eue=Hf.call(Function.apply,Array.prototype.splice),l2=Hf.call(Function.call,String.prototype.replace),gp=Hf.call(Function.call,String.prototype.slice),Tue=Hf.call(Function.call,RegExp.prototype.exec),Aue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Cue=/\\(\\)?/g,Pue=function(e){var r=gp(e,0,1),n=gp(e,-1);if(r==="%"&&n!=="%")throw new $l("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new $l("invalid intrinsic syntax, expected opening `%`");var i=[];return l2(e,Aue,function(a,o,s,u){i[i.length]=s?l2(u,Cue,"$1"):o||a}),i},Oue=function(e,r){var n=e,i;if(mp(s2,n)&&(i=s2[n],n="%"+i[0]+"%"),mp(us,n)){var a=us[n];if(a===Js&&(a=Sue(n)),typeof a>"u"&&!r)throw new Al("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new $l("intrinsic "+e+" does not exist!")},gu=function(e,r){if(typeof e!="string"||e.length===0)throw new Al("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Al('"allowMissing" argument must be a boolean');if(Tue(/^%?[^%]*%?$/,e)===null)throw new $l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Pue(e),i=n.length>0?n[0]:"",a=Oue("%"+i+"%",r),o=a.name,s=a.value,u=!1,l=a.alias;l&&(i=l[0],Eue(n,wue([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var h=n[c],d=gp(h,0,1),p=gp(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new $l("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(u=!0),i+="."+h,o="%"+i+"%",mp(us,o))s=us[o];else if(s!=null){if(!(h in s)){if(!r)throw new Al("base intrinsic for "+e+" exists, but the property is not available.");return}if(ls&&c+1>=n.length){var v=ls(s,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[h]}else f=mp(s,h),s=s[h];f&&!u&&(us[o]=s)}}return s},VN={exports:{}},cy,u2;function BS(){if(u2)return cy;u2=1;var t=gu,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return cy=e,cy}var Rue=gu,bd=Rue("%Object.getOwnPropertyDescriptor%",!0);if(bd)try{bd([],"length")}catch{bd=null}var GN=bd,c2=BS(),Iue=UN,zs=Yf,f2=GN,kue=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new zs("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new zs("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new zs("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new zs("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new zs("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new zs("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,u=!!f2&&f2(e,r);if(c2)c2(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:a===null&&u?u.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new Iue("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},w_=BS(),XN=function(){return!!w_};XN.hasArrayLengthDefineBug=function(){if(!w_)return null;try{return w_([],"length",{value:1}).length!==1}catch{return!0}};var Mue=XN,Fue=gu,h2=kue,Nue=Mue(),d2=GN,p2=Yf,Lue=Fue("%Math.floor%"),Due=function(e,r){if(typeof e!="function")throw new p2("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Lue(r)!==r)throw new p2("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&d2){var o=d2(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(Nue?h2(e,"length",r,!0,!0):h2(e,"length",r)),e};(function(t){var e=DS,r=gu,n=Due,i=Yf,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),u=BS(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var d=s(e,o,arguments);return n(d,1+l(0,h.length-(arguments.length-1)),!0)};var c=function(){return s(e,a,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c})(VN);var Bue=VN.exports,zN=gu,WN=Bue,jue=WN(zN("String.prototype.indexOf")),Uue=function(e,r){var n=zN(e,!!r);return typeof n=="function"&&jue(e,".prototype.")>-1?WN(n):n};const $ue={},Vue=Object.freeze(Object.defineProperty({__proto__:null,default:$ue},Symbol.toStringTag,{value:"Module"})),Gue=NB(Vue);var jS=typeof Map=="function"&&Map.prototype,fy=Object.getOwnPropertyDescriptor&&jS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,yp=jS&&fy&&typeof fy.get=="function"?fy.get:null,v2=jS&&Map.prototype.forEach,US=typeof Set=="function"&&Set.prototype,hy=Object.getOwnPropertyDescriptor&&US?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_p=US&&hy&&typeof hy.get=="function"?hy.get:null,m2=US&&Set.prototype.forEach,Xue=typeof WeakMap=="function"&&WeakMap.prototype,Tc=Xue?WeakMap.prototype.has:null,zue=typeof WeakSet=="function"&&WeakSet.prototype,Ac=zue?WeakSet.prototype.has:null,Wue=typeof WeakRef=="function"&&WeakRef.prototype,g2=Wue?WeakRef.prototype.deref:null,Yue=Boolean.prototype.valueOf,Hue=Object.prototype.toString,que=Function.prototype.toString,Kue=String.prototype.match,$S=String.prototype.slice,to=String.prototype.replace,Zue=String.prototype.toUpperCase,y2=String.prototype.toLowerCase,YN=RegExp.prototype.test,_2=Array.prototype.concat,Vi=Array.prototype.join,Que=Array.prototype.slice,x2=Math.floor,E_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,dy=Object.getOwnPropertySymbols,T_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",en=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Vl||"symbol")?Symbol.toStringTag:null,HN=Object.prototype.propertyIsEnumerable,b2=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function S2(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||YN.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-x2(-t):x2(t);if(n!==t){var i=String(n),a=$S.call(e,i.length+1);return to.call(i,r,"$&_")+"."+to.call(to.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return to.call(e,r,"$&_")}var A_=Gue,w2=A_.custom,E2=KN(w2)?w2:null,Jue=function t(e,r,n,i){var a=r||{};if(Ya(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ya(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Ya(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ya(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ya(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return QN(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return s?S2(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return s?S2(e,l):l}var c=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return C_(e)?"[Array]":"[Object]";var f=gce(a,n);if(typeof i>"u")i=[];else if(ZN(i,e)>=0)return"[Circular]";function h(k,M,B){if(M&&(i=Que.call(i),i.push(M)),B){var j={depth:a.depth};return Ya(a,"quoteStyle")&&(j.quoteStyle=a.quoteStyle),t(k,j,n+1,i)}return t(k,a,n+1,i)}if(typeof e=="function"&&!T2(e)){var d=lce(e),p=wh(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Vi.call(p,", ")+" }":"")}if(KN(e)){var v=Vl?to.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):T_.call(e);return typeof e=="object"&&!Vl?$u(v):v}if(pce(e)){for(var g="<"+y2.call(String(e.nodeName)),m=e.attributes||[],y=0;y<m.length;y++)g+=" "+m[y].name+"="+qN(ece(m[y].value),"double",a);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+y2.call(String(e.nodeName))+">",g}if(C_(e)){if(e.length===0)return"[]";var _=wh(e,h);return f&&!mce(_)?"["+P_(_,f)+"]":"[ "+Vi.call(_,", ")+" ]"}if(rce(e)){var x=wh(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!HN.call(e,"cause")?"{ ["+String(e)+"] "+Vi.call(_2.call("[cause]: "+h(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Vi.call(x,", ")+" }"}if(typeof e=="object"&&o){if(E2&&typeof e[E2]=="function"&&A_)return A_(e,{depth:c-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(uce(e)){var b=[];return v2&&v2.call(e,function(k,M){b.push(h(M,e,!0)+" => "+h(k,e))}),A2("Map",yp.call(e),b,f)}if(hce(e)){var S=[];return m2&&m2.call(e,function(k){S.push(h(k,e))}),A2("Set",_p.call(e),S,f)}if(cce(e))return py("WeakMap");if(dce(e))return py("WeakSet");if(fce(e))return py("WeakRef");if(ice(e))return $u(h(Number(e)));if(oce(e))return $u(h(E_.call(e)));if(ace(e))return $u(Yue.call(e));if(nce(e))return $u(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Qn)return"{ [object globalThis] }";if(!tce(e)&&!T2(e)){var w=wh(e,h),E=b2?b2(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",A=!E&&en&&Object(e)===e&&en in e?$S.call(ko(e),8,-1):T?"Object":"",O=E||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=O+(A||T?"["+Vi.call(_2.call([],A||[],T||[]),": ")+"] ":"");return w.length===0?P+"{}":f?P+"{"+P_(w,f)+"}":P+"{ "+Vi.call(w,", ")+" }"}return String(e)};function qN(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function ece(t){return to.call(String(t),/"/g,"&quot;")}function C_(t){return ko(t)==="[object Array]"&&(!en||!(typeof t=="object"&&en in t))}function tce(t){return ko(t)==="[object Date]"&&(!en||!(typeof t=="object"&&en in t))}function T2(t){return ko(t)==="[object RegExp]"&&(!en||!(typeof t=="object"&&en in t))}function rce(t){return ko(t)==="[object Error]"&&(!en||!(typeof t=="object"&&en in t))}function nce(t){return ko(t)==="[object String]"&&(!en||!(typeof t=="object"&&en in t))}function ice(t){return ko(t)==="[object Number]"&&(!en||!(typeof t=="object"&&en in t))}function ace(t){return ko(t)==="[object Boolean]"&&(!en||!(typeof t=="object"&&en in t))}function KN(t){if(Vl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!T_)return!1;try{return T_.call(t),!0}catch{}return!1}function oce(t){if(!t||typeof t!="object"||!E_)return!1;try{return E_.call(t),!0}catch{}return!1}var sce=Object.prototype.hasOwnProperty||function(t){return t in this};function Ya(t,e){return sce.call(t,e)}function ko(t){return Hue.call(t)}function lce(t){if(t.name)return t.name;var e=Kue.call(que.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function ZN(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function uce(t){if(!yp||!t||typeof t!="object")return!1;try{yp.call(t);try{_p.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function cce(t){if(!Tc||!t||typeof t!="object")return!1;try{Tc.call(t,Tc);try{Ac.call(t,Ac)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function fce(t){if(!g2||!t||typeof t!="object")return!1;try{return g2.call(t),!0}catch{}return!1}function hce(t){if(!_p||!t||typeof t!="object")return!1;try{_p.call(t);try{yp.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function dce(t){if(!Ac||!t||typeof t!="object")return!1;try{Ac.call(t,Ac);try{Tc.call(t,Tc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function pce(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function QN(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return QN($S.call(t,0,e.maxStringLength),e)+n}var i=to.call(to.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,vce);return qN(i,"single",e)}function vce(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Zue.call(e.toString(16))}function $u(t){return"Object("+t+")"}function py(t){return t+" { ? }"}function A2(t,e,r,n){var i=n?P_(r,n):Vi.call(r,", ");return t+" ("+e+") {"+i+"}"}function mce(t){for(var e=0;e<t.length;e++)if(ZN(t[e],`
`)>=0)return!1;return!0}function gce(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Vi.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Vi.call(Array(e+1),r)}}function P_(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Vi.call(t,","+r)+`
`+e.prev}function wh(t,e){var r=C_(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ya(t,i)?e(t[i],t):""}var a=typeof dy=="function"?dy(t):[],o;if(Vl){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in t)Ya(t,u)&&(r&&String(Number(u))===u&&u<t.length||Vl&&o["$"+u]instanceof Symbol||(YN.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof dy=="function")for(var l=0;l<a.length;l++)HN.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var JN=gu,yu=Uue,yce=Jue,_ce=Yf,Eh=JN("%WeakMap%",!0),Th=JN("%Map%",!0),xce=yu("WeakMap.prototype.get",!0),bce=yu("WeakMap.prototype.set",!0),Sce=yu("WeakMap.prototype.has",!0),wce=yu("Map.prototype.get",!0),Ece=yu("Map.prototype.set",!0),Tce=yu("Map.prototype.has",!0),VS=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Ace=function(t,e){var r=VS(t,e);return r&&r.value},Cce=function(t,e,r){var n=VS(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Pce=function(t,e){return!!VS(t,e)},Oce=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new _ce("Side channel does not contain "+yce(a))},get:function(a){if(Eh&&a&&(typeof a=="object"||typeof a=="function")){if(e)return xce(e,a)}else if(Th){if(r)return wce(r,a)}else if(n)return Ace(n,a)},has:function(a){if(Eh&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Sce(e,a)}else if(Th){if(r)return Tce(r,a)}else if(n)return Pce(n,a);return!1},set:function(a,o){Eh&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Eh),bce(e,a,o)):Th?(r||(r=new Th),Ece(r,a,o)):(n||(n={key:{},next:null}),Cce(n,a,o))}};return i},Rce=String.prototype.replace,Ice=/%20/g,vy={RFC1738:"RFC1738",RFC3986:"RFC3986"},GS={default:vy.RFC3986,formatters:{RFC1738:function(t){return Rce.call(t,Ice,"+")},RFC3986:function(t){return String(t)}},RFC1738:vy.RFC1738,RFC3986:vy.RFC3986},kce=GS,my=Object.prototype.hasOwnProperty,Ho=Array.isArray,Ni=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Mce=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ho(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},eL=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Fce=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ho(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!my.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ho(e)&&!Ho(r)&&(i=eL(e,n)),Ho(e)&&Ho(r)?(r.forEach(function(a,o){if(my.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return my.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},Nce=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Lce=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Dce=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===kce.RFC1738&&(l===40||l===41)){s+=o.charAt(u);continue}if(l<128){s=s+Ni[l];continue}if(l<2048){s=s+(Ni[192|l>>6]+Ni[128|l&63]);continue}if(l<55296||l>=57344){s=s+(Ni[224|l>>12]+Ni[128|l>>6&63]+Ni[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),s+=Ni[240|l>>18]+Ni[128|l>>12&63]+Ni[128|l>>6&63]+Ni[128|l&63]}return s},Bce=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],c=o[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:l}),n.push(c))}return Mce(r),e},jce=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Uce=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},$ce=function(e,r){return[].concat(e,r)},Vce=function(e,r){if(Ho(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},tL={arrayToObject:eL,assign:Nce,combine:$ce,compact:Bce,decode:Lce,encode:Dce,isBuffer:Uce,isRegExp:jce,maybeMap:Vce,merge:Fce},rL=Oce,Sd=tL,Cc=GS,Gce=Object.prototype.hasOwnProperty,nL={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ji=Array.isArray,Xce=Array.prototype.push,iL=function(t,e){Xce.apply(t,ji(e)?e:[e])},zce=Date.prototype.toISOString,C2=Cc.default,cr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Sd.encode,encodeValuesOnly:!1,format:C2,formatter:Cc.formatters[C2],indices:!1,serializeDate:function(e){return zce.call(e)},skipNulls:!1,strictNullHandling:!1},Wce=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},gy={},Yce=function t(e,r,n,i,a,o,s,u,l,c,f,h,d,p,v,g,m,y){for(var _=e,x=y,b=0,S=!1;(x=x.get(gy))!==void 0&&!S;){var w=x.get(e);if(b+=1,typeof w<"u"){if(w===b)throw new RangeError("Cyclic object value");S=!0}typeof x.get(gy)>"u"&&(b=0)}if(typeof c=="function"?_=c(r,_):_ instanceof Date?_=d(_):n==="comma"&&ji(_)&&(_=Sd.maybeMap(_,function($){return $ instanceof Date?d($):$})),_===null){if(o)return l&&!g?l(r,cr.encoder,m,"key",p):r;_=""}if(Wce(_)||Sd.isBuffer(_)){if(l){var E=g?r:l(r,cr.encoder,m,"key",p);return[v(E)+"="+v(l(_,cr.encoder,m,"value",p))]}return[v(r)+"="+v(String(_))]}var T=[];if(typeof _>"u")return T;var A;if(n==="comma"&&ji(_))g&&l&&(_=Sd.maybeMap(_,l)),A=[{value:_.length>0?_.join(",")||null:void 0}];else if(ji(c))A=c;else{var O=Object.keys(_);A=f?O.sort(f):O}var P=u?r.replace(/\./g,"%2E"):r,k=i&&ji(_)&&_.length===1?P+"[]":P;if(a&&ji(_)&&_.length===0)return k+"[]";for(var M=0;M<A.length;++M){var B=A[M],j=typeof B=="object"&&typeof B.value<"u"?B.value:_[B];if(!(s&&j===null)){var z=h&&u?B.replace(/\./g,"%2E"):B,J=ji(_)?typeof n=="function"?n(k,z):k:k+(h?"."+z:"["+z+"]");y.set(e,b);var Z=rL();Z.set(gy,y),iL(T,t(j,J,n,i,a,o,s,u,n==="comma"&&g&&ji(_)?null:l,c,f,h,d,p,v,g,m,Z))}}return T},Hce=function(e){if(!e)return cr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||cr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Cc.default;if(typeof e.format<"u"){if(!Gce.call(Cc.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Cc.formatters[n],a=cr.filter;(typeof e.filter=="function"||ji(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in nL?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=cr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:cr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:cr.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:cr.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:cr.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?cr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:cr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:cr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:cr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:cr.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:cr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:cr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:cr.strictNullHandling}},qce=function(t,e){var r=t,n=Hce(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):ji(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=nL[n.arrayFormat],u=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=rL(),c=0;c<i.length;++c){var f=i[c];n.skipNulls&&r[f]===null||iL(o,Yce(r[f],f,s,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""},Gl=tL,O_=Object.prototype.hasOwnProperty,Kce=Array.isArray,Kt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Gl.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Zce=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},aL=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Qce="utf8=%26%2310003%3B",Jce="utf8=%E2%9C%93",efe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===Jce?l="utf-8":o[u]===Qce&&(l="iso-8859-1"),s=u,u=o.length);for(u=0;u<o.length;++u)if(u!==s){var c=o[u],f=c.indexOf("]="),h=f===-1?c.indexOf("="):f+1,d,p;h===-1?(d=r.decoder(c,Kt.decoder,l,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(c.slice(0,h),Kt.decoder,l,"key"),p=Gl.maybeMap(aL(c.slice(h+1),r),function(g){return r.decoder(g,Kt.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=Zce(p)),c.indexOf("[]=")>-1&&(p=Kce(p)?[p]:p);var v=O_.call(n,d);v&&r.duplicates==="combine"?n[d]=Gl.combine(n[d],p):(!v||r.duplicates==="last")&&(n[d]=p)}return n},tfe=function(t,e,r,n){for(var i=n?e:aL(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,c=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},rfe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(a),l=u?a.slice(0,u.index):a,c=[];if(l){if(!n.plainObjects&&O_.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var f=0;n.depth>0&&(u=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&O_.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+a.slice(u.index)+"]"),tfe(c,r,n,i)}},nfe=function(e){if(!e)return Kt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Kt.charset:e.charset,n=typeof e.duplicates>"u"?Kt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Kt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Kt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Kt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Kt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Kt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Kt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Kt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Kt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Kt.decoder,delimiter:typeof e.delimiter=="string"||Gl.isRegExp(e.delimiter)?e.delimiter:Kt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Kt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Kt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Kt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Kt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Kt.strictNullHandling}},ife=function(t,e){var r=nfe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?efe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],u=rfe(s,n[s],r,typeof t=="string");i=Gl.merge(i,u,r)}return r.allowSparse===!0?i:Gl.compact(i)},afe=qce,ofe=ife,sfe=GS,lfe={formats:sfe,parse:ofe,stringify:afe},ufe=Xle;function Si(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var cfe=/^([a-z0-9.+-]+:)/i,ffe=/:[0-9]*$/,hfe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,dfe=["<",">",'"',"`"," ","\r",`
`,"	"],pfe=["{","}","|","\\","^","`"].concat(dfe),R_=["'"].concat(pfe),P2=["%","/","?",";","#"].concat(R_),O2=["/","?","#"],vfe=255,R2=/^[+a-z0-9A-Z_-]{0,63}$/,mfe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,gfe={javascript:!0,"javascript:":!0},I_={javascript:!0,"javascript:":!0},Cl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k_=lfe;function nm(t,e,r){if(t&&typeof t=="object"&&t instanceof Si)return t;var n=new Si;return n.parse(t,e,r),n}Si.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var u=hfe.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=k_.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=cfe.exec(s);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&I_[l])&&(s=s.substr(2),this.slashes=!0)}if(!I_[l]&&(f||l&&!Cl[l])){for(var h=-1,d=0;d<O2.length;d++){var p=s.indexOf(O2[d]);p!==-1&&(h===-1||p<h)&&(h=p)}var v,g;h===-1?g=s.lastIndexOf("@"):g=s.lastIndexOf("@",h),g!==-1&&(v=s.slice(0,g),s=s.slice(g+1),this.auth=decodeURIComponent(v)),h=-1;for(var d=0;d<P2.length;d++){var p=s.indexOf(P2[d]);p!==-1&&(h===-1||p<h)&&(h=p)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var y=this.hostname.split(/\./),d=0,_=y.length;d<_;d++){var x=y[d];if(x&&!x.match(R2)){for(var b="",S=0,w=x.length;S<w;S++)x.charCodeAt(S)>127?b+="x":b+=x[S];if(!b.match(R2)){var E=y.slice(0,d),T=y.slice(d+1),A=x.match(mfe);A&&(E.push(A[1]),T.unshift(A[2])),T.length&&(s="/"+T.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>vfe?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=ufe.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!gfe[c])for(var d=0,_=R_.length;d<_;d++){var k=R_[d];if(s.indexOf(k)!==-1){var M=encodeURIComponent(k);M===k&&(M=escape(k)),s=s.split(k).join(M)}}var B=s.indexOf("#");B!==-1&&(this.hash=s.substr(B),s=s.slice(0,B));var j=s.indexOf("?");if(j!==-1?(this.search=s.substr(j),this.query=s.substr(j+1),e&&(this.query=k_.parse(this.query)),s=s.slice(0,j)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Cl[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",z=this.search||"";this.path=O+z}return this.href=this.format(),this};function yfe(t){return typeof t=="string"&&(t=nm(t)),t instanceof Si?t.format():Si.prototype.format.call(t)}Si.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=k_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Cl[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function _fe(t,e){return nm(t,!1,!0).resolve(e)}Si.prototype.resolve=function(t){return this.resolveObject(nm(t,!1,!0)).format()};Si.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Si;e.parse(t,!1,!0),t=e}for(var r=new Si,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var u=o[s];u!=="protocol"&&(r[u]=t[u])}return Cl[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Cl[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var f=l[c];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!I_[t.protocol]){for(var _=(t.pathname||"").split("/");_.length&&!(t.host=_.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",d=r.search||"";r.path=h+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",g=v||p||r.host&&t.pathname,m=g,y=r.pathname&&r.pathname.split("/")||[],_=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Cl[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(_[0]===""?_[0]=t.host:_.unshift(t.host)),t.host=null),g=g&&(_[0]===""||y[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=_;else if(_.length)y||(y=[]),y.pop(),y=y.concat(_),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=y.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=y.slice(-1)[0],w=(r.host||t.host||y.length>1)&&(S==="."||S==="..")||S==="",E=0,T=y.length;T>=0;T--)S=y[T],S==="."?y.splice(T,1):S===".."?(y.splice(T,1),E++):E&&(y.splice(T,1),E--);if(!g&&!m)for(;E--;E)y.unshift("..");g&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),w&&y.join("/").substr(-1)!=="/"&&y.push("");var A=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){r.hostname=A?"":y.length?y.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return g=g||r.host&&y.length,g&&!A&&y.unshift(""),y.length>0?r.pathname=y.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Si.prototype.parseHost=function(){var t=this.host,e=ffe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var xfe=nm,bfe=_fe,Sfe=yfe;/*!
 * @pixi/utils - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ts={parse:xfe,format:Sfe,resolve:bfe};function li(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function I2(t){var e=t.split("?")[0];return e.split("#")[0]}function wfe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Efe(t,e,r){return t.replace(new RegExp(wfe(e),"g"),r)}function Tfe(t,e){for(var r="",n=0,i=-1,a=0,o,s=0;s<=t.length;++s){if(s<t.length)o=t.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=s,a=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(i+1,s):r=t.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a!==-1?++a:a=-1}return r}var oL={toPosix:function(t){return Efe(t,"\\","/")},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol:function(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol:function(t){li(t),t=this.toPosix(t);var e="",r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){var a=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=a,t=t.slice(a.length)}return e},toAbsolute:function(t,e,r){if(this.isDataUrl(t))return t;var n=I2(this.toPosix(e??xe.ADAPTER.getBaseUrl())),i=I2(this.toPosix(r??this.rootname(n)));if(li(t),t=this.toPosix(t),t.startsWith("/"))return oL.join(i,t.slice(1));var a=this.isAbsolute(t)?t:this.join(n,t);return a},normalize:function(t){if(t=this.toPosix(t),li(t),t.length===0)return".";var e="",r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var n=t.endsWith("/");return t=Tfe(t,!1),t.length>0&&n&&(t+="/"),r?"/"+t:e+t},isAbsolute:function(t){return li(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join:function(){for(var t=arguments,e,r=[],n=0;n<arguments.length;n++)r[n]=t[n];if(r.length===0)return".";for(var i,a=0;a<r.length;++a){var o=r[a];if(li(o),o.length>0)if(i===void 0)i=o;else{var s=(e=r[a-1])!==null&&e!==void 0?e:"";this.extname(s)?i+="/../"+o:i+="/"+o}}return i===void 0?".":this.normalize(i)},dirname:function(t){if(li(t),t.length===0)return".";t=this.toPosix(t);var e=t.charCodeAt(0),r=e===47,n=-1,i=!0,a=this.getProtocol(t),o=t;t=t.slice(a.length);for(var s=t.length-1;s>=1;--s)if(e=t.charCodeAt(s),e===47){if(!i){n=s;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?a+t:a:r&&n===1?"//":a+t.slice(0,n)},rootname:function(t){li(t),t=this.toPosix(t);var e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){var r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename:function(t,e){li(t),e&&li(e),t=this.toPosix(t);var r=0,n=-1,i=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var o=e.length-1,s=-1;for(a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(u===47){if(!i){r=a+1;break}}else s===-1&&(i=!1,s=a+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=a):(o=-1,n=s))}return r===n?n=s:n===-1&&(n=t.length),t.slice(r,n)}for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!i){r=a+1;break}}else n===-1&&(i=!1,n=a+1);return n===-1?"":t.slice(r,n)},extname:function(t){li(t),t=this.toPosix(t);for(var e=-1,r=0,n=-1,i=!0,a=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(s===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),s===46?e===-1?e=o:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse:function(t){li(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=this.toPosix(t);var r=t.charCodeAt(0),n=this.isAbsolute(t),i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;for(var a=-1,o=0,s=-1,u=!0,l=t.length-1,c=0;l>=i;--l){if(r=t.charCodeAt(l),r===47){if(!u){o=l+1;break}continue}s===-1&&(u=!1,s=l+1),r===46?a===-1?a=l:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||s===-1||c===0||c===1&&a===s-1&&a===o+1?s!==-1&&(o===0&&n?e.base=e.name=t.slice(1,s):e.base=e.name=t.slice(o,s)):(o===0&&n?(e.name=t.slice(1,a),e.base=t.slice(1,s)):(e.name=t.slice(o,a),e.base=t.slice(o,s)),e.ext=t.slice(a,s)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};xe.RETINA_PREFIX=/@([0-9\.]+)x/;xe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var M_=!1,k2="6.5.10";function Afe(){M_=!0}function sL(t){var e;if(!M_){if(xe.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+k2+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+k2+" - "+t+" - http://www.pixijs.com/");M_=!0}}var yy;function lL(){return typeof yy>"u"&&(yy=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:xe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!xe.ADAPTER.getWebGLRenderingContext())return!1;var r=xe.ADAPTER.createCanvas(),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),yy}var Cfe="#f0f8ff",Pfe="#faebd7",Ofe="#00ffff",Rfe="#7fffd4",Ife="#f0ffff",kfe="#f5f5dc",Mfe="#ffe4c4",Ffe="#000000",Nfe="#ffebcd",Lfe="#0000ff",Dfe="#8a2be2",Bfe="#a52a2a",jfe="#deb887",Ufe="#5f9ea0",$fe="#7fff00",Vfe="#d2691e",Gfe="#ff7f50",Xfe="#6495ed",zfe="#fff8dc",Wfe="#dc143c",Yfe="#00ffff",Hfe="#00008b",qfe="#008b8b",Kfe="#b8860b",Zfe="#a9a9a9",Qfe="#006400",Jfe="#a9a9a9",ehe="#bdb76b",the="#8b008b",rhe="#556b2f",nhe="#ff8c00",ihe="#9932cc",ahe="#8b0000",ohe="#e9967a",she="#8fbc8f",lhe="#483d8b",uhe="#2f4f4f",che="#2f4f4f",fhe="#00ced1",hhe="#9400d3",dhe="#ff1493",phe="#00bfff",vhe="#696969",mhe="#696969",ghe="#1e90ff",yhe="#b22222",_he="#fffaf0",xhe="#228b22",bhe="#ff00ff",She="#dcdcdc",whe="#f8f8ff",Ehe="#daa520",The="#ffd700",Ahe="#808080",Che="#008000",Phe="#adff2f",Ohe="#808080",Rhe="#f0fff0",Ihe="#ff69b4",khe="#cd5c5c",Mhe="#4b0082",Fhe="#fffff0",Nhe="#f0e68c",Lhe="#fff0f5",Dhe="#e6e6fa",Bhe="#7cfc00",jhe="#fffacd",Uhe="#add8e6",$he="#f08080",Vhe="#e0ffff",Ghe="#fafad2",Xhe="#d3d3d3",zhe="#90ee90",Whe="#d3d3d3",Yhe="#ffb6c1",Hhe="#ffa07a",qhe="#20b2aa",Khe="#87cefa",Zhe="#778899",Qhe="#778899",Jhe="#b0c4de",ede="#ffffe0",tde="#00ff00",rde="#32cd32",nde="#faf0e6",ide="#ff00ff",ade="#800000",ode="#66cdaa",sde="#0000cd",lde="#ba55d3",ude="#9370db",cde="#3cb371",fde="#7b68ee",hde="#00fa9a",dde="#48d1cc",pde="#c71585",vde="#191970",mde="#f5fffa",gde="#ffe4e1",yde="#ffe4b5",_de="#ffdead",xde="#000080",bde="#fdf5e6",Sde="#808000",wde="#6b8e23",Ede="#ffa500",Tde="#ff4500",Ade="#da70d6",Cde="#eee8aa",Pde="#98fb98",Ode="#afeeee",Rde="#db7093",Ide="#ffefd5",kde="#ffdab9",Mde="#cd853f",Fde="#ffc0cb",Nde="#dda0dd",Lde="#b0e0e6",Dde="#800080",Bde="#663399",jde="#ff0000",Ude="#bc8f8f",$de="#4169e1",Vde="#8b4513",Gde="#fa8072",Xde="#f4a460",zde="#2e8b57",Wde="#fff5ee",Yde="#a0522d",Hde="#c0c0c0",qde="#87ceeb",Kde="#6a5acd",Zde="#708090",Qde="#708090",Jde="#fffafa",epe="#00ff7f",tpe="#4682b4",rpe="#d2b48c",npe="#008080",ipe="#d8bfd8",ape="#ff6347",ope="#40e0d0",spe="#ee82ee",lpe="#f5deb3",upe="#ffffff",cpe="#f5f5f5",fpe="#ffff00",hpe="#9acd32",dpe={aliceblue:Cfe,antiquewhite:Pfe,aqua:Ofe,aquamarine:Rfe,azure:Ife,beige:kfe,bisque:Mfe,black:Ffe,blanchedalmond:Nfe,blue:Lfe,blueviolet:Dfe,brown:Bfe,burlywood:jfe,cadetblue:Ufe,chartreuse:$fe,chocolate:Vfe,coral:Gfe,cornflowerblue:Xfe,cornsilk:zfe,crimson:Wfe,cyan:Yfe,darkblue:Hfe,darkcyan:qfe,darkgoldenrod:Kfe,darkgray:Zfe,darkgreen:Qfe,darkgrey:Jfe,darkkhaki:ehe,darkmagenta:the,darkolivegreen:rhe,darkorange:nhe,darkorchid:ihe,darkred:ahe,darksalmon:ohe,darkseagreen:she,darkslateblue:lhe,darkslategray:uhe,darkslategrey:che,darkturquoise:fhe,darkviolet:hhe,deeppink:dhe,deepskyblue:phe,dimgray:vhe,dimgrey:mhe,dodgerblue:ghe,firebrick:yhe,floralwhite:_he,forestgreen:xhe,fuchsia:bhe,gainsboro:She,ghostwhite:whe,goldenrod:Ehe,gold:The,gray:Ahe,green:Che,greenyellow:Phe,grey:Ohe,honeydew:Rhe,hotpink:Ihe,indianred:khe,indigo:Mhe,ivory:Fhe,khaki:Nhe,lavenderblush:Lhe,lavender:Dhe,lawngreen:Bhe,lemonchiffon:jhe,lightblue:Uhe,lightcoral:$he,lightcyan:Vhe,lightgoldenrodyellow:Ghe,lightgray:Xhe,lightgreen:zhe,lightgrey:Whe,lightpink:Yhe,lightsalmon:Hhe,lightseagreen:qhe,lightskyblue:Khe,lightslategray:Zhe,lightslategrey:Qhe,lightsteelblue:Jhe,lightyellow:ede,lime:tde,limegreen:rde,linen:nde,magenta:ide,maroon:ade,mediumaquamarine:ode,mediumblue:sde,mediumorchid:lde,mediumpurple:ude,mediumseagreen:cde,mediumslateblue:fde,mediumspringgreen:hde,mediumturquoise:dde,mediumvioletred:pde,midnightblue:vde,mintcream:mde,mistyrose:gde,moccasin:yde,navajowhite:_de,navy:xde,oldlace:bde,olive:Sde,olivedrab:wde,orange:Ede,orangered:Tde,orchid:Ade,palegoldenrod:Cde,palegreen:Pde,paleturquoise:Ode,palevioletred:Rde,papayawhip:Ide,peachpuff:kde,peru:Mde,pink:Fde,plum:Nde,powderblue:Lde,purple:Dde,rebeccapurple:Bde,red:jde,rosybrown:Ude,royalblue:$de,saddlebrown:Vde,salmon:Gde,sandybrown:Xde,seagreen:zde,seashell:Wde,sienna:Yde,silver:Hde,skyblue:qde,slateblue:Kde,slategray:Zde,slategrey:Qde,snow:Jde,springgreen:epe,steelblue:tpe,tan:rpe,teal:npe,thistle:ipe,tomato:ape,turquoise:ope,violet:spe,wheat:lpe,white:upe,whitesmoke:cpe,yellow:fpe,yellowgreen:hpe};function gr(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function XS(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function zS(t){return typeof t=="string"&&(t=dpe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function dn(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function ppe(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[Se.NORMAL_NPM]=Se.NORMAL,t[Se.ADD_NPM]=Se.ADD,t[Se.SCREEN_NPM]=Se.SCREEN,e[Se.NORMAL]=Se.NORMAL_NPM,e[Se.ADD]=Se.ADD_NPM,e[Se.SCREEN]=Se.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var WS=ppe();function YS(t,e){return WS[e?1:0][t]}function uL(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function im(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function HS(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function cL(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function am(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var vpe={Float32Array,Uint32Array,Int32Array,Uint8Array};function mpe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,u=0,a=0;a<t.length;a++){var l=e[a],c=t[a],f=am(c);i[f]||(i[f]=new vpe[f](o)),s=i[f];for(var h=0;h<c.length;h++){var d=(h/l|0)*n+u,p=h%l;s[d+p]=c[h]}u+=l}return new Float32Array(o)}function lf(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function F_(t){return!(t&t-1)&&!!t}function N_(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function cs(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function rs(t){return t===0?0:t<0?-1:1}var gpe=0;function To(){return++gpe}var M2={};function pn(t,e,r){if(r===void 0&&(r=3),!M2[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),M2[e]=!0}}var L_={},wn=Object.create(null),Yn=Object.create(null);function ype(){var t;for(t in wn)wn[t].destroy();for(t in Yn)Yn[t].destroy()}function fL(){var t;for(t in wn)delete wn[t];for(t in Yn)delete Yn[t]}var D_=function(){function t(e,r,n){this.canvas=xe.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||xe.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function hL(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},u=null,l,c,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(c=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||c<s.left)&&(s.left=c),(s.right===null||s.right<c)&&(s.right=c+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,u=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:u}}var dL=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _pe(t){var e=dL.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Ah;function pL(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Ah||(Ah=document.createElement("a")),Ah.href=t;var r=ts.parse(Ah.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function uf(t,e){var r=xe.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const xpe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Yn,CanvasRenderTarget:D_,DATA_URI:dL,EventEmitter:mu,ProgramCache:L_,TextureCache:wn,clearTextureCache:fL,correctBlendMode:YS,createIndicesForQuads:cL,decomposeDataUri:_pe,deprecation:pn,destroyTextureCache:ype,determineCrossOrigin:pL,earcut:LS,getBufferType:am,getResolutionOfUrl:uf,hex2rgb:gr,hex2string:XS,interleaveTypedArrays:mpe,isMobile:Jn,isPow2:F_,isWebGLSupported:lL,log2:N_,nextPow2:lf,path:oL,premultiplyBlendMode:WS,premultiplyRgba:uL,premultiplyTint:im,premultiplyTintToRgba:HS,removeItems:cs,rgb2hex:dn,sayHello:sL,sign:rs,skipHello:Afe,string2hex:zS,trimCanvas:hL,uid:To,url:ts},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cf=Math.PI*2,vL=180/Math.PI,Ao=Math.PI/180,pr;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(pr||(pr={}));var We=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Ch=[new We,new We,new We,new We],Ye=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=pr.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,u=this.right,l=this.top,c=this.bottom;if(u<=s||c<=l)return!1;var f=Ch[0].set(e.left,e.top),h=Ch[1].set(e.left,e.bottom),d=Ch[2].set(e.right,e.top),p=Ch[3].set(e.right,e.bottom);if(d.x<=f.x||h.y<=f.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(f,f),r.apply(h,h),r.apply(d,d),r.apply(p,p),Math.max(f.x,h.x,d.x,p.x)<=s||Math.min(f.x,h.x,d.x,p.x)>=u||Math.max(f.y,h.y,d.y,p.y)<=l||Math.min(f.y,h.y,d.y,p.y)>=c))return!1;var g=v*(h.y-f.y),m=v*(f.x-h.x),y=g*s+m*l,_=g*u+m*l,x=g*s+m*c,b=g*u+m*c;if(Math.max(y,_,x,b)<=g*f.x+m*f.y||Math.min(y,_,x,b)>=g*p.x+m*p.y)return!1;var S=v*(f.y-d.y),w=v*(d.x-f.x),E=S*s+w*l,T=S*u+w*l,A=S*s+w*c,O=S*u+w*c;return!(Math.max(E,T,A,O)<=S*f.x+w*f.y||Math.min(E,T,A,O)>=S*p.x+w*p.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),mL=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=pr.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new Ye(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),gL=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=pr.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Ye(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Pl=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=pr.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],u=this.points[a*2+1],l=this.points[o*2],c=this.points[o*2+1],f=u>r!=c>r&&e<(l-s)*((r-u)/(c-u))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),yL=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=pr.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),ro=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ut=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new We;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new We;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,u,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-u)*o,this.d=Math.cos(s-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),u=Math.atan2(n,r),l=Math.abs(s+u);return l<1e-5||Math.abs(cf-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Xo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Wo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Yo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],B_=[],_L=[],Ph=Math.sign;function bpe(){for(var t=0;t<16;t++){var e=[];B_.push(e);for(var r=0;r<16;r++)for(var n=Ph(Xo[t]*Xo[r]+Wo[t]*zo[r]),i=Ph(zo[t]*Xo[r]+Yo[t]*zo[r]),a=Ph(Xo[t]*Wo[r]+Wo[t]*Yo[r]),o=Ph(zo[t]*Wo[r]+Yo[t]*Yo[r]),s=0;s<16;s++)if(Xo[s]===n&&zo[s]===i&&Wo[s]===a&&Yo[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var u=new Ut;u.set(Xo[t],zo[t],Wo[t],Yo[t],0,0),_L.push(u)}}bpe();var It={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Xo[t]},uY:function(t){return zo[t]},vX:function(t){return Wo[t]},vY:function(t){return Yo[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return B_[t][e]},sub:function(t,e){return B_[t][It.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?It.S:It.N:Math.abs(e)*2<=Math.abs(t)?t>0?It.E:It.W:e>0?t>0?It.SE:It.SW:t>0?It.NE:It.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=_L[It.inv(e)];i.tx=r,i.ty=n,t.append(i)}},om=function(){function t(){this.worldTransform=new Ut,this.localTransform=new Ut,this.position=new ro(this.onChange,this,0,0),this.scale=new ro(this.onChange,this,1,1),this.pivot=new ro(this.onChange,this,0,0),this.skew=new ro(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xe.SORTABLE_CHILDREN=!1;var ff=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Ye.EMPTY:(e=e||new Ye(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,u=e.ty,l=n*r.x+a*r.y+s,c=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,u=e.c,l=e.d,c=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,v=this.maxY,g=o*r+u*n+c,m=s*r+l*n+f;h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*i+u*n+c,m=s*i+l*n+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*r+u*a+c,m=s*r+l*a+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*i+u*a+c,m=s*i+l*a+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,this.minX=h,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,u=r;u<n;u+=2){var l=e[u],c=e[u+1];i=l<i?l:i,a=c<a?c:a,o=l>o?l:o,s=c>s?c:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,u=e.b,l=e.c,c=e.d,f=e.tx,h=e.ty,d=this.minX,p=this.minY,v=this.maxX,g=this.maxY,m=n;m<i;m+=2){var y=r[m],_=r[m+1],x=s*y+l*_+f,b=c*_+u*y+h;d=Math.min(d,x-a),v=Math.max(v,x+a),p=Math.min(p,b-o),g=Math.max(g,b+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=g},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=i<u?i:u,this.maxX=a>l?a:l,this.maxY=o>c?o:c}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<s?n:s,this.minY=i<u?i:u,this.maxX=a>l?a:l,this.maxY=o>c?o:c}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j_=function(t,e){return j_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},j_(t,e)};function qS(t,e){j_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wt=function(t){qS(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new om,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new ff,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ye),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Ye),r=this._localBoundsRect),this._localBounds||(this._localBounds=new ff);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,u,l,c){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),l===void 0&&(l=0),c===void 0&&(c=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=u,this.pivot.x=l,this.pivot.y=c,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new KS),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*vL},set:function(r){this.transform.rotation=r*Ao},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(mu),KS=function(t){qS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Wt);Wt.prototype.displayObjectUpdateTransform=Wt.prototype.updateTransform;function Spe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var mr=function(t){qS(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=xe.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);cs(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,cs(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,cs(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var u=0;u<s.length;++u)s[u].parent=null,s[u].transform&&(s[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var u=0;u<s.length;++u)s[u].emit("removed",this),this.emit("childRemoved",s[u],this,u);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(Spe),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var u=this.children[o],l=u.cullable;u.cullable=l||!this.cullArea,u.render(r),u.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Zt.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Wt);mr.prototype.containerUpdateTransform=mr.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pc=function(){return Pc=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pc.apply(this,arguments)},dt;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(dt||(dt={}));var F2=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=Pc(Pc({},e),{ref:t})}if(typeof t=="object")t=Pc({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},fa={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(F2).forEach(function(i){i.type.forEach(function(a){var o,s;return(s=(o=e._removeHandlers)[a])===null||s===void 0?void 0:s.call(o,i)})}),this},add:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(F2).forEach(function(i){i.type.forEach(function(a){var o=e._addHandlers,s=e._queue;o[a]?o[a](i):(s[a]=s[a]||[],s[a].push(i))})}),this},handle:function(t,e,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=e,i[t]=r;var a=this._queue;return a[t]&&(a[t].forEach(function(o){return e(o)}),delete a[t]),this},handleByMap:function(t,e){return this.handle(t,function(r){e[r.name]=r.ref},function(r){delete e[r.name]})},handleByList:function(t,e){return this.handle(t,function(r){var n,i;e.includes(r.ref)||(e.push(r.ref),t===dt.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n)))},function(r){var n=e.indexOf(r.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Cr=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,u){if(arguments.length>8)throw new Error("max arguments reached");var l=this,c=l.name,f=l.items;this._aliasCount++;for(var h=0,d=f.length;h<d;h++)f[h][c](e,r,n,i,a,o,s,u);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Cr.prototype,{dispatch:{value:Cr.prototype.emit},run:{value:Cr.prototype.emit}});/*!
 * @pixi/ticker - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xe.TARGET_FPMS=.06;var ra;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(ra||(ra={}));var _y=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Or=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _y(null,null,1/0),this.deltaMS=1/xe.TARGET_FPMS,this.elapsedMS=1/xe.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=ra.NORMAL),this._addListener(new _y(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=ra.NORMAL),this._addListener(new _y(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*xe.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,xe.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),xL=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ra.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Or.shared:new Or,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=dt.Application,t}();/*!
 * @pixi/core - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xe.PREFER_ENV=Jn.any?ta.WEBGL:ta.WEBGL2;xe.STRICT_TEXTURE_CACHE=!1;var hf=[];function sm(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=hf.length-1;i>=0;--i){var a=hf[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var U_=function(t,e){return U_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},U_(t,e)};function wt(t,e){U_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $_=function(){return $_=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$_.apply(this,arguments)};function wpe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var _s=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Cr("setRealSize"),this.onUpdate=new Cr("update"),this.onError=new Cr("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Ms=function(t){wt(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Rn.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(_s),Epe={scaleMode:Ir.NEAREST,format:ve.RGBA,alphaMode:Rn.NPM},Je=function(t){wt(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,u=n.scaleMode,l=n.width,c=n.height,f=n.wrapMode,h=n.format,d=n.type,p=n.target,v=n.resolution,g=n.resourceOptions;return r&&!(r instanceof _s)&&(r=sm(r,g),r.internal=!0),i.resolution=v||xe.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((c||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:xe.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:xe.ANISOTROPIC_LEVEL,i._wrapMode=f||xe.WRAP_MODE,i._scaleMode=u!==void 0?u:xe.SCALE_MODE,i.format=h||ve.RGBA,i.type=d||Re.UNSIGNED_BYTE,i.target=p||vo.TEXTURE_2D,i.alphaMode=a!==void 0?a:Rn.UNPACK,i.uid=To(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&c>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=F_(this.realWidth)&&F_(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Yn[this.cacheId],delete wn[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=xe.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+To()}o=r._pixiId}var u=Yn[o];if(a&&i&&!u)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return u||(u=new e(r,n),u.cacheId=o,e.addToCache(u,o)),u},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Ms(r,{width:n,height:i}),s=r instanceof Float32Array?Re.FLOAT:Re.UNSIGNED_BYTE;return new e(o,Object.assign({},Epe,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Yn[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Yn[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Yn[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Yn[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete Yn[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(mu),lm=function(t){wt(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var u=0;u<r;u++){var l=new Je;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof _s?this.addResourceAt(r[i],i):this.addResourceAt(sm(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(_s),ZS=function(t){wt(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,u,l;return Array.isArray(r)?(u=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,u&&i.initFromArray(u,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=vo.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,u=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var c=0;c<o;c++){var f=u[c];s[c]<f.dirtyId&&(s[c]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(lm),na=function(t){wt(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=pL(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,u=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Rn.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===u?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=u,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(_s),QS=function(t){wt(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(na),JS=function(t){wt(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,u=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var c=0;c<e.SIDES;c++)i.items[c].target=vo.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),u!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=vo.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=vo.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];(a[o]<s.dirtyId||i.dirtyId<n.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(lm),um=function(t){wt(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;na.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:xe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(u){a(u),n.onError.emit(u)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===Rn.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var u=o[s];if(u!==i&&u.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(na),ew=function(t){wt(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,xe.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;na.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var u=r.source;u.width=o,u.height=s,u._pixiId="canvas_"+To(),u.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(na),tw=function(t){wt(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];na.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),l=r[s],c=l.src,f=l.mime;c=c||r[s];var h=c.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[d]||"video/"+d,u.src=c,u.type=f,a.appendChild(u)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Or.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Or.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Or.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(na),rw=function(t){wt(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},e}(na);hf.push(um,rw,QS,tw,ew,Ms,JS,ZS);var bL={__proto__:null,Resource:_s,BaseImageResource:na,INSTALLED:hf,autoDetectResource:sm,AbstractMultiResource:lm,ArrayResource:ZS,BufferResource:Ms,CanvasResource:QS,CubeResource:JS,ImageResource:um,SVGResource:ew,VideoResource:tw,ImageBitmapResource:rw},Tpe=function(t){wt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Rn.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Ms),xp=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Cr("disposeFramebuffer"),this.multisample=Ot.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new Je(null,{scaleMode:Ir.NEAREST,resolution:1,mipmap:mn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Je(new Tpe(null,{width:this.width,height:this.height}),{scaleMode:Ir.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:mn.OFF,format:ve.DEPTH_COMPONENT,type:Re.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),nw=function(t){wt(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Ot.NONE,n=t.call(this,null,r)||this,n.mipmap=mn.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new xp(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Je),iw=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,u=e.x/i+o,l=e.y/a+s;n=It.add(n,It.NW),this.x0=u+o*It.uX(n),this.y0=l+s*It.uY(n),n=It.add(n,2),this.x1=u+o*It.uX(n),this.y1=l+s*It.uY(n),n=It.add(n,2),this.x2=u+o*It.uX(n),this.y2=l+s*It.uY(n),n=It.add(n,2),this.x3=u+o*It.uX(n),this.y3=l+s*It.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),N2=new iw;function Oh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var Me=function(t){wt(e,t);function e(r,n,i,a,o,s){var u=t.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Ye(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=a,u.valid=!1,u._uvs=N2,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(o||0),o===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new We(s.x,s.y):new We(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&wn[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===N2&&(this._uvs=new iw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=xe.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof Je){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+To(),Je.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+To()}o=r._pixiId}var u=wn[o];if(a&&i&&!u)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!u&&!(r instanceof Je)?(n.resolution||(n.resolution=uf(r)),u=new e(new Je(r,n)),u.baseTexture.cacheId=o,Je.addToCache(u.baseTexture,o),e.addToCache(u,o)):!u&&r instanceof Je&&(u=new e(r),e.addToCache(u,o)),u},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(Je.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new Je(r,Object.assign({scaleMode:xe.SCALE_MODE,resolution:uf(n)},a)),s=o.resource;s instanceof um&&(s.url=n);var u=new e(o);return i||(i=n),Je.addToCache(u.baseTexture,i),e.addToCache(u,i),i!==n&&(Je.addToCache(u.baseTexture,n),e.addToCache(u,n)),u.baseTexture.valid?Promise.resolve(u):new Promise(function(l){u.baseTexture.once("loaded",function(){return l(u)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),wn[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),wn[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=wn[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete wn[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)wn[r.textureCacheIds[a]]===r&&delete wn[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,u=i+o>this.baseTexture.height;if(s||u){var l=s&&u?"and":"or",c="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(c+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Je),Oh(e._EMPTY),Oh(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=xe.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(Je.from(r)),Oh(e._WHITE),Oh(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(mu),Co=function(t){wt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(pn("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new nw(r))},e}(Me),SL=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Ot.NONE);var i=new nw(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Co(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Ot.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=lf(e),r=lf(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Ot.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),V_=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=Re.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),Ape=0,ir=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Ape++,this.disposeRunner=new Cr("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===bi.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?bi.ELEMENT_ARRAY_BUFFER:bi.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),Cpe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Ppe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,u=0,a=0;a<t.length;a++){var l=e[a],c=t[a],f=am(c);i[f]||(i[f]=new Cpe[f](o)),s=i[f];for(var h=0;h<c.length;h++){var d=(h/l|0)*n+u,p=h%l;s[d+p]=c[h]}u+=l}return new Float32Array(o)}var L2={5126:4,5123:2,5121:1},Ope=0,Rpe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},_u=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Ope++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Cr("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,u){if(n===void 0&&(n=0),i===void 0&&(i=!1),u===void 0&&(u=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ir||(r instanceof Array&&(r=new Float32Array(r)),r=new ir(r));var l=e.split("|");if(l.length>1){for(var c=0;c<l.length;c++)this.addAttribute(l[c],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new V_(f,n,i,a,o,s,u),this.instanced=this.instanced||u,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof ir||(e instanceof Array&&(e=new Uint16Array(e)),e=new ir(e)),e.type=bi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new ir,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*L2[a.type]/4),a.buffer=0}for(n.data=Ppe(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new ir(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new V_(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=bi.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,a[u]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new Rpe[am(o.buffers[s].data)](i[s]),r.buffers[s]=new ir(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,a[u]),a[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=bi.ELEMENT_ARRAY_BUFFER;for(var l=0,c=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var d=o.attributes[s];(d.buffer|0)===h&&(c+=d.size*L2[d.type]/4)}for(var s=0;s<e.length;s++){for(var p=e[s].indexBuffer.data,u=0;u<p.length;u++)r.indexBuffer.data[u+f]+=l;l+=e[s].buffers[h].data.length/c,f+=p.length}}return r},t}(),wL=function(t){wt(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(_u),aw=function(t){wt(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new ir(r.vertices),r.uvBuffer=new ir(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(_u),Ipe=0,mo=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ipe++,this.static=!!r,this.ubo=!!n,e instanceof ir?(this.buffer=e,this.buffer.type=bi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ir(new Float32Array(1)),this.buffer.type=bi.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),EL=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ot.NONE,this.sourceFrame=new Ye,this.destinationFrame=new Ye,this.bindingSourceFrame=new Ye,this.bindingDestinationFrame=new Ye,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Rh=[new We,new We,new We,new We],xy=new Ut,ow=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new SL,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new wL,this.quadUv=new aw,this.tempRect=new Ye,this.activeState={},this.globalUniforms=new mo({outputFrame:new Ye,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new EL,u=this.renderer.renderTexture,l=r[0].resolution,c=r[0].multisample,f=r[0].padding,h=r[0].autoFit,d=(n=r[0].legacy)!==null&&n!==void 0?n:!0,p=1;p<r.length;p++){var v=r[p];l=Math.min(l,v.resolution),c=Math.min(c,v.multisample),f=this.useMaxPadding?Math.max(f,v.padding):f+v.padding,h=h&&v.autoFit,d=d||((i=v.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=u.current),o.push(s),s.resolution=l,s.multisample=c,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var g=this.tempRect.copyFrom(u.sourceFrame);a.projection.transform&&this.transformAABB(xy.copyFrom(a.projection.transform).invert(),g),h?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,u.current?u.current.resolution:a.resolution,u.sourceFrame,u.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(u.sourceFrame),s.bindingDestinationFrame.copyFrom(u.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,u.bind(s.renderTexture,s.sourceFrame,m),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,qn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var c=r.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,r.resolution);f.filterFrame=c.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(c.width,c.height,r.resolution),f.filterFrame=c.filterFrame),n[h].apply(this,c,f,qn.CLEAR,r);var d=c;c=f,f=d}n[h].apply(this,c,l.renderTexture,qn.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=qn.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===qn.CLEAR||r===qn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Ln.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Ln.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),u=r.worldTransform.copyTo(Ut.TEMP_MATRIX);return u.invert(),s.prepend(u),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Ot.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Ot.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Rh[0],i=Rh[1],a=Rh[2],o=Rh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),u=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),c=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=u,r.width=l-s,r.height=c-u},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,u=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?xy.copyFrom(a):xy.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),qf=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),sw=function(){function t(e){this.renderer=e,this.emptyRenderer=new qf(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,u=0,l=0;l<s;l++){var c=a[l],f=c._batchLocation;if(f>=0&&f<i&&r[f]===c){o[l]=f;continue}for(;u<i;){var h=r[u];if(h&&h._batchEnabled===n&&h._batchLocation===u){u++;continue}o[l]=u,c._batchLocation=u,r[u]=c;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),D2=0,lw=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=D2++},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=D2++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(xe.PREFER_ENV>=ta.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){var r=this;e.preventDefault(),setTimeout(function(){r.gl.isContextLost()&&r.extensions.loseContext&&r.extensions.loseContext.restoreContext()},0)},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),TL=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ot.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),kpe=new Ye,uw=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new xp(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ye,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;xe.PREFER_ENV===ta.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var u=r.width>>n,l=r.height>>n,c=u/r.width;this.setViewport(r.x*c,r.y*c,u,l)}else{var u=e.width>>n,l=e.height>>n;this.setViewport(0,0,u,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=tf.COLOR|tf.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new TL(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],u=s.parentTextureArray||s;this.renderer.texture.bind(u,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],u=0;u<o;u++){var l=a[u],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),!(u===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,l.target,c._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+u))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Ot.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Ot.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,u=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[u];if(l){if(!e){if(!l.msaaBuffer)return;var c=a.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new xp(a.width,a.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=kpe,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ye},t.prototype.destroy=function(){this.renderer=null},t}(),by={5126:4,5123:2,5121:1},cw=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;xe.PREFER_ENV===ta.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,u,l){return i.drawElementsInstancedANGLE(a,o,s,u,l)},e.drawArraysInstanced=function(a,o,s,u){return i.drawArraysInstancedANGLE(a,o,s,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var u=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],c=l[u];if(c)return l[s.id]=c,c;var f=e.buffers,h=e.attributes,d={},p={};for(var v in f)d[v]=0,p[v]=0;for(var v in h)!h[v].size&&s.attributeData[v]?h[v].size=s.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[h[v].buffer]+=h[v].size*by[h[v].type];for(var v in h){var g=h[v],m=g.size;g.stride===void 0&&(d[g.buffer]===m*by[g.type]?g.stride=0:g.stride=d[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=m*by[g.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(var y=0;y<f.length;y++){var _=f[y];o.bind(_),n&&_._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=c,l[s.id]=c,l[u]=c,c},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var u=0;u<o.length;u++){var l=o[u]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[u],r))}if(!r){for(var c in i)if(c[0]==="g"){var f=i[c];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var u=null;for(var l in s){var c=s[l],f=o[c.buffer],h=f._glBuffers[i];if(r.attributeData[l]){u!==h&&(a.bind(f),u=h);var d=r.attributeData[l].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,u=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),AL=function(){function t(e){e===void 0&&(e=null),this.type=Zt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=xe.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Zt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function B2(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function j2(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,c){return c+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var u=r.join(`
`);s[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function Mpe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||j2(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||j2(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function Sy(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function CL(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Sy(2*e);case"bvec3":return Sy(3*e);case"bvec4":return Sy(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var PL={},Vu=PL;function OL(){if(Vu===PL||Vu&&Vu.isContextLost()){var t=xe.ADAPTER.createCanvas(),e=void 0;xe.PREFER_ENV>=ta.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Vu=e}return Vu}var Ih;function Fpe(){if(!Ih){Ih=Tn.MEDIUM;var t=OL();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Ih=e.precision?Tn.HIGH:Tn.MEDIUM}}return Ih}function U2(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Tn.HIGH&&r!==Tn.HIGH&&(n=Tn.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Tn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var Npe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function RL(t){return Npe[t]}var kh=null,$2={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function IL(t,e){if(!kh){var r=Object.keys($2);kh={};for(var n=0;n<r.length;++n){var i=r[n];kh[t[i]]=$2[i]}}return kh[e]}var fs=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Lpe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Dpe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Bpe(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,u=0;u<fs.length;u++)if(fs[u].test(a,o)){n.push(fs[u].code(i,o)),s=!0;break}if(!s){var l=a.size===1&&!a.isArray?Lpe:Dpe,c=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+c+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var jpe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Upe(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function kL(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=jpe.replace(/%forloop%/gi,Upe(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var Gu;function $pe(){if(typeof Gu=="boolean")return Gu;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Gu=t({a:"b"},"a","b")===!0}catch{Gu=!1}return Gu}var Vpe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Gpe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Xpe=0,Mh={},xu=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=Xpe++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Mh[n]?(Mh[n]++,n+="-"+Mh[n]):Mh[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=U2(this.vertexSrc,xe.PRECISION_VERTEX,Tn.HIGH),this.fragmentSrc=U2(this.fragmentSrc,xe.PRECISION_FRAGMENT,Fpe())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Gpe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return Vpe},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=L_[i];return a||(L_[i]=a=new t(e,r,n)),a},t}(),Ma=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof mo?this.uniformGroup=r:this.uniformGroup=new mo(r):this.uniformGroup=new mo({}),this.disposeRunner=new Cr("disposeShader")}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=xu.from(e,r);return new t(i,n)},t}(),wy=0,Ey=1,Ty=2,Ay=3,Cy=4,Py=5,Mo=function(){function t(){this.data=0,this.blendMode=Se.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<wy)},set:function(e){!!(this.data&1<<wy)!==e&&(this.data^=1<<wy)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<Ey)},set:function(e){!!(this.data&1<<Ey)!==e&&(this.data^=1<<Ey)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<Ty)},set:function(e){!!(this.data&1<<Ty)!==e&&(this.data^=1<<Ty)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Ay)},set:function(e){!!(this.data&1<<Ay)!==e&&(this.data^=1<<Ay)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<Py)},set:function(e){!!(this.data&1<<Py)!==e&&(this.data^=1<<Py)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Cy)},set:function(e){!!(this.data&1<<Cy)!==e&&(this.data^=1<<Cy)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==Se.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),zpe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Wpe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,De=function(t){wt(e,t);function e(r,n,i){var a=this,o=xu.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=xe.FILTER_RESOLUTION,a.multisample=xe.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Mo,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Wpe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return zpe},enumerable:!1,configurable:!0}),e}(Ma),Ype=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Hpe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,V2=new Ut,cm=function(){function t(e,r){this._texture=e,this.mapCoord=new Ut,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(V2.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(V2));var o=r.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+u+l)/o.width,s[1]=(r._frame.y+u+l)/o.height,s[2]=(r._frame.x+r._frame.width-u+l)/o.width,s[3]=(r._frame.y+r._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),ML=function(t){wt(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||Ype,n||Hpe,i)||this,a.maskSprite=o,a.maskMatrix=new Ut,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new cm(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(De),fw=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new AL;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n._colorMask=a?a._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Zt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Zt.SCISSOR:this.renderer.scissor.push(n);break;case Zt.STENCIL:this.renderer.stencil.push(n);break;case Zt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Zt.COLOR:this.pushColorMask(n);break}n.type===Zt.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Zt.SCISSOR:this.renderer.scissor.pop(r);break;case Zt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Zt.SPRITE:this.popSpriteMask(r);break;case Zt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Zt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r?r.isSprite?e.type=Zt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Zt.SCISSOR:e.type=Zt.STENCIL:e.type=Zt.COLOR},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new ML]));var s=this.renderer,u=s.renderTexture,l,c;if(u.current){var f=u.current;l=e.resolution||f.resolution,c=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,c=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=c,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(e){var r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),FL=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),G2=new Ut,X2=[],hw=function(t){wt(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=xe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,a=r.maskObject,o=this.renderer,s=o.renderTexture,u=a.getBounds(!0,(n=X2.pop())!==null&&n!==void 0?n:new Ye);this.roundFrameToPixels(u,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),i&&u.fit(i),r._scissorRectLocal=u}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?G2.copyFrom(o):G2.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;r&&X2.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(FL),dw=function(t){wt(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=xe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var o=r._colorMask;o!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(r._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,a=i?i._colorMask:15;a!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,a!==0&&(i._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(FL),pw=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ut,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Lo=new Ye,Xu=new Ye,vw=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ye,this.destinationFrame=new Ye,this.viewportFrame=new Ye}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(Lo.width=e.frame.width,Lo.height=e.frame.height,r=Lo),n||(Xu.x=e.frame.x,Xu.y=e.frame.y,Xu.width=r.width,Xu.height=r.height,n=Xu),o=a.framebuffer):(s=i.resolution,r||(Lo.width=i.screen.width,Lo.height=i.screen.height,r=Lo),n||(n=Lo,n.width=r.width,n.height=r.height));var u=this.viewportFrame;u.x=n.x*s,u.y=n.y*s,u.width=n.width*s,u.height=n.height*s,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,u=o.y,l=o.width,c=o.height;s=Math.round(s),u=Math.round(u),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,u,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function qpe(t,e,r,n,i){r.buffer.update(i)}var Kpe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},NL={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function LL(t){for(var e=t.map(function(u){return{data:u,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=NL[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function DL(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function BL(t,e){if(!t.autoManage)return{size:0,syncFunc:qpe};for(var r=DL(t.uniforms,e),n=LL(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var u=i[s],l=t.uniforms[u.data.name],c=u.data.name,f=!1,h=0;h<fs.length;h++){var d=fs[h];if(d.codeUbo&&d.test(u.data,l)){o.push("offset = "+u.offset/4+";",fs[h].codeUbo(u.data.name,l)),f=!0;break}}if(!f)if(u.data.size>1){var p=RL(u.data.type),v=Math.max(NL[u.data.type]/16,1),g=p/v,m=(4-g%4)%4;o.push(`
                cv = ud.`+c+`.value;
                v = uv.`+c+`;
                offset = `+u.offset/4+`;

                t = 0;

                for(var i=0; i < `+u.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+g+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+m+`;
                }

                `)}else{var y=Kpe[u.data.type];o.push(`
                cv = ud.`+c+`.value;
                v = uv.`+c+`;
                offset = `+u.offset/4+`;
                `+y+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var Zpe=function(){function t(){}return t}(),jL=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function Qpe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=IL(e,a.type),s={type:o,name:a.name,size:RL(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function Jpe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),u=IL(e,a.type);r[o]={name:o,index:i,type:u,size:a.size,isArray:s,value:CL(u,a.size)}}return r}function UL(t,e){var r=B2(t,t.VERTEX_SHADER,e.vertexSrc),n=B2(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Mpe(t,i,r,n),e.attributeData=Qpe(i,t),e.uniformData=Jpe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(c,f){return c>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var u=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:CL(u.type,u.size)}}var l=new jL(i,s);return l}var eve=0,Fh={textureCount:0,uboCount:0},mw=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=eve++}return t.prototype.systemCheck=function(){if(!$pe())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Fh.textureCount=0,Fh.uboCount=0,this.syncUniformGroup(e.uniformGroup,Fh)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=Bpe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Fh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=BL(e,this.shader.program.uniformData)),e.autoManage){var u=new Float32Array(s.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=UL(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function tve(t,e){return e===void 0&&(e=[]),e[Se.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.ADD]=[t.ONE,t.ONE],e[Se.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.NONE]=[0,0],e[Se.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Se.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Se.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Se.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Se.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Se.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Se.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Se.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Se.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Se.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var rve=0,nve=1,ive=2,ave=3,ove=4,sve=5,gw=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Se.NONE,this._blendEq=!1,this.map=[],this.map[rve]=this.setBlend,this.map[nve]=this.setOffset,this.map[ive]=this.setCullFace,this.map[ave]=this.setDepthTest,this.map[ove]=this.setFrontFace,this.map[sve]=this.setDepthMask,this.checks=[],this.defaultState=new Mo,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=tve(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),yw=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=xe.GC_MAX_IDLE,this.checkCountMax=xe.GC_MAX_CHECK_COUNT,this.mode=xe.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==nf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function lve(t){var e,r,n,i,a,o,s,u,l,c,f,h,d,p,v,g,m,y,_,x,b,S,w;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?w=(e={},e[Re.UNSIGNED_BYTE]=(r={},r[ve.RGBA]=t.RGBA8,r[ve.RGB]=t.RGB8,r[ve.RG]=t.RG8,r[ve.RED]=t.R8,r[ve.RGBA_INTEGER]=t.RGBA8UI,r[ve.RGB_INTEGER]=t.RGB8UI,r[ve.RG_INTEGER]=t.RG8UI,r[ve.RED_INTEGER]=t.R8UI,r[ve.ALPHA]=t.ALPHA,r[ve.LUMINANCE]=t.LUMINANCE,r[ve.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[Re.BYTE]=(n={},n[ve.RGBA]=t.RGBA8_SNORM,n[ve.RGB]=t.RGB8_SNORM,n[ve.RG]=t.RG8_SNORM,n[ve.RED]=t.R8_SNORM,n[ve.RGBA_INTEGER]=t.RGBA8I,n[ve.RGB_INTEGER]=t.RGB8I,n[ve.RG_INTEGER]=t.RG8I,n[ve.RED_INTEGER]=t.R8I,n),e[Re.UNSIGNED_SHORT]=(i={},i[ve.RGBA_INTEGER]=t.RGBA16UI,i[ve.RGB_INTEGER]=t.RGB16UI,i[ve.RG_INTEGER]=t.RG16UI,i[ve.RED_INTEGER]=t.R16UI,i[ve.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[Re.SHORT]=(a={},a[ve.RGBA_INTEGER]=t.RGBA16I,a[ve.RGB_INTEGER]=t.RGB16I,a[ve.RG_INTEGER]=t.RG16I,a[ve.RED_INTEGER]=t.R16I,a),e[Re.UNSIGNED_INT]=(o={},o[ve.RGBA_INTEGER]=t.RGBA32UI,o[ve.RGB_INTEGER]=t.RGB32UI,o[ve.RG_INTEGER]=t.RG32UI,o[ve.RED_INTEGER]=t.R32UI,o[ve.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[Re.INT]=(s={},s[ve.RGBA_INTEGER]=t.RGBA32I,s[ve.RGB_INTEGER]=t.RGB32I,s[ve.RG_INTEGER]=t.RG32I,s[ve.RED_INTEGER]=t.R32I,s),e[Re.FLOAT]=(u={},u[ve.RGBA]=t.RGBA32F,u[ve.RGB]=t.RGB32F,u[ve.RG]=t.RG32F,u[ve.RED]=t.R32F,u[ve.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,u),e[Re.HALF_FLOAT]=(l={},l[ve.RGBA]=t.RGBA16F,l[ve.RGB]=t.RGB16F,l[ve.RG]=t.RG16F,l[ve.RED]=t.R16F,l),e[Re.UNSIGNED_SHORT_5_6_5]=(c={},c[ve.RGB]=t.RGB565,c),e[Re.UNSIGNED_SHORT_4_4_4_4]=(f={},f[ve.RGBA]=t.RGBA4,f),e[Re.UNSIGNED_SHORT_5_5_5_1]=(h={},h[ve.RGBA]=t.RGB5_A1,h),e[Re.UNSIGNED_INT_2_10_10_10_REV]=(d={},d[ve.RGBA]=t.RGB10_A2,d[ve.RGBA_INTEGER]=t.RGB10_A2UI,d),e[Re.UNSIGNED_INT_10F_11F_11F_REV]=(p={},p[ve.RGB]=t.R11F_G11F_B10F,p),e[Re.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[ve.RGB]=t.RGB9_E5,v),e[Re.UNSIGNED_INT_24_8]=(g={},g[ve.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,g),e[Re.FLOAT_32_UNSIGNED_INT_24_8_REV]=(m={},m[ve.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,m),e):w=(y={},y[Re.UNSIGNED_BYTE]=(_={},_[ve.RGBA]=t.RGBA,_[ve.RGB]=t.RGB,_[ve.ALPHA]=t.ALPHA,_[ve.LUMINANCE]=t.LUMINANCE,_[ve.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,_),y[Re.UNSIGNED_SHORT_5_6_5]=(x={},x[ve.RGB]=t.RGB,x),y[Re.UNSIGNED_SHORT_4_4_4_4]=(b={},b[ve.RGBA]=t.RGBA,b),y[Re.UNSIGNED_SHORT_5_5_5_1]=(S={},S[ve.RGBA]=t.RGBA,S),y),w}var wd=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Re.UNSIGNED_BYTE,this.internalFormat=ve.RGBA,this.samplerType=0}return t}(),_w=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Je,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=lve(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new wd(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new wd(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var u=s._glTextures[a];u.samplerType!==rf.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new wd(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===Re.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==rf.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&cs(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===mn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=xi.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==mn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ir.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ir.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ir.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ir.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),$L={__proto__:null,FilterSystem:ow,BatchSystem:sw,ContextSystem:lw,FramebufferSystem:uw,GeometrySystem:cw,MaskSystem:fw,ScissorSystem:hw,StencilSystem:dw,ProjectionSystem:pw,RenderTextureSystem:vw,ShaderSystem:mw,StateSystem:gw,TextureGCSystem:yw,TextureSystem:_w},Oy=new Ut,VL=function(t){wt(e,t);function e(r,n){r===void 0&&(r=Ul.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},xe.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new Ye(0,0,n.width,n.height),i.view=n.view||xe.ADAPTER.createCanvas(),i.resolution=n.resolution||xe.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(pn("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(pn("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=wpe(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var u=Co.create($_({width:a.width,height:a.height},s));return Oy.tx=-a.x,Oy.ty=-a.y,this.render(r,{renderTexture:u,clear:!1,transform:Oy,skipUpdateTransform:!!r.parent}),u},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Ul.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=XS(r),gr(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(mu),uve=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),cve=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new uve(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),xw=function(t){wt(e,t);function e(r){var n=t.call(this,Ul.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Cr("destroy"),contextChange:new Cr("contextChange"),reset:new Cr("reset"),update:new Cr("update"),postrender:new Cr("postrender"),prerender:new Cr("prerender"),resize:new Cr("resize")},n.runners.contextChange.add(n),n.globalUniforms=new mo({projectionMatrix:new Ut},!0),n.addSystem(fw,"mask").addSystem(lw,"context").addSystem(gw,"state").addSystem(mw,"shader").addSystem(_w,"texture").addSystem(cve,"buffer").addSystem(cw,"geometry").addSystem(uw,"framebuffer").addSystem(hw,"scissor").addSystem(dw,"stencil").addSystem(pw,"projection").addSystem(yw,"textureGC").addSystem(ow,"filter").addSystem(vw,"renderTexture").addSystem(sw,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,sL(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(lL())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Ot.HIGH?this.multisample=Ot.HIGH:n>=Ot.MEDIUM?this.multisample=Ot.MEDIUM:n>=Ot.LOW?this.multisample=Ot.LOW:this.multisample=Ot.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Co?(pn("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var u=r.enableTempParent();r.updateTransform(),r.disableTempParent(u)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return pn("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){pn("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),fa.add({name:r,type:dt.RendererPlugin,ref:n})},e.__plugins={},e}(VL);fa.handleByMap(dt.RendererPlugin,xw.__plugins);function GL(t){return xw.create(t)}var fve=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hve=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,XL=fve,bw=hve,dve=function(){function t(e){pn("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),bp=function(){function t(){this.texArray=null,this.blend=0,this.type=Ln.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),Sp=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),wp=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),zL=function(t){wt(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Mo.for2d(),n.size=xe.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;xe.PREFER_ENV===ta.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),xe.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=kL(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new bp);for(;n.length<a;)n.push(new Sp);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,u=this.renderer.textureGC.count,l=++Je._globalBatch,c=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var p=n[d];n[d]=null,p._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,d),h=d,f=a[++c],++l),p._batchEnabled=l,p.touched=u,f.elements[f.count++]=p)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++c,++l);for(var d=0;d<s.length;d++)s[d]=null;Je._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,u=a._indexBuffer,l=a.vertexSize,c=e._drawCallPool,f=this._dcIndex,h=this._aIndex,d=this._iIndex,p=c[f];p.start=this._iIndex,p.texArray=r;for(var v=n;v<i;++v){var g=o[v],m=g._texture.baseTexture,y=WS[m.alphaMode?1:0][g.blendMode];o[v]=null,n<v&&p.blend!==y&&(p.size=d-p.start,n=v,p=c[++f],p.texArray=r,p.start=d),this.packInterleavedGeometry(g,s,u,h,d),h+=g.vertexData.length/2*l,d+=g.indices.length,p.blend=y}n<i&&(p.size=d-p.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=d},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;xe.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,u=0;u<r;u++){var l=o[u],c=l.texArray,f=l.type,h=l.size,d=l.start,p=l.blend;s!==c&&(s=c,this.bindAndClearTexArray(c)),this.state.blendMode=p,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,d*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),xe.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=lf(Math.ceil(r/8)),i=N_(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new wp(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=lf(Math.ceil(r/12)),i=N_(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,u=n.float32View,l=a/this.vertexSize,c=r.uvs,f=r.indices,h=r.vertexData,d=r._texture.baseTexture._batchLocation,p=Math.min(r.worldAlpha,1),v=p<1&&r._texture.baseTexture.alphaMode?im(r._tintRGB,p):r._tintRGB+(p*255<<24),g=0;g<h.length;g+=2)u[a++]=h[g],u[a++]=h[g+1],u[a++]=c[g],u[a++]=c[g+1],s[a++]=v,u[a++]=d;for(var g=0;g<f.length;g++)i[o++]=l+f[g]},e._drawCallPool=[],e._textureArrayPool=[],e}(qf),WL=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=mo.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new xu(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ut,default:this.defaultGroupCache[e]};return new Ma(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),Sw=function(t){wt(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new ir(null,r,!1),n._indexBuffer=new ir(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Re.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Re.FLOAT).addAttribute("aColor",n._buffer,4,!0,Re.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Re.FLOAT).addIndex(n._indexBuffer),n}return e}(_u),z2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,W2=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,YL=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:z2,fragment:W2,geometryClass:Sw,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){wt(u,s);function u(l){var c=s.call(this,l)||this;return c.shaderGenerator=new WL(n,i),c.geometryClass=o,c.vertexSize=a,c}return u}(zL)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return z2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return W2},enumerable:!1,configurable:!0}),t}(),ww=YL.create();Object.assign(ww,{extension:{name:"batch",type:dt.RendererPlugin}});var HL={},pve=function(t){Object.defineProperty(HL,t,{get:function(){return pn("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),bL[t]}})};for(var Ew in bL)pve(Ew);var qL={},vve=function(t){Object.defineProperty(qL,t,{get:function(){return pn("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),$L[t]}})};for(var Ew in $L)vve(Ew);var mve="6.5.10";/*!
 * @pixi/accessibility - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var KL={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Wt.mixin(KL);var gve=9,Nh=100,yve=0,_ve=0,Y2=2,H2=1,xve=-1e3,bve=-1e3,Sve=2,ZL=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Jn.tablet||Jn.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Nh+"px",r.style.height=Nh+"px",r.style.position="absolute",r.style.top=yve+"px",r.style.left=_ve+"px",r.style.zIndex=Y2.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=H2+"px",r.style.height=H2+"px",r.style.position="absolute",r.style.top=xve+"px",r.style.left=bve+"px",r.style.zIndex=Sve.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(Jn.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,u=s.width,l=s.height,c=s.resolution,f=a/u*c,h=o/l*c,d=this.div;d.style.left=n+"px",d.style.top=i+"px",d.style.width=u+"px",d.style.height=l+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,cs(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var g=v.hitArea,m=v.worldTransform;v.hitArea?(d.style.left=(m.tx+g.x*m.a)*f+"px",d.style.top=(m.ty+g.y*m.d)*h+"px",d.style.width=g.width*m.a*f+"px",d.style.height=g.height*m.d*h+"px"):(g=v.getBounds(),this.capHitArea(g),d.style.left=g.x*f+"px",d.style.top=g.y*h+"px",d.style.width=g.width*f+"px",d.style.height=g.height*h+"px",d.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&d.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==d.title||v.tabIndex!==d.tabIndex)&&(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Nh+"px",r.style.height=Nh+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Y2.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===gve&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[dt.RendererPlugin,dt.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var G_=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new We,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var X_=function(t,e){return X_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},X_(t,e)};function wve(t,e){X_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var QL=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Ed=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Eve=function(){function t(){this._tempPoint=new We}return t.prototype.recursiveFindHit=function(e,r,n,i,a){var o;if(!r||!r.visible)return!1;var s=e.data.global;a=r.interactive||a;var u=!1,l=a,c=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(s,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,c=!1)),l=!1;else if(r._mask&&i){var f=r._mask.isMaskData?r._mask.maskObject:r._mask;f&&!(!((o=f.containsPoint)===null||o===void 0)&&o.call(f,s))&&(i=!1)}if(c&&r.interactiveChildren&&r.children)for(var h=r.children,d=h.length-1;d>=0;d--){var p=h[d],v=this.recursiveFindHit(e,p,n,i,l);if(v){if(!p.parent)continue;l=!1,v&&(e.target&&(i=!1),u=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(s)&&(u=!0),r.interactive&&(u&&!e.target&&(e.target=r),n&&n(e,r,!!u))),u},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),JL={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Wt.mixin(JL);var Lh=1,Dh={target:null,data:{global:null}},eD=function(t){wve(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new G_,i.mouse.identifier=Lh,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Lh]=i.mouse,i.interactionDataPool=[],i.eventData=new QL,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Eve,i._tempDisplayObject=new KS,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Dh.target=null,Dh.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Dh,n,null,!0),Dh.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Or.system.add(this.tickerUpdate,this,ra.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Or.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var u=s.length;this.delayedEvents=[];for(var l=0;l<u;l++){var c=s[l],f=c.displayObject,h=c.eventString,d=c.eventData;d.stopsPropagatingAt===f&&(d.stopPropagationHint=!0),this.dispatchEvent(f,h,d)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var c=s.button===2;this.emit(c?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new Ed(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){var a=this.normalizeToPointerData(r),o=a.length,s=r.target;r.composedPath&&r.composedPath().length>0&&(s=r.composedPath()[0]);for(var u=s!==this.interactionDOMElement?"outside":"",l=0;l<o;l++){var c=a[l],f=this.getInteractionDataForPointerId(c),h=this.configureInteractionEventForDOMEvent(this.eventData,c,f);if(h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,i,n||!u),this.emit(n?"pointercancel":"pointerup"+u,h),c.pointerType==="mouse"||c.pointerType==="pen"){var d=c.button===2;this.emit(d?"rightup"+u:"mouseup"+u,h)}else c.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+u,h),this.releaseInteractionDataForPointerId(c.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],u=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",c=!1;if(l){var f=a.button===2,h=Ed.FLAGS,d=f?h.RIGHT_DOWN:h.LEFT_DOWN,p=s!==void 0&&s.flags&d;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),p&&(this.dispatchEvent(n,f?"rightclick":"click",r),c=!0)):p&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),u&&this.dispatchEvent(n,"touchend",r),s&&((!l||c)&&this.dispatchEvent(n,"pointertap",r),u&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),u&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),u=this.configureInteractionEventForDOMEvent(this.eventData,o,s);u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),o.pointerType==="touch"&&this.emit("touchmove",u),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",u)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",u=n.trackedPointers[o];i&&!u&&(u=n.trackedPointers[o]=new Ed(o)),u!==void 0&&(i&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):u.over&&(u.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),u.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)}},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Lh||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new G_,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Lh),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[dt.RendererPlugin,dt.CanvasRendererPlugin]},e}(mu);/*!
 * @pixi/extract - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tve=new Ye,Ave=4,tD=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e,r){var n=this._rawPixels(e,r),i=n.pixels,a=n.width,o=n.height,s=n.flipY,u=new D_(a,o,1),l=u.context.getImageData(0,0,a,o);if(t.arrayPostDivide(i,l.data),u.context.putImageData(l,0,0),s){var c=new D_(u.width,u.height,1);c.context.scale(1,-1),c.context.drawImage(u.canvas,0,-o),u.destroy(),u=c}return u.canvas},t.prototype.pixels=function(e,r){var n=this._rawPixels(e,r).pixels;return t.arrayPostDivide(n,n),n},t.prototype._rawPixels=function(e,r){var n=this.renderer,i,a=!1,o,s=!1;if(e)if(e instanceof Co)o=e;else{var u=n.context.webGLVersion>=2?n.multisample:Ot.NONE;if(o=this.renderer.generateTexture(e,{multisample:u}),u!==Ot.NONE){var l=Co.create({width:o.width,height:o.height});n.framebuffer.bind(o.framebuffer),n.framebuffer.blit(l.framebuffer),n.framebuffer.bind(null),o.destroy(!0),o=l}s=!0}o?(i=o.baseTexture.resolution,r=r??o.frame,a=!1,n.renderTexture.bind(o)):(i=n.resolution,r||(r=Tve,r.width=n.width,r.height=n.height),a=!0,n.renderTexture.bind(null));var c=Math.round(r.width*i),f=Math.round(r.height*i),h=new Uint8Array(Ave*c*f),d=n.gl;return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),c,f,d.RGBA,d.UNSIGNED_BYTE,h),s&&o.destroy(!0),{pixels:h,width:c,height:f,flipY:a}},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t.extension={name:"extract",type:dt.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bh=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function q2(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var Aa=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Bh))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return q2(this,new Bh(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return q2(this,new Bh(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Bh))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function rD(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,u){s&&(i[r.q.name][s]=u)}),i}var Ry,jh=null,Cve=0,K2=200,Pve=204,Ove=1223,Rve=2;function Z2(){}function Q2(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function Iy(t){return t.toString().replace("object ","")}var mt=function(){function t(e,r,n){if(this._dequeue=Z2,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Z2,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Aa,this.onProgress=new Aa,this.onComplete=new Aa,this.onAfterMiddleware=new Aa}return t.setExtensionLoadType=function(e,r){Q2(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Q2(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof Ry>"u"&&(Ry=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),Ry&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(Iy(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(Iy(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(Iy(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?K2:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===Cve&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=K2:n===Ove&&(n=Pve);var i=n/100|0;if(i===Rve)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,jh||(jh=document.createElement("a")),jh.href=e;var n=rD(jh.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(mt||(mt={}));function Do(){}function Ive(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var kve=function(){function t(e,r){this.data=e,this.callback=r}return t}(),ky=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Do,this.unsaturated=Do,this.empty=Do,this.drain=Do,this.error=Do,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new kve(i,typeof o=="function"?o:Do);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,Ive(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=Do,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(u){if(u||a===o){n&&n(u);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),My=100,Mve=/(#[\w-]+)?$/,xs=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,l){return n._loadResource(u,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,l){return n._loadResource(u,l)},this._queue=ky.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Aa,this.onError=new Aa,this.onLoad=new Aa,this.onStart=new Aa,this.onComplete=new Aa;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new mt(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var u=a.progressChunk*(o.length+1),l=u/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(pn("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=My/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=rD(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=Mve.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,ky.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=My,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),ky.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(My,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return pn("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),fa.add({type:dt.Loader,ref:e}),t},t._plugins=[],t}();fa.handleByList(dt.Loader,xs._plugins);xs.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var nD=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?xs.shared:new xs},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=dt.Application,t}(),iD=function(){function t(){}return t.add=function(){mt.setExtensionLoadType("svg",mt.LOAD_TYPE.XHR),mt.setExtensionXhrType("svg",mt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===mt.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;Me.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t.extension=dt.Loader,t}(),Fve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Nve(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=Fve.charAt(i[a])}return e}function Lve(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===mt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+Nve(t.xhr.responseText),t.type=mt.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=mt.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var Dve=function(){function t(){}return t.extension=dt.Loader,t.use=Lve,t}();fa.add(iD,Dve);/*!
 * @pixi/compressed-textures - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ht,Be;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Be||(Be={}));var df=(ht={},ht[Be.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,ht[Be.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,ht[Be.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,ht[Be.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,ht[Be.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,ht[Be.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,ht[Be.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,ht[Be.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,ht[Be.COMPRESSED_R11_EAC]=.5,ht[Be.COMPRESSED_SIGNED_R11_EAC]=.5,ht[Be.COMPRESSED_RG11_EAC]=1,ht[Be.COMPRESSED_SIGNED_RG11_EAC]=1,ht[Be.COMPRESSED_RGB8_ETC2]=.5,ht[Be.COMPRESSED_RGBA8_ETC2_EAC]=1,ht[Be.COMPRESSED_SRGB8_ETC2]=.5,ht[Be.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,ht[Be.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ht[Be.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ht[Be.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,ht[Be.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,ht[Be.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,ht[Be.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,ht[Be.COMPRESSED_RGB_ETC1_WEBGL]=.5,ht[Be.COMPRESSED_RGB_ATC_WEBGL]=.5,ht[Be.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,ht[Be.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,ht[Be.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,ht);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z_=function(t,e){return z_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},z_(t,e)};function aD(t,e){z_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Bve(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function jve(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var oD=function(t){aD(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new wp(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return Bve(this,void 0,Promise,function(){var r,n,i;return jve(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new wp(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Ms),Ep=function(t){aD(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,u=this.levels;s<u;s++){var l=this._levelBuffers[s],c=l.levelID,f=l.levelWidth,h=l.levelHeight,d=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,c,this.format,f,h,0,d)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,u){for(var l=new Array(i),c=r.byteOffset,f=s,h=u,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*df[n],g=0;g<i;g++)l[g]={levelID:g,levelWidth:i>1?f:d,levelHeight:i>1?h:p,levelBuffer:new Uint8Array(r.buffer,c,v)},c+=v,f=f>>1||1,h=h>>1||1,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*df[n];return l},e}(oD),sD=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===mt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,u=0,l=a.length;u<l;u++){var c=a[u],f=c.src,h=c.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=ts.resolve(e.url.replace(i.baseUrl,""),o),v=n.cacheID;i.add(v,p,d,function(g){if(g.error){r(g.error);return}var m=g.texture,y=m===void 0?null:m,_=g.textures,x=_===void 0?{}:_;Object.assign(e,{texture:y,textures:x}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=xe.ADAPTER.createCanvas(),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=dt.Loader,t}();function lD(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new Me(new Je(a,Object.assign({mipmap:mn.OFF,alphaMode:Rn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,u=t+"-"+(o+1);Je.addToCache(s,u),Me.addToCache(a,u),o===0&&(Je.addToCache(s,t),Me.addToCache(a,t),n.texture=a),n.textures[u]=a}),n}var zu,ui,Fy=4,Uh=124,Uve=32,J2=20,$ve=542327876,$h={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Vve={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Vh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},hi;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(hi||(hi={}));var W_;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(W_||(W_={}));var Gve=1,Xve=2,zve=4,Wve=64,Yve=512,Hve=131072,qve=827611204,Kve=861165636,Zve=894720068,Qve=808540228,Jve=4,eme=(zu={},zu[qve]=Be.COMPRESSED_RGBA_S3TC_DXT1_EXT,zu[Kve]=Be.COMPRESSED_RGBA_S3TC_DXT3_EXT,zu[Zve]=Be.COMPRESSED_RGBA_S3TC_DXT5_EXT,zu),tme=(ui={},ui[hi.DXGI_FORMAT_BC1_TYPELESS]=Be.COMPRESSED_RGBA_S3TC_DXT1_EXT,ui[hi.DXGI_FORMAT_BC1_UNORM]=Be.COMPRESSED_RGBA_S3TC_DXT1_EXT,ui[hi.DXGI_FORMAT_BC2_TYPELESS]=Be.COMPRESSED_RGBA_S3TC_DXT3_EXT,ui[hi.DXGI_FORMAT_BC2_UNORM]=Be.COMPRESSED_RGBA_S3TC_DXT3_EXT,ui[hi.DXGI_FORMAT_BC3_TYPELESS]=Be.COMPRESSED_RGBA_S3TC_DXT5_EXT,ui[hi.DXGI_FORMAT_BC3_UNORM]=Be.COMPRESSED_RGBA_S3TC_DXT5_EXT,ui[hi.DXGI_FORMAT_BC1_UNORM_SRGB]=Be.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,ui[hi.DXGI_FORMAT_BC2_UNORM_SRGB]=Be.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,ui[hi.DXGI_FORMAT_BC3_UNORM_SRGB]=Be.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,ui);function uD(t){var e=new Uint32Array(t),r=e[0];if(r!==$ve)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,Uh/Uint32Array.BYTES_PER_ELEMENT),i=n[$h.HEIGHT],a=n[$h.WIDTH],o=n[$h.MIPMAP_COUNT],s=new Uint32Array(t,$h.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Uve/Uint32Array.BYTES_PER_ELEMENT),u=s[Gve];if(u&zve){var l=s[Vve.FOURCC];if(l!==Qve){var c=eme[l],f=Fy+Uh,h=new Uint8Array(t,f),d=new Ep(h,{format:c,width:a,height:i,levels:o});return[d]}var p=Fy+Uh,v=new Uint32Array(e.buffer,p,J2/Uint32Array.BYTES_PER_ELEMENT),g=v[Vh.DXGI_FORMAT],m=v[Vh.RESOURCE_DIMENSION],y=v[Vh.MISC_FLAG],_=v[Vh.ARRAY_SIZE],x=tme[g];if(x===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+g);if(y===Jve)throw new Error("DDSParser does not support cubemap textures");if(m===W_.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var b=new Array,S=Fy+Uh+J2;if(_===1)b.push(new Uint8Array(t,S));else{for(var w=df[x],E=0,T=a,A=i,O=0;O<o;O++){var P=Math.max(1,T+3&-4),k=Math.max(1,A+3&-4),M=P*k*w;E+=M,T=T>>>1,A=A>>>1}for(var B=S,O=0;O<_;O++)b.push(new Uint8Array(t,B,E)),B+=E}return b.map(function(j){return new Ep(j,{format:x,width:a,height:i,levels:o})})}throw u&Wve?new Error("DDSParser does not support uncompressed texture data."):u&Yve?new Error("DDSParser does not supported YUV uncompressed texture data."):u&Hve?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&Xve?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Va,_a,Wu,eO=[171,75,84,88,32,49,49,187,13,10,26,10],rme=67305985,ci={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Y_=64,H_=(Va={},Va[Re.UNSIGNED_BYTE]=1,Va[Re.UNSIGNED_SHORT]=2,Va[Re.INT]=4,Va[Re.UNSIGNED_INT]=4,Va[Re.FLOAT]=4,Va[Re.HALF_FLOAT]=8,Va),cD=(_a={},_a[ve.RGBA]=4,_a[ve.RGB]=3,_a[ve.RG]=2,_a[ve.RED]=1,_a[ve.LUMINANCE]=1,_a[ve.LUMINANCE_ALPHA]=2,_a[ve.ALPHA]=1,_a),fD=(Wu={},Wu[Re.UNSIGNED_SHORT_4_4_4_4]=2,Wu[Re.UNSIGNED_SHORT_5_5_5_1]=2,Wu[Re.UNSIGNED_SHORT_5_6_5]=2,Wu);function hD(t,e,r){r===void 0&&(r=!1);var n=new DataView(e);if(!nme(t,n))return null;var i=n.getUint32(ci.ENDIANNESS,!0)===rme,a=n.getUint32(ci.GL_TYPE,i),o=n.getUint32(ci.GL_FORMAT,i),s=n.getUint32(ci.GL_INTERNAL_FORMAT,i),u=n.getUint32(ci.PIXEL_WIDTH,i),l=n.getUint32(ci.PIXEL_HEIGHT,i)||1,c=n.getUint32(ci.PIXEL_DEPTH,i)||1,f=n.getUint32(ci.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(ci.NUMBER_OF_FACES,i),d=n.getUint32(ci.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(ci.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||c!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,g=4,m=u+3&-4,y=l+3&-4,_=new Array(f),x=u*l;a===0&&(x=m*y);var b;if(a!==0?H_[a]?b=H_[a]*cD[o]:b=fD[a]:b=df[s],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var S=r?ame(n,p,i):null,w=x*b,E=w,T=u,A=l,O=m,P=y,k=Y_+p,M=0;M<d;M++){for(var B=n.getUint32(k,i),j=k+4,z=0;z<f;z++){var J=_[z];J||(J=_[z]=new Array(d)),J[M]={levelID:M,levelWidth:d>1||a!==0?T:O,levelHeight:d>1||a!==0?A:P,levelBuffer:new Uint8Array(e,j,E)},j+=E}k+=B+4,k=k%4!==0?k+4-k%4:k,T=T>>1||1,A=A>>1||1,O=T+v-1&~(v-1),P=A+g-1&~(g-1),E=O*P*b}return a!==0?{uncompressed:_.map(function(Z){var $=Z[0].levelBuffer,F=!1;return a===Re.FLOAT?$=new Float32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4):a===Re.UNSIGNED_INT?(F=!0,$=new Uint32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)):a===Re.INT&&(F=!0,$=new Int32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)),{resource:new Ms($,{width:Z[0].levelWidth,height:Z[0].levelHeight}),type:a,format:F?ime(o):o}}),kvData:S}:{compressed:_.map(function(Z){return new Ep(null,{format:s,width:u,height:l,levels:d,levelBuffers:Z})}),kvData:S}}function nme(t,e){for(var r=0;r<eO.length;r++)if(e.getUint8(r)!==eO[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function ime(t){switch(t){case ve.RGBA:return ve.RGBA_INTEGER;case ve.RGB:return ve.RGB_INTEGER;case ve.RG:return ve.RG_INTEGER;case ve.RED:return ve.RED_INTEGER;default:return t}}function ame(t,e,r){for(var n=new Map,i=0;i<e;){var a=t.getUint32(Y_+i,r),o=Y_+i+4,s=3-(a+3)%4;if(a===0||a>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<a&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var l=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),c=new DataView(t.buffer,o+u+1,a-u-1);n.set(l,c),i+=4+a+s}return n}mt.setExtensionXhrType("dds",mt.XHR_RESPONSE_TYPE.BUFFER);var dD=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,lD(e.name||e.url,uD(e.data),e.metadata))}catch(n){r(n);return}r()},t.extension=dt.Loader,t}();mt.setExtensionXhrType("ktx",mt.XHR_RESPONSE_TYPE.BUFFER);var pD=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=hD(n,e.data,this.loadKeyValueData),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var u=lD(n,a,e.metadata);if(s&&u.textures)for(var l in u.textures)u.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,u)}else if(o){var c={};o.forEach(function(f,h){var d=new Me(new Je(f.resource,{mipmap:mn.OFF,alphaMode:Rn.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(h+1);s&&(d.baseTexture.ktxKeyValueData=s),Je.addToCache(d.baseTexture,p),Me.addToCache(d,p),h===0&&(c[n]=d,Je.addToCache(d.baseTexture,n),Me.addToCache(d,n)),c[p]=d}),Object.assign(e,{textures:c})}}catch(f){r(f);return}r()},t.extension=dt.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q_=function(t,e){return q_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},q_(t,e)};function vD(t,e){q_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ome=function(t){vD(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=Se.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,gr(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(mr),tO=function(){function t(e,r,n){this.geometry=new _u,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Re.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new ir(cL(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new ir(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ir(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Re.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Re.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===Re.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===Re.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),sme=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,lme=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,mD=function(t){vD(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Ut,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Re.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Ma.from(lme,sme,{}),n.state=Mo.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var u=r._buffers;u||(u=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=YS(r.blendMode,c),o.state.set(this.state);var f=o.gl,h=r.worldTransform.copyTo(this.tempMatrix);h.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=uL(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var d=!1,p=0,v=0;p<s;p+=a,v+=1){var g=s-p;g>a&&(g=a),v>=u.length&&u.push(this._generateOneMoreBuffer(r));var m=u[v];m.uploadDynamic(n,p,g);var y=r._bufferUpdateIDs[v]||0;d=d||m._updateID<y,d&&(m._updateID=r._updateID,m.uploadStatic(n,p,g)),o.geometry.bind(m.geometry),f.drawElements(f.TRIANGLES,g*6,f.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new tO(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new tO(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var u=0,l=0,c=0,f=0,h=0;h<i;++h){var d=r[n+h],p=d._texture,v=d.scale.x,g=d.scale.y,m=p.trim,y=p.orig;m?(l=m.x-d.anchor.x*y.width,u=l+m.width,f=m.y-d.anchor.y*y.height,c=f+m.height):(u=y.width*(1-d.anchor.x),l=y.width*-d.anchor.x,c=y.height*(1-d.anchor.y),f=y.height*-d.anchor.y),a[s]=l*v,a[s+1]=f*g,a[s+o]=u*v,a[s+o+1]=f*g,a[s+o*2]=u*v,a[s+o*2+1]=c*g,a[s+o*3]=l*v,a[s+o*3+1]=c*g,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var u=0;u<i;u++){var l=r[n+u].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var u=0;u<i;u++){var l=r[n+u].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var u=0;u<i;++u){var l=r[n+u]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var u=0;u<i;++u){var l=r[n+u],c=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&c?im(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:dt.RendererPlugin},e}(qf);/*!
 * @pixi/graphics - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gi;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Gi||(Gi={}));var Ra;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Ra||(Ra={}));var Xl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Tw=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K_=function(t,e){return K_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},K_(t,e)};function Aw(t,e){K_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function rO(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],u=t[i-1];o<i;o+=2){var l=t[o],c=t[o+1];a+=(l-s)*(c+u),s=l,u=c}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,d=i-o-1,p=o,v=o+1;r=[t[p],t[h]],t[h]=r[0],t[p]=r[1],n=[t[v],t[d]],t[d]=n[0],t[v]=n[1]}}}var Cw={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){rO(r,!1);for(var o=[],s=0;s<n.length;s++){var u=n[s];rO(u.points,!0),o.push(r.length/2),r=r.concat(u.points)}var l=LS(r,o,2);if(!l)return;for(var c=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+c),a.push(l[s+1]+c),a.push(l[s+2]+c);for(var s=0;s<r.length;s++)i.push(r[s])}}},pf={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===pr.CIRC){var u=t.shape;r=u.x,n=u.y,o=s=u.radius,i=a=0}else if(t.type===pr.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var c=t.shape,f=c.width/2,h=c.height/2;r=c.x+f,n=c.y+h,o=s=Math.max(0,Math.min(c.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var d=Math.ceil(2.3*Math.sqrt(o+s)),p=d*8+(i?4:0)+(a?4:0);if(e.length=p,p!==0){if(d===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var v=0,g=d*4+(i?2:0)+2,m=g,y=p;{var _=i+o,x=a,b=r+_,S=r-_,w=n+x;if(e[v++]=b,e[v++]=w,e[--g]=w,e[--g]=S,a){var E=n-x;e[m++]=S,e[m++]=E,e[--y]=E,e[--y]=b}}for(var T=1;T<d;T++){var A=Math.PI/2*(T/d),_=i+Math.cos(A)*o,x=a+Math.sin(A)*s,b=r+_,S=r-_,w=n+x,E=n-x;e[v++]=b,e[v++]=w,e[--g]=w,e[--g]=S,e[m++]=S,e[m++]=E,e[--y]=E,e[--y]=b}{var _=i,x=a+s,b=r+_,S=r-_,w=n+x,E=n-x;e[v++]=b,e[v++]=w,e[--y]=E,e[--y]=b,i&&(e[v++]=S,e[v++]=w,e[--y]=E,e[--y]=S)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices;if(r.length!==0){var a=n.length/2,o=a,s,u;if(t.type!==pr.RREC){var l=t.shape;s=l.x,u=l.y}else{var c=t.shape;s=c.x+c.width/2,u=c.y+c.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*u+f.tx:s,t.matrix?f.b*s+f.d*u+f.ty:u),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}}},gD={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ws(t,e,r){var n=e-t;return t+n*r}function Gh(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,u=o,l=0,c=0,f=0,h=0,d=0,p=0,v=0,g=0;v<=s;++v)g=v/s,l=Ws(t,r,g),c=Ws(e,n,g),f=Ws(r,i,g),h=Ws(n,a,g),d=Ws(l,f,g),p=Ws(c,h,g),!(v===0&&u[u.length-2]===d&&u[u.length-1]===p)&&u.push(d,p);return u}var yD={build:function(t){if(zl.nextRoundedRectBehavior){pf.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(Gh(n,i+s,n,i,n+s,i,r),Gh(n+a-s,i,n+a,i,n+a,i+s,r),Gh(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),Gh(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(zl.nextRoundedRectBehavior){pf.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=LS(r,null,2),s=0,u=o.length;s<u;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,u=r.length;s<u;s++)n.push(r[s],r[++s])}};function nO(t,e,r,n,i,a,o,s){var u=t-r*i,l=e-n*i,c=t+r*a,f=e+n*a,h,d;o?(h=n,d=-r):(h=-n,d=r);var p=u+h,v=l+d,g=c+h,m=f+d;return s.push(p,v),s.push(g,m),2}function Bo(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=Math.atan2(u,l),f=Math.atan2(i-t,a-e);s&&c<f?c+=Math.PI*2:!s&&c>f&&(f+=Math.PI*2);var h=c,d=f-c,p=Math.abs(d),v=Math.sqrt(u*u+l*l),g=(15*p*Math.sqrt(v)/Math.PI>>0)+1,m=d/g;if(h+=m,s){o.push(t,e),o.push(r,n);for(var y=1,_=h;y<g;y++,_+=m)o.push(t,e),o.push(t+Math.sin(_)*v,e+Math.cos(_)*v);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var y=1,_=h;y<g;y++,_+=m)o.push(t+Math.sin(_)*v,e+Math.cos(_)*v),o.push(t,e);o.push(i,a),o.push(t,e)}return g*2}function ume(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new We(n[0],n[1]),s=new We(n[n.length-2],n[n.length-1]),u=r.type!==pr.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var c=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(c,f),n.push(c,f)}var h=e.points,d=n.length/2,p=n.length,v=h.length/2,g=a.width/2,m=g*g,y=a.miterLimit*a.miterLimit,_=n[0],x=n[1],b=n[2],S=n[3],w=0,E=0,T=-(x-S),A=_-b,O=0,P=0,k=Math.sqrt(T*T+A*A);T/=k,A/=k,T*=g,A*=g;var M=a.alignment,B=(1-M)*2,j=M*2;u||(a.cap===Ra.ROUND?p+=Bo(_-T*(B-j)*.5,x-A*(B-j)*.5,_-T*B,x-A*B,_+T*j,x+A*j,h,!0)+2:a.cap===Ra.SQUARE&&(p+=nO(_,x,T,A,B,j,!0,h))),h.push(_-T*B,x-A*B),h.push(_+T*j,x+A*j);for(var z=1;z<d-1;++z){_=n[(z-1)*2],x=n[(z-1)*2+1],b=n[z*2],S=n[z*2+1],w=n[(z+1)*2],E=n[(z+1)*2+1],T=-(x-S),A=_-b,k=Math.sqrt(T*T+A*A),T/=k,A/=k,T*=g,A*=g,O=-(S-E),P=b-w,k=Math.sqrt(O*O+P*P),O/=k,P/=k,O*=g,P*=g;var J=b-_,Z=x-S,$=b-w,F=E-S,G=J*$+Z*F,V=Z*$-F*J,U=V<0;if(Math.abs(V)<.001*Math.abs(G)){h.push(b-T*B,S-A*B),h.push(b+T*j,S+A*j),G>=0&&(a.join===Gi.ROUND?p+=Bo(b,S,b-T*B,S-A*B,b-O*B,S-P*B,h,!1)+4:p+=2,h.push(b-O*j,S-P*j),h.push(b+O*B,S+P*B));continue}var H=(-T+_)*(-A+S)-(-T+b)*(-A+x),ee=(-O+w)*(-P+S)-(-O+b)*(-P+E),ie=(J*ee-$*H)/V,ae=(F*H-Z*ee)/V,pe=(ie-b)*(ie-b)+(ae-S)*(ae-S),ye=b+(ie-b)*B,oe=S+(ae-S)*B,_e=b-(ie-b)*j,Ce=S-(ae-S)*j,be=Math.min(J*J+Z*Z,$*$+F*F),Oe=U?B:j,ke=be+Oe*Oe*m,we=pe<=ke;we?a.join===Gi.BEVEL||pe/m>y?(U?(h.push(ye,oe),h.push(b+T*j,S+A*j),h.push(ye,oe),h.push(b+O*j,S+P*j)):(h.push(b-T*B,S-A*B),h.push(_e,Ce),h.push(b-O*B,S-P*B),h.push(_e,Ce)),p+=2):a.join===Gi.ROUND?U?(h.push(ye,oe),h.push(b+T*j,S+A*j),p+=Bo(b,S,b+T*j,S+A*j,b+O*j,S+P*j,h,!0)+4,h.push(ye,oe),h.push(b+O*j,S+P*j)):(h.push(b-T*B,S-A*B),h.push(_e,Ce),p+=Bo(b,S,b-T*B,S-A*B,b-O*B,S-P*B,h,!1)+4,h.push(b-O*B,S-P*B),h.push(_e,Ce)):(h.push(ye,oe),h.push(_e,Ce)):(h.push(b-T*B,S-A*B),h.push(b+T*j,S+A*j),a.join===Gi.ROUND?U?p+=Bo(b,S,b+T*j,S+A*j,b+O*j,S+P*j,h,!0)+2:p+=Bo(b,S,b-T*B,S-A*B,b-O*B,S-P*B,h,!1)+2:a.join===Gi.MITER&&pe/m<=y&&(U?(h.push(_e,Ce),h.push(_e,Ce)):(h.push(ye,oe),h.push(ye,oe)),p+=2),h.push(b-O*B,S-P*B),h.push(b+O*j,S+P*j),p+=2)}_=n[(d-2)*2],x=n[(d-2)*2+1],b=n[(d-1)*2],S=n[(d-1)*2+1],T=-(x-S),A=_-b,k=Math.sqrt(T*T+A*A),T/=k,A/=k,T*=g,A*=g,h.push(b-T*B,S-A*B),h.push(b+T*j,S+A*j),u||(a.cap===Ra.ROUND?p+=Bo(b-T*(B-j)*.5,S-A*(B-j)*.5,b-T*B,S-A*B,b+T*j,S+A*j,h,!1)+2:a.cap===Ra.SQUARE&&(p+=nO(b,S,T,A,B,j,!1,h)));for(var Xe=e.indices,tt=Xl.epsilon*Xl.epsilon,z=v;z<p+v-2;++z)_=h[z*2],x=h[z*2+1],b=h[(z+1)*2],S=h[(z+1)*2+1],w=h[(z+2)*2],E=h[(z+2)*2+1],!(Math.abs(_*(S-E)+b*(E-x)+w*(x-S))<tt)&&Xe.push(z,z+1,z+2)}}function cme(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==pr.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,u=i.length/2,l=o.length/2,c=l;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),s.push(c,c+1),c++;a&&s.push(c,l)}}function Z_(t,e){t.lineStyle.native?cme(t,e):ume(t,e)}var Q_=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],u=o[o.length-1],l=u-r,c=s-e,f=i-r,h=n-e,d=Math.abs(l*h-c*f);if(d<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var p=l*l+c*c,v=f*f+h*h,g=l*f+c*h,m=a*Math.sqrt(p)/d,y=a*Math.sqrt(v)/d,_=m*g/p,x=y*g/v,b=m*h+y*c,S=m*f+y*l,w=c*(y+_),E=l*(y+_),T=h*(m+x),A=f*(m+x),O=Math.atan2(E-S,w-b),P=Math.atan2(A-S,T-b);return{cx:b+e,cy:S+r,radius:a,startAngle:O,endAngle:P,anticlockwise:c*f>h*l}},t.arc=function(e,r,n,i,a,o,s,u,l){for(var c=s-o,f=Xl._segmentsCount(Math.abs(c)*a,Math.ceil(Math.abs(c)/cf)*40),h=c/(f*2),d=h*2,p=Math.cos(h),v=Math.sin(h),g=f-1,m=g%1/g,y=0;y<=g;++y){var _=y+m*y,x=h+o+d*_,b=Math.cos(x),S=-Math.sin(x);l.push((p*b+v*S)*a+n,(p*-S+v*b)*a+i)}},t}(),_D=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,u){for(var l=10,c=0,f=0,h=0,d=0,p=0,v=0,g=0,m=0,y=0,_=0,x=0,b=e,S=r,w=1;w<=l;++w)f=w/l,h=f*f,d=h*f,p=1-f,v=p*p,g=v*p,m=g*e+3*v*f*n+3*p*h*a+d*s,y=g*r+3*v*f*i+3*p*h*o+d*u,_=b-m,x=S-y,b=m,S=y,c+=Math.sqrt(_*_+x*x);return c},t.curveTo=function(e,r,n,i,a,o,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=Xl._segmentsCount(t.curveLength(u,l,e,r,n,i,a,o)),f=0,h=0,d=0,p=0,v=0;s.push(u,l);for(var g=1,m=0;g<=c;++g)m=g/c,f=1-m,h=f*f,d=h*f,p=m*m,v=p*m,s.push(d*u+3*h*m*e+3*f*p*n+v*a,d*l+3*h*m*r+3*f*p*i+v*o)},t}(),xD=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,u=r-2*i+o,l=2*n-2*e,c=2*i-2*r,f=4*(s*s+u*u),h=4*(s*l+u*c),d=l*l+c*c,p=2*Math.sqrt(f+h+d),v=Math.sqrt(f),g=2*f*v,m=2*Math.sqrt(d),y=h/v;return(g*p+v*h*(p-m)+(4*d*f-h*h)*Math.log((2*v+y+p)/(y+m)))/(4*g)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],u=Xl._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,c=0,f=1;f<=u;++f){var h=f/u;l=o+(e-o)*h,c=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,c+(r+(i-r)*h-c)*h)}},t}(),bD=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),jo,Td=(jo={},jo[pr.POLY]=Cw,jo[pr.CIRC]=pf,jo[pr.ELIP]=pf,jo[pr.RECT]=gD,jo[pr.RREC]=yD,jo),J_=[],lc=[],ex=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Ys=new We,SD=function(t){Aw(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new ff,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),lc.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),J_.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new ex(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new ex(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,Ys):Ys.copyFrom(r),a.shape.contains(Ys.x,Ys.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var u=a.holes[s];if(u.shape.contains(Ys.x,Ys.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,a=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],a=i.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var s=n[o],u=s.fillStyle,l=s.lineStyle,c=Td[s.type];c.build(s),s.matrix&&this.transformPoints(s.points,s.matrix),(u.visible||l.visible)&&this.processHoles(s.holes);for(var f=0;f<2;f++){var h=f===0?u:l;if(h.visible){var d=h.texture.baseTexture,p=this.indices.length,v=this.points.length/2;d.wrapMode=xi.REPEAT,f===0?this.processFill(s):this.processLine(s);var g=this.points.length/2-v;g!==0&&(i&&!this._compareStyles(a,h)&&(i.end(p,v),i=null),i||(i=J_.pop()||new bD,i.begin(h,p,v),this.batches.push(i),a=h),this.addUvs(this.points,r,h.texture,v,g,h.matrix))}}}var m=this.indices.length,y=this.points.length/2;if(i&&i.end(m,y),this.batches.length===0){this.batchable=!0;return}var _=y>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&_===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=_?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++Je._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),lc.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=lc.pop();o||(o=new bp,o.texArray=new Sp),o.texArray.count=0,o.start=0,o.size=0,o.type=Ln.TRIANGLES;var s=0,u=null,l=0,c=!1,f=Ln.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],p=8,v=d.style,g=v.texture.baseTexture;c!==!!v.native&&(c=!!v.native,f=c?Ln.LINES:Ln.TRIANGLES,u=null,s=p,r++),u!==g&&(u=g,g._batchEnabled!==r&&(s===p&&(r++,s=0,o.size>0&&(o=lc.pop(),o||(o=new bp,o.texArray=new Sp),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),g.touched=1,g._batchEnabled=r,g._batchLocation=s,g.wrapMode=xi.REPEAT,o.texArray.elements[o.texArray.count++]=g,s++)),o.size+=d.size,h+=d.size,l=g._batchLocation,this.addColors(i,v.color,v.alpha,d.attribSize,d.attribStart),this.addTextureIds(a,l,d.attribSize,d.attribStart)}Je._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),u=new Uint32Array(o),l=0,c=0;c<r.length/2;c++)s[l++]=r[c*2],s[l++]=r[c*2+1],s[l++]=n[c*2],s[l++]=n[c*2+1],u[l++]=i[c],s[l++]=a[c];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)Cw.triangulate(r,this);else{var n=Td[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){Z_(r,this);for(var n=0;n<r.holes.length;n++)Z_(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=Td[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),u=im(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=u},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var u=0,l=n.length,c=i.frame;u<o;){var f=r[(a+u)*2],h=r[(a+u)*2+1];if(s){var d=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=d}u++,n.push(f/c.width,h/c.height)}var p=i.baseTexture;(c.width<p.width||c.height<p.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,u=i+a*2,l=n.frame,c=l.width/o.width,f=l.height/o.height,h=l.x/l.width,d=l.y/l.height,p=Math.floor(r[i]+s),v=Math.floor(r[i+1]+s),g=i+2;g<u;g+=2)p=Math.min(p,Math.floor(r[g]+s)),v=Math.min(v,Math.floor(r[g+1]+s));h-=p,d-=v;for(var g=i;g<u;g+=2)r[g]=(r[g]+h)*c,r[g+1]=(r[g+1]+d)*f},e.BATCHABLE_SIZE=100,e}(Sw),wD=function(t){Aw(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Ra.BUTT,r.join=Gi.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Tw),fme=new Float32Array(3),Ny={},zl=function(t){Aw(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new Tw,n._lineStyle=new wD,n._matrix=null,n._holeMode=!1,n.state=Mo.for2d(),n._geometry=r||new SD,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=Se.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:Me.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ra.BUTT,join:Gi.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Pl,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Pl,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),xD.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),_D.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,u=Q_.curveTo(r,n,i,a,o,s);if(u){var l=u.cx,c=u.cy,f=u.radius,h=u.startAngle,d=u.endAngle,p=u.anticlockwise;this.arc(l,c,f,h,d,p)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=cf:s&&a<=o&&(a+=cf);var u=o-a;if(u===0)return this;var l=r+Math.cos(a)*i,c=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var d=Math.abs(h[h.length-2]-l),p=Math.abs(h[h.length-1]-c);d<f&&p<f||h.push(l,c)}else this.moveTo(l,c),h=this.currentPath.points;return Q_.arc(l,c,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Me.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:Me.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new Ye(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new yL(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new mL(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new gL(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var u=new Pl(a);return u.closeStroke=o,this.drawShape(u),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===pr.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,u=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),c=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:u,blendMode:n,indices:c,uvs:l,_batchRGB:gr(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,u=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,c=u.length;l<c;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,u=i.count,l=0;l<u;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Ny[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ut,default:mo.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;Ny[i]=new Ma(l,u)}n=Ny[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=gr(this.tint,fme),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,u=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(u|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,u=n.tx,l=n.ty,c=this._geometry.points,f=this.vertexData,h=0,d=0;d<c.length;d+=2){var p=c[d],v=c[d+1];f[h++]=i*p+o*v+u,f[h++]=s*v+a*p+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new We,e}(mr),hme={buildPoly:Cw,buildCircle:pf,buildRectangle:gD,buildRoundedRectangle:yD,buildLine:Z_,ArcUtils:Q_,BezierUtils:_D,QuadraticUtils:xD,BatchPart:bD,FILL_COMMANDS:Td,BATCH_POOL:J_,DRAW_CALL_POOL:lc};/*!
 * @pixi/sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tx=function(t,e){return tx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},tx(t,e)};function dme(t,e){tx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Yu=new We,pme=new Uint16Array([0,1,2,0,2,3]),_i=function(t){dme(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new ro(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Se.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Me.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=pme,n.pluginName="batch",n.isSprite=!0,n._roundPixels=xe.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=rs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=rs(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,u=n.tx,l=n.ty,c=this.vertexData,f=r.trim,h=r.orig,d=this._anchor,p=0,v=0,g=0,m=0;if(f?(v=f.x-d._x*h.width,p=v+f.width,m=f.y-d._y*h.height,g=m+f.height):(v=-d._x*h.width,p=v+h.width,m=-d._y*h.height,g=m+h.height),c[0]=i*v+o*m+u,c[1]=s*m+a*v+l,c[2]=i*p+o*m+u,c[3]=s*m+a*p+l,c[4]=i*p+o*g+u,c[5]=s*g+a*p+l,c[6]=i*v+o*g+u,c[7]=s*g+a*v+l,this._roundPixels)for(var y=xe.RESOLUTION,_=0;_<c.length;++_)c[_]=Math.round((c[_]*y|0)/y)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,u=o.b,l=o.c,c=o.d,f=o.tx,h=o.ty,d=-a._x*i.width,p=d+i.width,v=-a._y*i.height,g=v+i.height;n[0]=s*d+l*v+f,n[1]=c*v+u*d+h,n[2]=s*p+l*v+f,n[3]=c*v+u*p+h,n[4]=s*p+l*g+f,n[5]=c*g+u*p+h,n[6]=s*d+l*g+f,n[7]=c*g+u*d+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new ff),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Ye),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Yu);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return Yu.x>=a&&Yu.x<a+n&&(o=-i*this.anchor.y,Yu.y>=o&&Yu.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof Me?r:Me.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=rs(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=rs(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(mr);/*!
 * @pixi/text - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rx=function(t,e){return rx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},rx(t,e)};function vme(t,e){rx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wl;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Wl||(Wl={}));var Ly={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Wl.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},mme=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],bs=function(){function t(e){this.styleID=0,this.reset(),By(this,e,e)}return t.prototype.clone=function(){var e={};return By(e,this,Ly),new t(e)},t.prototype.reset=function(){By(this,Ly,Ly)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=Dy(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=Dy(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){gme(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=Dy(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&mme.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function iO(t){return typeof t=="number"?XS(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function Dy(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=iO(t[e]);return t}else return iO(t)}function gme(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function By(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Xh={willReadFrequently:!0},Ci=function(){function t(e,r,n,i,a,o,s,u,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d",Xh);s.font=a;for(var u=n?t.wordWrap(e,r,i):e,l=u.split(/(?:\r\n|\r|\n)/),c=new Array(l.length),f=0,h=0;h<l.length;h++){var d=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;c[h]=d,f=Math.max(f,d)}var p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||o.fontSize+r.strokeThickness,g=Math.max(v,o.fontSize+r.strokeThickness)+(l.length-1)*(v+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new t(e,r,p,g,l,c,v+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d",Xh),a=0,o="",s="",u=Object.create(null),l=r.letterSpacing,c=r.whiteSpace,f=t.collapseSpaces(c),h=t.collapseNewlines(c),d=!f,p=r.wordWrapWidth+l,v=t.tokenize(e),g=0;g<v.length;g++){var m=v[g];if(t.isNewline(m)){if(!h){s+=t.addLine(o),d=!f,o="",a=0;continue}m=" "}if(f){var y=t.isBreakingSpace(m),_=t.isBreakingSpace(o[o.length-1]);if(y&&_)continue}var x=t.getFromCache(m,l,u,i);if(x>p)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(m,r.breakWords))for(var b=t.wordWrapSplit(m),S=0;S<b.length;S++){for(var w=b[S],E=1;b[S+E];){var T=b[S+E],A=w[w.length-1];if(!t.canBreakChars(A,T,m,S,r.breakWords))w+=T;else break;E++}S+=w.length-1;var O=t.getFromCache(w,l,u,i);O+a>p&&(s+=t.addLine(o),d=!1,o="",a=0),o+=w,a+=O}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var P=g===v.length-1;s+=t.addLine(m,!P),d=!1,o="",a=0}else x+a>p&&(d=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(m)||d)&&(o+=m,a+=x)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,u).data,c=l.length,f=o*4,h=0,d=0,p=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d+=f;else break}for(r.ascent=s-h,d=c-f,p=!1,h=u;h>s;--h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",Xh);if(n&&n.measureText)return t.__canvas=r,r;e=xe.ADAPTER.createCanvas()}catch{e=xe.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",Xh)),t.__context},enumerable:!1,configurable:!0}),t}();Ci._fonts={};Ci.METRICS_STRING="|q";Ci.BASELINE_SYMBOL="M";Ci.BASELINE_MULTIPLIER=1.4;Ci.HEIGHT_MULTIPLIER=2;Ci._newlines=[10,13];Ci._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var yme={texture:!0,children:!1,baseTexture:!0},Pw=function(t){vme(e,t);function e(r,n,i){var a=this,o=!1;i||(i=xe.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var s=Me.from(i);return s.orig=new Ye,s.trim=new Ye,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=i.getContext("2d",{willReadFrequently:!0}),a._resolution=xe.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=Ci.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,u=a.lines,l=a.lineHeight,c=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,p,v=n.dropShadow?2:1,g=0;g<v;++g){var m=n.dropShadow&&g===0,y=m?Math.ceil(Math.max(1,s)+n.padding*2):0,_=y*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var x=n.dropShadowColor,b=gr(typeof x=="number"?x:zS(x)),S=n.dropShadowBlur*this._resolution,w=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=S,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*w,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*w+_}else i.fillStyle=this._generateFillStyle(n,u,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var E=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(E=0);for(var T=0;T<u.length;T++)d=n.strokeThickness/2,p=n.strokeThickness/2+T*l+h.ascent+E,n.align==="right"?d+=f-c[T]:n.align==="center"&&(d+=(f-c[T])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(u[T],d+n.padding,p+n.padding-y,!0),n.fill&&this.drawLetterSpacing(u[T],d+n.padding,p+n.padding-y)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,u=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||u){u&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,c=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,d=0;d<c.length;++d){var p=c[d];a?this.context.strokeText(p,l,i):this.context.fillText(p,l,i);for(var v="",g=d+1;g<c.length;++g)v+=c[g];h=this.context.measureText(v).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=hL(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=this.canvas.width/this._resolution-s-u*2,c=this.canvas.height/this._resolution-s-u*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var d=f.length+1,p=1;p<d;++p)h.push(p/d);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===Wl.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,u,l/2,c+u);for(var v=i.fontProperties.fontSize+r.strokeThickness,p=0;p<n.length;p++){var g=i.lineHeight*(p-1)+v,m=i.lineHeight*p,y=m;p>0&&g>m&&(y=(m+g)/2);var _=m+v,x=i.lineHeight*(p+1),b=_;p+1<n.length&&x<_&&(b=(_+x)/2);for(var S=(b-y)/c,w=0;w<f.length;w++){var E=0;typeof h[w]=="number"?E=h[w]:E=w/f.length;var T=Math.min(1,Math.max(0,y/c+E*S));T=Number(T.toFixed(5)),o.addColorStop(T,f[w])}}}else{o=this.context.createLinearGradient(u,c/2,l+u,c/2);for(var A=f.length+1,O=1,p=0;p<f.length;p++){var P=void 0;typeof h[p]=="number"?P=h[p]:P=O/A,o.addColorStop(P,f[p]),O++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},yme,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=rs(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=rs(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof bs?this._style=r:this._style=new bs(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(_i);/*!
 * @pixi/prepare - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xe.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nx=function(t,e){return nx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nx(t,e)};function _me(t,e){nx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ED=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function xme(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Me){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function bme(t,e){if(t.baseTexture instanceof Je){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Sme(t,e){if(t._texture&&t._texture instanceof Me){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function wme(t,e){return e instanceof Pw?(e.updateText(!0),!0):!1}function Eme(t,e){if(e instanceof bs){var r=e.toFontString();return Ci.measureFont(r),!0}return!1}function Tme(t,e){if(t instanceof Pw){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Ame(t,e){return t instanceof bs?(e.indexOf(t)===-1&&e.push(t),!0):!1}var TD=function(){function t(e){var r=this;this.limiter=new ED(xe.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(Tme),this.registerFindHook(Ame),this.registerFindHook(xme),this.registerFindHook(bme),this.registerFindHook(Sme),this.registerUploadHook(wme),this.registerUploadHook(Eme)}return t.prototype.upload=function(e,r){var n=this;return typeof e=="function"&&(r=e,e=null),r&&pn("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var a=function(){r==null||r(),i()};n.queue.length?(n.completes.push(a),n.ticking||(n.ticking=!0,Or.system.addOnce(n.tick,n,ra.UTILITY))):a()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Or.system.addOnce(this.tick,this,ra.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof mr)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Or.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function AD(t,e){return e instanceof Je?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Cme(t,e){if(!(e instanceof zl))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&AD(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Pme(t,e){return t instanceof zl?(e.push(t),!0):!1}var CD=function(t){_me(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Pme),n.registerUploadHook(AD),n.registerUploadHook(Cme),n}return e.extension={name:"prepare",type:dt.RendererPlugin},e}(TD),Ome=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PD=function(){function t(e,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof Me?e:null,this.baseTexture=e instanceof Je?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=uf(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){var r=this;return e&&pn("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){e==null||e(i),n(i)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,u=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,c=new Ye(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new Ye(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new Ye(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(u=new Ye(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Me(this.baseTexture,s,c,u,a.rotated?2:0,a.anchor),Me.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),OD=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==mt.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var u=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),g=ts.resolve(e.url.replace(a.baseUrl,""),p);if(a.resources[v]||Object.values(a.resources).some(function(y){return ts.format(ts.parse(y.url))===g}))return"continue";var m={crossOrigin:e.crossOrigin,loadType:mt.LOAD_TYPE.XHR,xhrType:mt.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(v,g,m)},l=0,c=s;l<c.length;l++){var f=c[l];u(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,a.baseUrl);a.add(o,d,h,function(v){if(v.error){r(v.error);return}var g=new PD(v.texture,e.data,e.url);g.parse().then(function(){e.spritesheet=g,e.textures=g.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:ts.resolve(e.url.replace(r,""),e.data.meta.image)},t.extension=dt.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ix=function(t,e){return ix=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ix(t,e)};function RD(t,e){ix(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Hu=new We,Rme=function(t){RD(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new om,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new cm(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Ye),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Hu);var n=this._width,i=this._height,a=-n*this.anchor._x;if(Hu.x>=a&&Hu.x<a+n){var o=-i*this.anchor._y;if(Hu.y>=o&&Hu.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof Me?r:Me.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(_i),Ime=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,aO=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,kme=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Mme=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Fme=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,zh=new Ut,ID=function(t){RD(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new aw,n.state=Mo.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Ma.from(aO,Ime,n),this.shader=r.context.webGLVersion>1?Ma.from(Mme,Fme,n):Ma.from(aO,kme,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var u=r._texture,l=u.baseTexture,c=l.alphaMode>0,f=r.tileTransform.localTransform,h=r.uvMatrix,d=l.isPowerOfTwo&&u.frame.width===l.width&&u.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==xi.CLAMP:l.wrapMode===xi.CLAMP&&(l.wrapMode=xi.REPEAT));var p=d?this.simpleShader:this.shader,v=u.width,g=u.height,m=r._width,y=r._height;zh.set(f.a*v/m,f.b*v/y,f.c*g/m,f.d*g/y,f.tx/m,f.ty/y),zh.invert(),d?zh.prepend(h.mapCoord):(p.uniforms.uMapCoord=h.mapCoord.toArray(!0),p.uniforms.uClampFrame=h.uClampFrame,p.uniforms.uClampOffset=h.uClampOffset),p.uniforms.uTransform=zh.toArray(!0),p.uniforms.uColor=HS(r.tint,r.worldAlpha,p.uniforms.uColor,c),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=u,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=YS(r.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:dt.RendererPlugin},e}(qf);/*!
 * @pixi/mesh - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ax=function(t,e){return ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ax(t,e)};function Ow(t,e){ax(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kD=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),jy=new We,oO=new Pl,Yl=function(t){Ow(e,t);function e(r,n,i,a){a===void 0&&(a=Ln.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Mo.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=xe.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ln.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,u=o.b,l=o.c,c=o.d,f=o.tx,h=o.ty,d=this.vertexData,p=0;p<d.length/2;p++){var v=i[p*2],g=i[p*2+1];d[p*2]=s*v+l*g+f,d[p*2+1]=u*v+c*g+h}if(this._roundPixels)for(var m=xe.RESOLUTION,p=0;p<d.length;++p)d[p]=Math.round((d[p]*m|0)/m);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new kD(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,jy);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=oO.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,u=0;u+2<o;u+=s){var l=a[u]*2,c=a[u+1]*2,f=a[u+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[c],i[3]=n[c+1],i[4]=n[f],i[5]=n[f+1],oO.contains(jy.x,jy.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(mr),Nme=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Lme=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Hl=function(t){Ow(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:Ut.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||xu.from(Lme,Nme),a)||this,i._colorDirty=!1,i.uvMatrix=new cm(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;HS(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ma),Kf=function(t){Ow(e,t);function e(r,n,i){var a=t.call(this)||this,o=new ir(r),s=new ir(n,!0),u=new ir(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,Re.FLOAT).addAttribute("aTextureCoord",s,2,!1,Re.FLOAT).addIndex(u),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(_u);/*!
 * @pixi/text-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ox=function(t,e){return ox=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ox(t,e)};function Dme(t,e){ox(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vf=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),MD=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var u in o){var l=o[u].split("="),c=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),d=isNaN(h)?f:h;s[c]=d}n[a].push(s)}var p=new vf;return n.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return p.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),p},t}(),Tp=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new vf,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var c=o[l];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<u.length;l++)r.distanceField.push({fieldType:u[l].getAttribute("fieldType"),distanceRange:parseInt(u[l].getAttribute("distanceRange"),10)});return r},t}(),FD=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return Tp.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return Tp.parse(r)},t}(),Uy=[MD,Tp,FD];function Rw(t){for(var e=0;e<Uy.length;e++)if(Uy[e].test(t))return Uy[e];return null}function Bme(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=t.width/n-u-l*2,f=t.height/n-u-l*2,h=o.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var p=h.length+1,v=1;v<p;++v)d.push(v/p);if(h.unshift(o[0]),d.unshift(0),h.push(o[o.length-1]),d.push(1),r.fillGradientType===Wl.LINEAR_VERTICAL){s=e.createLinearGradient(c/2,l,c/2,f+l);for(var g=0,m=a.fontProperties.fontSize+r.strokeThickness,y=m/f,v=0;v<i.length;v++)for(var _=a.lineHeight*v,x=0;x<h.length;x++){var b=0;typeof d[x]=="number"?b=d[x]:b=x/h.length;var S=_/f+b*y,w=Math.max(g,S);w=Math.min(w,1),s.addColorStop(w,h[x]),g=w}}else{s=e.createLinearGradient(l,f/2,c+l,f/2);for(var E=h.length+1,T=1,v=0;v<h.length;v++){var A=void 0;typeof d[v]=="number"?A=d[v]:A=T/E,s.addColorStop(A,h[v]),T++}}return s}function jme(t,e,r,n,i,a,o){var s=r.text,u=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Bme(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=gr(typeof f=="number"?f:zS(f)),d=o.dropShadowBlur*a,p=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,c+r.lineHeight-u.descent),o.fill&&e.fillText(s,l,c+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ND(t){return Array.from?Array.from(t):t.split("")}function Ume(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,u=o;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,ND(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function Ad(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var wa=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],u=e.page[0],l=e.distanceField[0],c=uf(u.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var d=e.page[h],p=d.id,v=d.file;f[p]=r instanceof Array?r[h]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[p].baseTexture.alphaMode=Rn.NO_PREMULTIPLIED_ALPHA,f[p].baseTexture.mipmap=mn.OFF)}for(var h=0;h<e.char.length;h++){var g=e.char[h],p=g.id,m=g.page,y=e.char[h],_=y.x,x=y.y,b=y.width,S=y.height,w=y.xoffset,E=y.yoffset,T=y.xadvance;_/=c,x/=c,b/=c,S/=c,w/=c,E/=c,T/=c;var A=new Ye(_+f[m].frame.x/c,x+f[m].frame.y/c,b,S);this.chars[p]={xOffset:w,yOffset:E,xAdvance:T,kerning:{},texture:new Me(f[m].baseTexture,A),page:m}}for(var h=0;h<e.kerning.length;h++){var O=e.kerning[h],P=O.first,k=O.second,M=O.amount;P/=c,k/=c,M/=c,this.chars[k]&&(this.chars[k].kerning[P]=M)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof vf)i=e;else{var a=Rw(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof Me&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,c=Ume(a),f=r instanceof bs?r:new bs(r),h=u,d=new vf;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var p=0,v=0,g,m,y,_=0,x=[],b=0;b<c.length;b++){g||(g=xe.ADAPTER.createCanvas(),g.width=u,g.height=l,m=g.getContext("2d"),y=new Je(g,{resolution:s}),x.push(new Me(y)),d.page.push({id:x.length-1,file:""}));var S=c[b],w=Ci.measureText(S,f,!1,g),E=w.width,T=Math.ceil(w.height),A=Math.ceil((f.fontStyle==="italic"?2:1)*E);if(v>=l-T*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+l+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+S+"')"));--b,g=null,m=null,y=null,v=0,p=0,_=0;continue}if(_=Math.max(T+w.fontProperties.descent,_),A*s+p>=h){if(p===0)throw new Error("[BitmapFont] textureWidth "+u+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+S+"')"));--b,v+=_*s,v=Math.ceil(v),p=0,_=0;continue}jme(g,m,w,p,v,s,f);var O=Ad(w.text);d.char.push({id:O,page:x.length-1,x:p/s,y:v/s,width:A,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),p+=(A+2*o)*s,p=Math.ceil(p)}if(!(n!=null&&n.skipKerning))for(var b=0,P=c.length;b<P;b++)for(var k=c[b],M=0;M<P;M++){var B=c[M],j=m.measureText(k).width,z=m.measureText(B).width,J=m.measureText(k+B).width,Z=J-(j+z);Z&&d.kerning.push({first:Ad(k),second:Ad(B),amount:Z})}var $=new t(d,x,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=$,$},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),$me=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Vme=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,sO=[],lO=[],uO=[],Gme=function(t){Dme(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,u=a.maxWidth,l=a.letterSpacing,c=a.fontName,f=a.fontSize;if(!wa.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._font=void 0,i._fontName=c,i._fontSize=f,i.text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new ro(function(){i.dirty=!0},i,0,0),i._roundPixels=xe.ROUND_PIXELS,i.dirty=!0,i._resolution=xe.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=wa.available[this._fontName],i=this.fontSize,a=i/n.size,o=new We,s=[],u=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=ND(c),h=this._maxWidth*n.size/i,d=n.distanceFieldType==="none"?sO:lO,p=null,v=0,g=0,m=0,y=-1,_=0,x=0,b=0,S=0,w=0;w<f.length;w++){var E=f[w],T=Ad(E);if(/(?:\s)/.test(E)&&(y=w,_=v,S++),E==="\r"||E===`
`){u.push(v),l.push(-1),g=Math.max(g,v),++m,++x,o.x=0,o.y+=n.lineHeight,p=null,S=0;continue}var A=n.chars[T];if(A){p&&A.kerning[p]&&(o.x+=A.kerning[p]);var O=uO.pop()||{texture:Me.EMPTY,line:0,charCode:0,prevSpaces:0,position:new We};O.texture=A.texture,O.line=m,O.charCode=T,O.position.x=o.x+A.xOffset+this._letterSpacing/2,O.position.y=o.y+A.yOffset,O.prevSpaces=S,s.push(O),v=O.position.x+Math.max(A.xAdvance-A.xOffset,A.texture.orig.width),o.x+=A.xAdvance+this._letterSpacing,b=Math.max(b,A.yOffset+A.texture.height),p=T,y!==-1&&h>0&&o.x>h&&(++x,cs(s,1+y-x,1+w-y),w=y,y=-1,u.push(_),l.push(s.length>0?s[s.length-1].prevSpaces:0),g=Math.max(g,_),m++,o.x=0,o.y+=n.lineHeight,p=null,S=0)}}var P=f[f.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(v=_),u.push(v),g=Math.max(g,v),l.push(-1));for(var k=[],w=0;w<=m;w++){var M=0;this._align==="right"?M=g-u[w]:this._align==="center"?M=(g-u[w])/2:this._align==="justify"&&(M=l[w]<0?0:(g-u[w])/l[w]),k.push(M)}var B=s.length,j={},z=[],J=this._activePagesMeshData;d.push.apply(d,J);for(var w=0;w<B;w++){var Z=s[w].texture,$=Z.baseTexture.uid;if(!j[$]){var F=d.pop();if(!F){var G=new Kf,V=void 0,U=void 0;n.distanceFieldType==="none"?(V=new Hl(Me.EMPTY),U=Se.NORMAL):(V=new Hl(Me.EMPTY,{program:xu.from(Vme,$me),uniforms:{uFWidth:0}}),U=Se.NORMAL_NPM);var H=new Yl(G,V);H.blendMode=U,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0;var ee=this._textureCache;ee[$]=ee[$]||new Me(Z.baseTexture),F.mesh.texture=ee[$],F.mesh.tint=this._tint,z.push(F),j[$]=F}j[$].total++}for(var w=0;w<J.length;w++)z.indexOf(J[w])===-1&&this.removeChild(J[w].mesh);for(var w=0;w<z.length;w++)z[w].mesh.parent!==this&&this.addChild(z[w].mesh);this._activePagesMeshData=z;for(var w in j){var F=j[w],ie=F.total;if(!(((r=F.indices)===null||r===void 0?void 0:r.length)>6*ie)||F.vertices.length<Yl.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*ie),F.uvs=new Float32Array(4*2*ie),F.indices=new Uint16Array(6*ie);else for(var ae=F.total,pe=F.vertices,ye=ae*4*2;ye<pe.length;ye++)pe[ye]=0;F.mesh.size=6*ie}for(var w=0;w<B;w++){var E=s[w],oe=E.position.x+k[E.line]*(this._align==="justify"?E.prevSpaces:1);this._roundPixels&&(oe=Math.round(oe));var _e=oe*a,Ce=E.position.y*a,Z=E.texture,be=j[Z.baseTexture.uid],Oe=Z.frame,ke=Z._uvs,we=be.index++;be.indices[we*6+0]=0+we*4,be.indices[we*6+1]=1+we*4,be.indices[we*6+2]=2+we*4,be.indices[we*6+3]=0+we*4,be.indices[we*6+4]=2+we*4,be.indices[we*6+5]=3+we*4,be.vertices[we*8+0]=_e,be.vertices[we*8+1]=Ce,be.vertices[we*8+2]=_e+Oe.width*a,be.vertices[we*8+3]=Ce,be.vertices[we*8+4]=_e+Oe.width*a,be.vertices[we*8+5]=Ce+Oe.height*a,be.vertices[we*8+6]=_e,be.vertices[we*8+7]=Ce+Oe.height*a,be.uvs[we*8+0]=ke.x0,be.uvs[we*8+1]=ke.y0,be.uvs[we*8+2]=ke.x1,be.uvs[we*8+3]=ke.y1,be.uvs[we*8+4]=ke.x2,be.uvs[we*8+5]=ke.y2,be.uvs[we*8+6]=ke.x3,be.uvs[we*8+7]=ke.y3}this._textWidth=g*a,this._textHeight=(o.y+n.lineHeight)*a;for(var w in j){var F=j[w];if(this.anchor.x!==0||this.anchor.y!==0)for(var Xe=0,tt=this._textWidth*this.anchor.x,Et=this._textHeight*this.anchor.y,$t=0;$t<F.total;$t++)F.vertices[Xe++]-=tt,F.vertices[Xe++]-=Et,F.vertices[Xe++]-=tt,F.vertices[Xe++]-=Et,F.vertices[Xe++]-=tt,F.vertices[Xe++]-=Et,F.vertices[Xe++]-=tt,F.vertices[Xe++]-=Et;this._maxLineHeight=b*a;var Ht=F.mesh.geometry.getBuffer("aVertexPosition"),_t=F.mesh.geometry.getBuffer("aTextureCoord"),lr=F.mesh.geometry.getIndex();Ht.data=F.vertices,_t.data=F.uvs,lr.data=F.indices,Ht.update(),_t.update(),lr.update()}for(var w=0;w<s.length;w++)uO.push(s[w]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=wa.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,u=s.a,l=s.b,c=s.c,f=s.d,h=Math.sqrt(u*u+l*l),d=Math.sqrt(c*c+f*f),p=(Math.abs(h)+Math.abs(d))/2,v=this.fontSize/o,g=0,m=this._activePagesMeshData;g<m.length;g++){var y=m[g];y.mesh.shader.uniforms.uFWidth=p*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var r=wa.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!wa.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:wa.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache,i=wa.available[this._fontName],a=i.distanceFieldType==="none"?sO:lO;a.push.apply(a,this._activePagesMeshData);for(var o=0,s=this._activePagesMeshData;o<s.length;o++){var u=s[o];this.removeChild(u.mesh)}this._activePagesMeshData=[],a.filter(function(f){return n[f.mesh.texture.baseTexture.uid]}).forEach(function(f){f.mesh.texture=Me.EMPTY});for(var l in n){var c=n[l];c.destroy(),delete n[l]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(mr),LD=function(){function t(){}return t.add=function(){mt.setExtensionXhrType("fnt",mt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=Rw(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=wa.install(a,o,!0),r())},u=0;u<a.page.length;++u){var l=a.page[u].file,c=i+l,f=!1;for(var h in this.resources){var d=this.resources[h];if(d.url===c){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}if(!f){var p={crossOrigin:e.crossOrigin,loadType:mt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(c,p,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t.extension=dt.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sx=function(t,e){return sx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sx(t,e)};function Xme(t,e){sx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zme=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,DD=function(t){Xme(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,XL,zme,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(De);/*!
 * @pixi/filter-blur - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lx=function(t,e){return lx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},lx(t,e)};function BD(t,e){lx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wme=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Yme(t,e){var r=Math.ceil(t/2),n=Wme,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var Hme={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qme=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Kme(t){for(var e=Hme[t],r=e.length,n=qme,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var u=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var mf=function(t){BD(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=xe.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,u=Yme(o,r),l=Kme(o);return s=t.call(this,u,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,u=n,l=o;this.state.blend=!1,r.applyFilter(this,u,l,qn.CLEAR);for(var c=1;c<this.passes-1;c++){r.bindAndClear(u,qn.BLIT),this.uniforms.uSampler=l;var f=l;l=u,u=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(De),Zme=function(t){BD(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=xe.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new mf(!0,r,n,i,a),o.blurYFilter=new mf(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var u=r.getFilterTexture();this.blurXFilter.apply(r,n,u,qn.CLEAR),this.blurYFilter.apply(r,u,i,a),r.returnFilterTexture(u)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(De);/*!
 * @pixi/filter-color-matrix - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ux=function(t,e){return ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ux(t,e)};function Qme(t,e){ux(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jme=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,cx=function(t){Qme(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,bw,Jme,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,u=o(s),l=i+(1-i)*s,c=s*(1-i)-u*a,f=s*(1-i)+u*a,h=s*(1-i)+u*a,d=i+s*(1-i),p=s*(1-i)-u*a,v=s*(1-i)-u*a,g=s*(1-i)+u*a,m=i+s*(1-i),y=[l,c,f,0,0,h,d,p,0,0,v,g,m,0,0,0,0,0,1,0];this._loadMatrix(y,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,u=(i>>8&255)/255,l=(i&255)/255,c=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,d=[.3,.59,.11,0,0,s,u,l,r,0,c,f,h,n,0,s-c,u-f,l-h,0,0];this._loadMatrix(d,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(De);cx.prototype.grayscale=cx.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fx=function(t,e){return fx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},fx(t,e)};function ege(t,e){fx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tge=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,rge=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,nge=function(t){ege(e,t);function e(r,n){var i=this,a=new Ut;return r.renderable=!1,i=t.call(this,rge,tge,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new We(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),u=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&u!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/u,this.uniforms.rotation[3]=o.d/u),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(De);/*!
 * @pixi/filter-fxaa - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hx=function(t,e){return hx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hx(t,e)};function ige(t,e){hx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var age=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,oge=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,sge=function(t){ige(e,t);function e(){return t.call(this,age,oge)||this}return e}(De);/*!
 * @pixi/filter-noise - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dx=function(t,e){return dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dx(t,e)};function lge(t,e){dx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uge=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,cge=function(t){lge(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,bw,uge,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(De);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jD=new Ut;Wt.prototype._cacheAsBitmap=!1;Wt.prototype._cacheData=null;Wt.prototype._cacheAsBitmapResolution=null;Wt.prototype._cacheAsBitmapMultisample=Ot.NONE;var fge=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Wt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new fge),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Wt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Wt.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(xe.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),u=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,c=Co.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+To();this._cacheData.textureCacheId=f,Je.addToCache(c.baseTexture,f),Me.addToCache(c,f);var h=this.transform.localTransform.copyTo(jD).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var d=new _i(c);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}};Wt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Wt.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(xe.RESOLUTION);var o=Co.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+To();this._cacheData.textureCacheId=s,Je.addToCache(o.baseTexture,s),Me.addToCache(o,s);var u=jD;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=r.x,u.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new _i(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};Wt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Wt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Wt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Je.removeFromCache(this._cacheData.textureCacheId),Me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Wt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Wt.prototype.name=null;mr.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=a.getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Wt.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new We),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var UD=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=dt.Application,t}(),Iw=function(){function t(e){var r=this;this.stage=new mr,e=Object.assign({forceCanvas:!1},e),this.renderer=GL(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){pn("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),fa.add({type:dt.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();fa.handleByList(dt.Application,Iw._plugins);fa.add(UD);/*!
 * @pixi/mesh-extras - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var px=function(t,e){return px=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},px(t,e)};function bu(t,e){px(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $D=function(t){bu(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,u=this.width/o,l=this.height/s,c=0;c<r;c++){var f=c%this.segWidth,h=c/this.segWidth|0;n.push(f*u,h*l),i.push(f/o,h/s)}for(var d=o*s,c=0;c<d;c++){var p=c%o,v=c/o|0,g=v*this.segWidth+p,m=v*this.segWidth+p+1,y=(v+1)*this.segWidth+p,_=(v+1)*this.segWidth+p+1;a.push(g,m,y,m,_,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Kf),VD=function(t){bu(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var u=0,l=r[0],c=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var d=h*4;if(this.textureScale>0){var p=l.x-r[h].x,v=l.y-r[h].y,g=Math.sqrt(p*p+v*v);l=r[h],u+=g/c}else u=h/(f-1);o[d]=u,o[d+1]=0,o[d+2]=u,o[d+3]=1}for(var m=0,h=0;h<f-1;h++){var d=h*2;s[m++]=d,s[m++]=d+1,s[m++]=d+2,s[m++]=d+2,s[m++]=d+1,s[m++]=d+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,u=r.length,l=0;l<u;l++){var c=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=c,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=d,o*=d,s[f]=c.x+a,s[f+1]=c.y+o,s[f+2]=c.x-a,s[f+3]=c.y-o,n=c}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Kf),hge=function(t){bu(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new VD(r.height,n,i),s=new Hl(r);return i>0&&(r.baseTexture.wrapMode=xi.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(Yl),GD=function(t){bu(e,t);function e(r,n,i){var a=this,o=new $D(r.width,r.height,n,i),s=new Hl(Me.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Yl),XD=function(t){bu(e,t);function e(r,n,i,a,o){r===void 0&&(r=Me.EMPTY);var s=this,u=new Kf(n,i,a);u.getBuffer("aVertexPosition").static=!1;var l=new Hl(r);return s=t.call(this,u,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(Yl),Wh=10,dge=function(t){bu(e,t);function e(r,n,i,a,o){n===void 0&&(n=Wh),i===void 0&&(i=Wh),a===void 0&&(a=Wh),o===void 0&&(o=Wh);var s=t.call(this,Me.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(GD);/*!
 * @pixi/sprite-animated - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vx=function(t,e){return vx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vx(t,e)};function pge(t,e){vx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vge=function(t){pge(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof Me?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Or.shared.add(this.update,this,ra.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Me.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Me.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Me)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Or.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Or.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(_i);/*!
 * pixi.js - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */fa.add(ZL,tD,eD,mD,CD,ww,ID,LD,sD,dD,pD,OD,xL,nD);var mx={AlphaFilter:DD,BlurFilter:Zme,BlurFilterPass:mf,ColorMatrixFilter:cx,DisplacementFilter:nge,FXAAFilter:sge,NoiseFilter:cge};const mge=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Rn},AbstractBatchRenderer:zL,AbstractMultiResource:lm,AbstractRenderer:VL,AccessibilityManager:ZL,AnimatedSprite:vge,AppLoaderPlugin:nD,Application:Iw,ArrayResource:ZS,Attribute:V_,get BLEND_MODES(){return Se},get BUFFER_BITS(){return tf},get BUFFER_TYPE(){return bi},BaseImageResource:na,BasePrepare:TD,BaseRenderTexture:nw,BaseTexture:Je,BatchDrawCall:bp,BatchGeometry:Sw,BatchPluginFactory:YL,BatchRenderer:ww,BatchShaderGenerator:WL,BatchSystem:sw,BatchTextureArray:Sp,BitmapFont:wa,BitmapFontData:vf,BitmapFontLoader:LD,BitmapText:Gme,BlobResource:oD,Bounds:ff,BrowserAdapter:NN,Buffer:ir,BufferResource:Ms,get CLEAR_MODES(){return qn},get COLOR_MASK_BITS(){return __},CanvasResource:QS,Circle:mL,CompressedTextureLoader:sD,CompressedTextureResource:Ep,Container:mr,ContextSystem:lw,CountLimiter:ED,CubeResource:JS,DDSLoader:dD,DEG_TO_RAD:Ao,get DRAW_MODES(){return Ln},DisplayObject:Wt,get ENV(){return ta},Ellipse:gL,get ExtensionType(){return dt},Extract:tD,get FORMATS(){return ve},FORMATS_TO_COMPONENTS:cD,FillStyle:Tw,Filter:De,FilterState:EL,FilterSystem:ow,Framebuffer:xp,FramebufferSystem:uw,get GC_MODES(){return nf},GLFramebuffer:TL,GLProgram:jL,GLTexture:wd,GRAPHICS_CURVES:Xl,Geometry:_u,GeometrySystem:cw,Graphics:zl,GraphicsData:ex,GraphicsGeometry:SD,IGLUniformData:Zpe,INSTALLED:hf,get INTERNAL_FORMATS(){return Be},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:df,ImageBitmapResource:rw,ImageResource:um,InteractionData:G_,InteractionEvent:QL,InteractionManager:eD,InteractionTrackingData:Ed,KTXLoader:pD,get LINE_CAP(){return Ra},get LINE_JOIN(){return Gi},LineStyle:wD,Loader:xs,get LoaderResource(){return mt},get MASK_TYPES(){return Zt},get MIPMAP_MODES(){return mn},get MSAA_QUALITY(){return Ot},MaskData:AL,MaskSystem:fw,Matrix:Ut,Mesh:Yl,MeshBatchUvs:kD,MeshGeometry:Kf,MeshMaterial:Hl,NineSlicePlane:dge,ObjectRenderer:qf,ObservablePoint:ro,PI_2:cf,get PRECISION(){return Tn},ParticleContainer:ome,ParticleRenderer:mD,PlaneGeometry:$D,Point:We,Polygon:Pl,Prepare:CD,Program:xu,ProjectionSystem:pw,Quad:wL,QuadUv:aw,RAD_TO_DEG:vL,get RENDERER_TYPE(){return Ul},Rectangle:Ye,RenderTexture:Co,RenderTexturePool:SL,RenderTextureSystem:vw,Renderer:xw,ResizePlugin:UD,Resource:_s,RopeGeometry:VD,RoundedRectangle:yL,Runner:Cr,get SAMPLER_TYPES(){return rf},get SCALE_MODES(){return Ir},get SHAPES(){return pr},SVGResource:ew,ScissorSystem:hw,Shader:Ma,ShaderSystem:mw,SimpleMesh:XD,SimplePlane:GD,SimpleRope:hge,Sprite:_i,SpriteMaskFilter:ML,Spritesheet:PD,SpritesheetLoader:OD,State:Mo,StateSystem:gw,StencilSystem:dw,System:dve,get TARGETS(){return vo},get TEXT_GRADIENT(){return Wl},get TYPES(){return Re},TYPES_TO_BYTES_PER_COMPONENT:H_,TYPES_TO_BYTES_PER_PIXEL:fD,TemporaryDisplayObject:KS,Text:Pw,TextFormat:MD,TextMetrics:Ci,TextStyle:bs,Texture:Me,TextureGCSystem:yw,TextureLoader:iD,TextureMatrix:cm,TextureSystem:_w,TextureUvs:iw,Ticker:Or,TickerPlugin:xL,TilingSprite:Rme,TilingSpriteRenderer:ID,TimeLimiter:Ome,Transform:om,get UPDATE_PRIORITY(){return ra},UniformGroup:mo,VERSION:mve,VideoResource:tw,ViewableBuffer:wp,get WRAP_MODES(){return xi},XMLFormat:Tp,XMLStringFormat:FD,accessibleTarget:KL,autoDetectFormat:Rw,autoDetectRenderer:GL,autoDetectResource:sm,checkMaxIfStatementsInShader:kL,createUBOElements:LL,defaultFilterVertex:bw,defaultVertex:XL,extensions:fa,filters:mx,generateProgram:UL,generateUniformBufferSync:BL,getTestContext:OL,getUBOData:DL,graphicsUtils:hme,groupD8:It,interactiveTarget:JL,isMobile:Jn,parseDDS:uD,parseKTX:hD,resources:HL,settings:xe,systems:qL,uniformParsers:fs,utils:xpe},Symbol.toStringTag,{value:"Module"}));let Yh;const gge=new Uint8Array(16);function yge(){if(!Yh&&(Yh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yh(gge)}const $r=[];for(let t=0;t<256;++t)$r.push((t+256).toString(16).slice(1));function _ge(t,e=0){return $r[t[e+0]]+$r[t[e+1]]+$r[t[e+2]]+$r[t[e+3]]+"-"+$r[t[e+4]]+$r[t[e+5]]+"-"+$r[t[e+6]]+$r[t[e+7]]+"-"+$r[t[e+8]]+$r[t[e+9]]+"-"+$r[t[e+10]]+$r[t[e+11]]+$r[t[e+12]]+$r[t[e+13]]+$r[t[e+14]]+$r[t[e+15]]}const xge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cO={randomUUID:xge};function Hs(t,e,r){if(cO.randomUUID&&!e&&!t)return cO.randomUUID();t=t||{};const n=t.random||(t.rng||yge)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return _ge(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gx=function(t,e){return gx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gx(t,e)};function bge(t,e){gx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wge=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,Ege=function(t){bge(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,Sge,wge)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(De);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yx=function(t,e){return yx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yx(t,e)};function Tge(t,e){yx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Age=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Cge=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,Pge=function(t){Tge(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,Age,Cge)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(De);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _x=function(t,e){return _x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_x(t,e)};function Oge(t,e){_x(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Rge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ige=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,kge=function(t){Oge(e,t);function e(r){var n=t.call(this,Rge,Ige)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(De);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xx=function(t,e){return xx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xx(t,e)};function Mge(t,e){xx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Nge=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,Lge=function(t){Mge(e,t);function e(r){var n=t.call(this,Fge,Nge)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=Me.from(n._canvas,{scaleMode:Ir.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,u=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.aspect=u/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,u=0;u<n;u++){var l=s/(o-u),c=Math.max(l*(1-Math.random()*.6),a);r[u]=c,s-=c}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),u=0;u<n;u++){var c=Math.max(f*s*Math.random(),a);r[u]=c,s-=c}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var u=this._sizes[s]*r,l=a>0?a:0,c=a<0?-a:0;i.fillStyle="rgba("+l+", "+c+", 0, 1)",i.fillRect(0,o>>0,r,u+1>>0),o+=u}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*Ao;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(De);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bx=function(t,e){return bx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},bx(t,e)};function Dge(t,e){bx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Bge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jge=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,Uge=function(t){Dge(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,Bge,jge)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(De);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sx=function(t,e){return Sx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Sx(t,e)};function $ge(t,e){Sx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Vge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Gge=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,Xge=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,zge=function(t){$ge(e,t);function e(r){var n=t.call(this,Vge,Xge.replace("${perlin}",Gge))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new We,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,u=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.aspect=u/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*Ao;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(De);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wx=function(t,e){return wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wx(t,e)};function Wge(t,e){wx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Yge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Hge=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){Wge(e,t);function e(r){var n=t.call(this,Yge,Hge)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(De);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ex=function(t,e){return Ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ex(t,e)};function qge(t,e){Ex(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Zge=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,Qge=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,Ap=function(t){qge(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,Kge,i?Qge:Zge)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new We,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,u;if(this._quality===1||this._blur===0)u=this._kernels[0]+.5,this.uniforms.uOffset[0]=u*o,this.uniforms.uOffset[1]=u*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),c=n,f=l,h=void 0,d=this._quality-1,p=0;p<d;p++)u=this._kernels[p]+.5,this.uniforms.uOffset[0]=u*o,this.uniforms.uOffset[1]=u*s,r.applyFilter(this,c,f,1),h=c,c=f,f=h;u=this._kernels[d]+.5,this.uniforms.uOffset[0]=u*o,this.uniforms.uOffset[1]=u*s,r.applyFilter(this,c,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof We?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(De);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tx=function(t,e){return Tx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Tx(t,e)};function zD(t,e){Tx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Jge=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,eye=function(t){zD(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,WD,Jge)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(De),tye=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){zD(e,t);function e(r){var n=t.call(this,WD,tye)||this;n.bloomScale=1,n.brightness=1,n._resolution=xe.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,u=i.pixelSize,l=i.resolution;return n._extractFilter=new eye(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new Ap(a):new Ap(o,s),n.pixelSize=u,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var u=r.getFilterTexture();this._blurFilter.apply(r,s,u,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=u,r.applyFilter(this,n,i,a),r.returnFilterTexture(u),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:xe.FILTER_RESOLUTION},e})(De);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ax=function(t,e){return Ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ax(t,e)};function rye(t,e){Ax(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iye=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){rye(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,nye,iye)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cx=function(t,e){return Cx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Cx(t,e)};function aye(t,e){Cx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,sye=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){aye(e,t);function e(r){var n=t.call(this,oye,sye)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/Ao},set:function(r){this._angle=r*Ao,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return dn(this.uniforms.lightColor)},set:function(r){gr(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return dn(this.uniforms.shadowColor)},set:function(r){gr(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Px=function(t,e){return Px=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Px(t,e)};function lye(t,e){Px(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){lye(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=xe.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,u;return typeof r=="number"?(s=r,u=r):r instanceof We?(s=r.x,u=r.y):Array.isArray(r)&&(s=r[0],u=r[1]),o.blurXFilter=new mf(!0,s,n,i,a),o.blurYFilter=new mf(!1,u,n,i,a),o.blurYFilter.blendMode=Se.SCREEN,o.defaultFilter=new DD,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ox=function(t,e){return Ox=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ox(t,e)};function uye(t,e){Ox(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fye=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){uye(e,t);function e(r){var n=t.call(this,cye,fye)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,u=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(De);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rx=function(t,e){return Rx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Rx(t,e)};function hye(t,e){Rx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){hye(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,dye,pye)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof Me||(r=Me.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=mn.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?Ir.NEAREST:Ir.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=mn.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(De);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ix=function(t,e){return Ix=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ix(t,e)};function vye(t,e){Ix(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){vye(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,mye,gye)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(gr(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=dn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kx=function(t,e){return kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kx(t,e)};function yye(t,e){kx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _ye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){yye(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,_ye,xye)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(gr(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=dn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(gr(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=dn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mx=function(t,e){return Mx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Mx(t,e)};function bye(t,e){Mx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wye=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){bye(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,Sye,wye)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fx=function(t,e){return Fx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Fx(t,e)};function Eye(t,e){Fx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Aye=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){Eye(e,t);function e(){return t.call(this,Tye,Aye)||this}return e})(De);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nx=function(t,e){return Nx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Nx(t,e)};function Cye(t,e){Nx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Oye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){Cye(e,t);function e(r){var n=t.call(this,Pye,Oye)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,u=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=u,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(De);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lx=function(t,e){return Lx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Lx(t,e)};function Rye(t,e){Lx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Cp=function(){return Cp=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Cp.apply(this,arguments)},Iye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){Rye(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=xe.FILTER_RESOLUTION;var i=r?Cp(Cp({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,u=i.pixelSize,l=i.resolution;n._tintFilter=new De(Iye,kye),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new We,n._tintFilter.resolution=l,n._blurFilter=a?new Ap(a):new Ap(o,s),n.pixelSize=u,n.resolution=l;var c=i.shadowOnly,f=i.rotation,h=i.distance,d=i.alpha,p=i.color;return n.shadowOnly=c,n.rotation=f,n.distance=h,n.alpha=d,n.color=p,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/Ao},set:function(r){this.angle=r*Ao,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return dn(this._tintFilter.uniforms.color)},set:function(r){gr(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:xe.FILTER_RESOLUTION},e})(De);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dx=function(t,e){return Dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Dx(t,e)};function Mye(t,e){Dx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Nye=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){Mye(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,Fye,Nye)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bx=function(t,e){return Bx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Bx(t,e)};function Lye(t,e){Bx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Bye=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){Lye(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,u=i.knockout,l=i.quality,c=Math.round(i.distance);return n=t.call(this,Dye,Bye.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/c).toFixed(7)).replace(/__DIST__/gi,c.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:c,knockout:u}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return dn(this.uniforms.glowColor)},set:function(r){gr(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(De);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jx=function(t,e){return jx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jx(t,e)};function jye(t,e){jx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Uye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$ye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){jye(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,Uye,$ye)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new ro(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,u=o.y;this.uniforms.uKernelSize=s!==0||u!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ux=function(t,e){return Ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ux(t,e)};function Vye(t,e){Ux(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Xye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){Vye(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,Gye,Xye.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],u=s[0];typeof u=="number"?u=gr(u):s[0]=dn(u),n[o*3]=u[0],n[o*3+1]=u[1],n[o*3+2]=u[2];var l=s[1];typeof l=="number"?l=gr(l):s[1]=dn(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $x=function(t,e){return $x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$x(t,e)};function zye(t,e){$x(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Yye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){zye(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,Wye,Yye.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return dn(this.uniforms.outlineColor)},set:function(r){gr(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(De);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vx=function(t,e){return Vx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Vx(t,e)};function Hye(t,e){Vx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Kye=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){Hye(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,qye,Kye)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gx=function(t,e){return Gx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Gx(t,e)};function Zye(t,e){Gx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qye=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Jye=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){Zye(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,Qye,Jye)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xx=function(t,e){return Xx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xx(t,e)};function e0e(t,e){Xx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var t0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,r0e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,n0e=function(t){e0e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,t0e,r0e)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(De);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zx=function(t,e){return zx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zx(t,e)};function i0e(t,e){zx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var a0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,o0e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){i0e(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,a0e,o0e)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(gr(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=dn(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wx=function(t,e){return Wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Wx(t,e)};function fm(t,e){Wx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var s0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,l0e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,YD=function(t){fm(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,s0e,l0e)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new We(0,window.innerHeight/2),o.uniforms.end=a||new We(600,window.innerHeight/2),o.uniforms.delta=new We(30,30),o.uniforms.texSize=new We(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(De),u0e=function(t){fm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(YD),c0e=function(t){fm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(YD);(function(t){fm(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new u0e(r,n,i,a),o.tiltShiftYFilter=new c0e(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(De);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yx=function(t,e){return Yx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Yx(t,e)};function f0e(t,e){Yx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var h0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,d0e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){f0e(e,t);function e(r){var n=t.call(this,h0e,d0e)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new We},e})(De);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hx=function(t,e){return Hx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Hx(t,e)};function p0e(t,e){Hx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function v0e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var m0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,g0e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){p0e(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=v0e(i,["maxKernelSize"]);return n=t.call(this,m0e,g0e.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(De);const qx="shockwaveFilter";function y0e(t,e){const r=t.containerFilters.get(qx);if(r)return r;if(e){const n=new n0e([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(qx,n),n}}function _0e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function x0e(t,e){if(e===0)t.removeFilter(qx);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const Kx=0,Zx="radiusAlphaFilter";class b0e extends De{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new We(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function S0e(t,e){const r=t.containerFilters.get(Zx);if(r)return r;if(e){const n=new b0e(new We(.5,.5),Kx);return n.radius=Kx,t.addFilter(n),t.containerFilters.set(Zx,n),n}}function w0e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:Kx}function E0e(t,e){if(e===0)t.removeFilter(Zx);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class Hh extends mr{constructor(){super();Ae(this,"containerFilters",new Map);Ae(this,"baseX",0);Ae(this,"baseY",0);Ae(this,"alphaFilter",new mx.AlphaFilter(1));this.addFilter(this.alphaFilter)}get alphaFilterVal(){return this.alphaFilter.alpha}set alphaFilterVal(r){this.alphaFilter.alpha=r}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new mx.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new Ege;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new Pge;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new kge;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new Lge;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new Uge;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new zge;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return y0e(this,r)}get shockwaveFilter(){return _0e(this)}set shockwaveFilter(r){x0e(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return S0e(this,r)}get radiusAlphaFilter(){return w0e(this)}set radiusAlphaFilter(r){E0e(this,r)}}var $e;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})($e||($e={}));var Pp=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),R;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(R||(R={}));var je;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(je||(je={}));var Mt;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(Mt||(Mt={}));var zt;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(zt||(zt={}));var Fe;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(Fe||(Fe={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qx=function(t,e){return Qx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Qx(t,e)};function Su(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function fO(t){switch(t.toLowerCase()){case"nearest":return cn.Nearest;case"linear":return cn.Linear;case"mipmap":return cn.MipMap;case"mipmapnearestnearest":return cn.MipMapNearestNearest;case"mipmaplinearnearest":return cn.MipMapLinearNearest;case"mipmapnearestlinear":return cn.MipMapNearestLinear;case"mipmaplinearlinear":return cn.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var cn;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(cn||(cn={}));var no;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(no||(no={}));var Jx=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),T0e=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),A0e=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new hO,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=cn.Nearest,i.uWrap=no.ClampToEdge,i.vWrap=no.ClampToEdge,n.push(i)}var s=new dO;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new C0e(e),o=new Array(4),s=null,u={},l=null;u.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},u.format=function(){},u.filter=function(){s.minFilter=fO(o[1]),s.magFilter=fO(o[2])},u.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=no.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=no.Repeat)},u.pma=function(){s.pma=o[1]=="true"};var c={};c.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},c.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},c.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},c.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},c.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},c.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},c.rotate=function(){var d=o[1],p=0;d.toLocaleLowerCase()=="true"?p=6:d.toLocaleLowerCase()=="false"?p=0:p=(720-parseFloat(d))%360/45,l.rotate=p},c.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new hO,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var d=u[o[0]];d&&d()}i.pages.push(s),r(s.name,function(T){if(T===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=T,s.pma&&(T.alphaMode=Rn.PMA),T.valid||T.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=T.realWidth,s.height=T.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new T0e;var p=new dO;p.name=f,p.page=s;for(var v=null,g=null;;){var m=a.readEntry(o,f=a.readLine());if(m==0)break;var d=c[o[0]];if(d)d();else{v==null&&(v=[],g=[]),v.push(o[0]);for(var y=[],_=0;_<m;_++)y.push(parseInt(o[_+1]));g.push(y)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var x=s.baseTexture.resolution;l.x/=x,l.y/=x,l.width/=x,l.height/=x,l.originalWidth/=x,l.originalHeight/=x,l.offsetX/=x,l.offsetY/=x;var b=l.rotate%4!==0,S=new Ye(l.x,l.y,b?l.height:l.width,b?l.width:l.height),w=new Ye(0,0,l.originalWidth,l.originalHeight),E=new Ye(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);p.texture=new Me(p.page.baseTexture,S,w,E,l.rotate),p.index=l.index,p.texture.updateUvs(),i.regions.push(p)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),C0e=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),hO=function(){function t(){this.minFilter=cn.Nearest,this.magFilter=cn.Nearest,this.uWrap=no.ClampToEdge,this.vWrap=no.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==cn.Linear?e.scaleMode=Ir.LINEAR:this.minFilter==cn.Nearest?e.scaleMode=Ir.NEAREST:(e.mipmap=mn.POW2,r==cn.MipMapNearestNearest?e.scaleMode=Ir.NEAREST:e.scaleMode=Ir.LINEAR)},t}(),dO=function(t){Su(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Jx),P0e=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),O0e=Math.fround||P0e,HD=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),qD=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),de=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),N=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),R0e=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),I0e=function(t){Su(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(R0e),KD=function(t){Su(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(I0e),q=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?O0e(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),hm=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),gf=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),kw=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new hm(function(){return q.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var u=0;u<s;u++){var l=o[u];if(l.bone.active){var c=l.getAttachment();if(c!=null&&c.type===$e.BoundingBox){var f=c;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=q.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var u=a[o],l=u,c=0,f=u.length;c<f;c+=2){var h=l[c],d=l[c+1];e=Math.min(e,h),r=Math.min(r,d),n=Math.max(n,h),i=Math.max(i,d)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,u=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=u&&i>=u)return!1;var l=(i-r)/(n-e),c=l*(a-e)+r;if(c>o&&c<u||(c=l*(s-e)+r,c>o&&c<u))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(u-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,u=0;u<a;u+=2){var l=i[u+1],c=i[o+1];if(l<n&&c>=n||c<n&&l>=n){var f=i[u];f+(n-l)/(c-l)*(i[o]-f)<r&&(s=!s)}o=u}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,u=r-i,l=n-a,c=r*a-n*i,f=o[s-2],h=o[s-1],d=0;d<s;d+=2){var p=o[d],v=o[d+1],g=f*v-h*p,m=f-p,y=h-v,_=u*y-l*m,x=(c*m-u*g)/_;if((x>=f&&x<=p||x>=p&&x<=f)&&(x>=r&&x<=i||x>=i&&x<=r)){var b=(c*y-l*g)/_;if((b>=h&&b<=v||b>=v&&b<=h)&&(b>=n&&b<=a||b>=a&&b<=n))return!0}f=p,h=v}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),k0e={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Ga=[0,0,0],M0e=function(t){Su(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(_i),F0e=function(t){Su(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(XD),Zf=function(t){Su(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),u=n.newContainer();if(n.slotContainers.push(u),n.addChild(u),n.tempClipContainers.push(null),!!s)if(s.type===$e.Region){var l=s.name,c=n.createSprite(o,s,l);o.currentSprite=c,o.currentSpriteName=l,u.addChild(c)}else if(s.type===$e.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,u.addChild(f)}else s.type===$e.Clipping&&(n.createGraphics(o,s),u.addChild(o.clippingContainer),u.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:mr.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return dn(this.tintRgb)},set:function(r){this.tintRgb=gr(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:k0e.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,u=null;o?(s=o.light,u=o.dark):s=this.tintRgb;for(var l=0,c=a.length;l<c;l++){var f=a[l],h=f.getAttachment(),d=this.slotContainers[l];if(!h){d.visible=!1;continue}var p=null;h.sequence&&h.sequence.apply(f,h);var v=h.region,g=h.color;switch(h!=null&&h.type){case $e.Region:var m=d.transform;if(m.setFromMatrix(f.bone.matrix),v=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!v){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var y=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[y]!==void 0)f.sprites[y].visible=!0;else{var _=this.createSprite(f,h,y);d.addChild(_)}f.currentSprite=f.sprites[y],f.currentSpriteName=y}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,v),f.currentSprite.color?p=f.currentSprite.color:(Ga[0]=s[0]*f.color.r*g.r,Ga[1]=s[1]*f.color.g*g.g,Ga[2]=s[2]*f.color.b*g.b,f.currentSprite.tint=dn(Ga)),f.currentSprite.blendMode=f.blendMode;break;case $e.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var x=new om;x._parentID=-1,x._worldID=d.transform._worldID,d.transform=x}if(!v){f.currentMesh&&(f.currentMesh.renderable=!1);break}var b=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==b){var S=b;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[S]!==void 0)f.meshes[S].visible=!0;else{var w=this.createMesh(f,h);d.addChild(w)}f.currentMesh=f.meshes[S],f.currentMeshName=h.name,f.currentMeshId=S}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?p=f.currentMesh.color:(Ga[0]=s[0]*f.color.r*g.r,Ga[1]=s[1]*f.color.g*g.g,Ga[2]=s[2]*f.color.b*g.b,f.currentMesh.tint=dn(Ga)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,v);break;case $e.Clipping:f.currentGraphics||(this.createGraphics(f,h),d.addChild(f.clippingContainer),d.addChild(f.currentGraphics)),this.updateGraphics(f,h),d.alpha=1,d.visible=!0;continue;default:d.visible=!1;continue}if(d.visible=!0,p){var E=f.color.r*g.r,T=f.color.g*g.g,A=f.color.b*g.b;p.setLight(s[0]*E+u[0]*(1-E),s[1]*T+u[1]*(1-T),s[2]*A+u[2]*(1-A)),f.darkColor?(E=f.darkColor.r,T=f.darkColor.g,A=f.darkColor.b):(E=0,T=0,A=0),p.setDark(s[0]*E+u[0]*(1-E),s[1]*T+u[1]*(1-T),s[2]*A+u[2]*(1-A))}d.alpha=f.color.a}for(var O=this.skeleton.drawOrder,P=null,k=null,l=0,c=O.length;l<c;l++){var f=a[O[l].data.index],d=this.slotContainers[O[l].data.index];if(k||d.parent!==null&&d.parent!==this&&(d.parent.removeChild(d),d.parent=this),f.currentGraphics&&f.getAttachment())k=f.clippingContainer,P=f.getAttachment(),k.children.length=0,this.children[l]=d,P.endSlot===f.data&&(P.endSlot=null);else if(k){var M=this.tempClipContainers[l];M||(M=this.tempClipContainers[l]=this.newContainer(),M.visible=!1),this.children[l]=M,d.parent=null,k.addChild(d),P.endSlot==f.data&&(k.renderable=!0,k=null,P=null)}else this.children[l]=d}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*N.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}mr.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),Ln.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new Pl([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new Jx,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var u=this.skeleton.slots[o];if(!u)return!1;var l=u.getAttachment();if(n===l.name){var c=s.region;return i?(c=new Jx,c.texture=i,c.size=a,u.hackRegion=c,u.hackAttachment=l):(u.hackRegion=null,u.hackAttachment=null),u.currentSprite&&u.currentSprite.region!=c?(this.setSpriteRegion(l,u.currentSprite,c),u.currentSprite.region=c):u.currentMesh&&u.currentMesh.region!=c&&this.setMeshRegion(l,u.currentMesh,c),!0}return!1},e.prototype.newContainer=function(){return new mr},e.prototype.newSprite=function(r){return new M0e(r)},e.prototype.newGraphics=function(){return new zl},e.prototype.newMesh=function(r,n,i,a,o){return new F0e(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,u=this.skeleton.slots.length;s<u;s++){var l=this.skeleton.slots[s],c=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;c.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(mr);Object.defineProperty(Zf.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function N0e(t){return t.type===mt.TYPE.JSON}function L0e(t){return t.xhrType===mt.XHR_RESPONSE_TYPE.BUFFER}mt.setExtensionXhrType("skel",mt.XHR_RESPONSE_TYPE.BUFFER);var D0e=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=N0e(r)&&r.data.bones,a=L0e(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var u=r.metadata||{},l=u?u.spineSkeletonScale:null;l&&(o.scale=l);var c=u.spineAtlas;if(c===!1)return n();if(c&&c.pages)return e.parseData(r,o,c,s),n();var f=u.spineAtlasSuffix||".atlas",h=r.url,d=h.indexOf("?");d>0&&(h=h.substr(0,d)),h=h.substr(0,h.lastIndexOf("."))+f,u.spineAtlasFile&&(h=u.spineAtlasFile),h=h.replace(this.baseUrl,"");var p={crossOrigin:r.crossOrigin,xhrType:mt.XHR_RESPONSE_TYPE.TEXT,metadata:u.spineMetadata||null,parentResource:r},v={crossOrigin:r.crossOrigin,metadata:u.imageMetadata||null,parentResource:r},g=r.url.substr(0,r.url.lastIndexOf("/")+1);g=g.replace(this.baseUrl,"");var m=u.imageNamePrefix||r.name+"_atlas_page_",y=u.images?pO(u.images):u.image?pO({default:u.image}):u.imageLoader?u.imageLoader(this,m,g,v):B0e(this,m,g,v);function _(x){new A0e(x,y,function(b){b&&e.parseData(r,o,b,s),n()})}u.atlasRawData?_(u.atlasRawData):this.add(r.name+"_atlas",h,p,function(x){x.error?n():_(x.data)})}}},t}();function B0e(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,u=t.resources[o];if(u){var l=function(){a(u.texture.baseTexture)};u.texture?l():u.onAfterMiddleware.add(l)}else t.add(o,s,n,function(c){c.error?a(null):(i.indexOf("-pma.")>=0&&(c.texture.baseTexture.alphaMode=Rn.PMA),a(c.texture.baseTexture))})}}function pO(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var e1=function(t,e){return e1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},e1(t,e)};function Nt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");e1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mw=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Fs=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var u=r.bone.skeleton,l=r.deform,c=this.vertices,f=this.bones;if(f==null){l.length>0&&(c=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,g=h.c,m=h.b,y=h.d,_=n,x=o;x<i;_+=2,x+=s){var b=c[_],S=c[_+1];a[x]=b*v+S*g+d,a[x+1]=b*m+S*y+p}return}for(var w=0,E=0,T=0;T<n;T+=2){var A=f[w];w+=A+1,E+=A}var O=u.bones;if(l.length==0)for(var x=o,g=E*3;x<i;x+=s){var P=0,k=0,A=f[w++];for(A+=w;w<A;w++,g+=3){var h=O[f[w]].matrix,b=c[g],S=c[g+1],M=c[g+2];P+=(b*h.a+S*h.c+h.tx)*M,k+=(b*h.b+S*h.d+h.ty)*M}a[x]=P,a[x+1]=k}else for(var B=l,x=o,g=E*3,j=E<<1;x<i;x+=s){var P=0,k=0,A=f[w++];for(A+=w;w<A;w++,g+=3,j+=2){var h=O[f[w]].matrix,b=c[g]+B[j],S=c[g+1]+B[j+1],M=c[g+2];P+=(b*h.a+S*h.c+h.tx)*M,k+=(b*h.b+S*h.d+h.ty)*M}a[x]=P,a[x+1]=k}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),q.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=q.newFloatArray(this.vertices.length),q.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(Mw),ZD=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.BoundingBox,n.color=new de(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Fs),QD=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Clipping,n.color=new de(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Fs),dm=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Mesh,n.color=new de(1,1,1,1),n.tempColor=new de(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),q.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),q.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),q.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(Fs),yf=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Path,n.closed=!1,n.constantSpeed=!1,n.color=new de(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),q.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Fs),JD=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Point,n.color=new de(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=N.cosDeg(this.rotation),a=N.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*N.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Fs),Fw=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new de,this.darkColor=e.darkColor==null?null:new de,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),Nw=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new de(1,1,1,1),n.offset=q.newFloatArray(8),n.uvs=q.newFloatArray(8),n.tempColor=new de(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,u=this.rotation*Math.PI/180,l=Math.cos(u),c=Math.sin(u),f=i*l+this.x,h=i*c,d=a*l+this.y,p=a*c,v=o*l+this.x,g=o*c,m=s*l+this.y,y=s*c,_=this.offset;_[e.OX1]=f-p,_[e.OY1]=d+h,_[e.OX2]=f-y,_[e.OY2]=m+h,_[e.OX3]=v-y,_[e.OY3]=m+g,_[e.OX4]=v-p,_[e.OY4]=d+g},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof Fw?r.bone.matrix:r.matrix,u=s.tx,l=s.ty,c=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,q.arrayCopy(this.uvs,0,r.uvs,0,8),q.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(Mw),j0e=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=N.randomTriangular(-this.jitterX,this.jitterY),e.y+=N.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),U0e=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*N.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(o*o+s*s);if(u<this.radius){var l=t.interpolation.apply(0,a,(this.radius-u)/this.radius),c=Math.cos(l),f=Math.sin(l);e.x=c*o-f*s+this.worldX,e.y=f*o+c*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new KD(2),t}(),er=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,u){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,c=0,f=l.length;c<f;c++)l[c].apply(e,r,n,a,o,s,u)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Mr;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Mr||(Mr={}));var ha=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=q.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,u=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,c=o*2+u,f=s*2+l,h=r*.3+o+u*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var g=h,m=d,y=p+t.BEZIER_SIZE-1;p<y;p+=2)v[p]=g,v[p+1]=m,h+=c,d+=f,c+=u,f+=l,g+=h,m+=d},t.prototype.getCurvePercent=function(e,r){r=N.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,u=i+t.BEZIER_SIZE-1;i<u;i+=2)if(o=n[i],o>=r){var l=void 0,c=void 0;return i==s?(l=0,c=0):(l=n[i-2],c=n[i-1]),c+(n[i+1]-c)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Mn=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Mr.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.rotation=c.data.rotation;return;case R.first:var f=c.data.rotation-c.rotation;c.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case R.setup:c.rotation=c.data.rotation+h*o;break;case R.first:case R.replace:h+=c.data.rotation-c.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case R.add:c.rotation+=h*o}return}var d=er.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],g=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),m=l[d+e.ROTATION]-p;switch(m=p+(m-(16384-(16384.499999999996-m/360|0))*360)*g,s){case R.setup:c.rotation=c.data.rotation+(m-(16384-(16384.499999999996-m/360|0))*360)*o;break;case R.first:case R.replace:m+=c.data.rotation-c.rotation;case R.add:c.rotation+=(m-(16384-(16384.499999999996-m/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(ha),Ss=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Mr.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.x=c.data.x,c.y=c.data.y;return;case R.first:c.x+=(c.data.x-c.x)*o,c.y+=(c.data.y-c.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=er.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case R.setup:c.x=c.data.x+f*o,c.y=c.data.y+h*o;break;case R.first:case R.replace:c.x+=(c.data.x+f-c.x)*o,c.y+=(c.data.y+h-c.y)*o;break;case R.add:c.x+=f*o,c.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(ha),Lw=function(t){Nt(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Mr.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.scaleX=c.data.scaleX,c.scaleY=c.data.scaleY;return;case R.first:c.scaleX+=(c.data.scaleX-c.scaleX)*o,c.scaleY+=(c.data.scaleY-c.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*c.data.scaleX,h=l[l.length+e.PREV_Y]*c.data.scaleY;else{var d=er.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*c.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*c.data.scaleY}if(o==1)s==R.add?(c.scaleX+=f-c.data.scaleX,c.scaleY+=h-c.data.scaleY):(c.scaleX=f,c.scaleY=h);else{var g=0,m=0;if(u==je.mixOut)switch(s){case R.setup:g=c.data.scaleX,m=c.data.scaleY,c.scaleX=g+(Math.abs(f)*N.signum(g)-g)*o,c.scaleY=m+(Math.abs(h)*N.signum(m)-m)*o;break;case R.first:case R.replace:g=c.scaleX,m=c.scaleY,c.scaleX=g+(Math.abs(f)*N.signum(g)-g)*o,c.scaleY=m+(Math.abs(h)*N.signum(m)-m)*o;break;case R.add:g=c.scaleX,m=c.scaleY,c.scaleX=g+(Math.abs(f)*N.signum(g)-c.data.scaleX)*o,c.scaleY=m+(Math.abs(h)*N.signum(m)-c.data.scaleY)*o}else switch(s){case R.setup:g=Math.abs(c.data.scaleX)*N.signum(f),m=Math.abs(c.data.scaleY)*N.signum(h),c.scaleX=g+(f-g)*o,c.scaleY=m+(h-m)*o;break;case R.first:case R.replace:g=Math.abs(c.scaleX)*N.signum(f),m=Math.abs(c.scaleY)*N.signum(h),c.scaleX=g+(f-g)*o,c.scaleY=m+(h-m)*o;break;case R.add:g=N.signum(f),m=N.signum(h),c.scaleX=Math.abs(c.scaleX)*g+(f-Math.abs(c.data.scaleX)*g)*o,c.scaleY=Math.abs(c.scaleY)*m+(h-Math.abs(c.data.scaleY)*m)*o}}}},e}(Ss),Dw=function(t){Nt(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Mr.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.shearX=c.data.shearX,c.shearY=c.data.shearY;return;case R.first:c.shearX+=(c.data.shearX-c.shearX)*o,c.shearY+=(c.data.shearY-c.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=er.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case R.setup:c.shearX=c.data.shearX+f*o,c.shearY=c.data.shearY+h*o;break;case R.first:case R.replace:c.shearX+=(c.data.shearX+f-c.shearX)*o,c.shearY+=(c.data.shearY+h-c.shearY)*o;break;case R.add:c.shearX+=f*o,c.shearY+=h*o}}},e}(Ss),_f=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Mr.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.color.setFromColor(l.data.color);return;case R.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,g=0;if(i>=c[c.length-e.ENTRIES]){var m=c.length;d=c[m+e.PREV_R],p=c[m+e.PREV_G],v=c[m+e.PREV_B],g=c[m+e.PREV_A]}else{var y=er.binarySearch(c,i,e.ENTRIES);d=c[y+e.PREV_R],p=c[y+e.PREV_G],v=c[y+e.PREV_B],g=c[y+e.PREV_A];var _=c[y],x=this.getCurvePercent(y/e.ENTRIES-1,1-(i-_)/(c[y+e.PREV_TIME]-_));d+=(c[y+e.R]-d)*x,p+=(c[y+e.G]-p)*x,v+=(c[y+e.B]-v)*x,g+=(c[y+e.A]-g)*x}if(o==1)l.color.set(d,p,v,g);else{var f=l.color;s==R.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(g-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(ha),xf=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Mr.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,u,l,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=u,this.frames[r+e.G2]=l,this.frames[r+e.B2]=c},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case R.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,g=0,m=0,y=0,_=0,x=0,b=0;if(i>=c[c.length-e.ENTRIES]){var S=c.length;v=c[S+e.PREV_R],g=c[S+e.PREV_G],m=c[S+e.PREV_B],y=c[S+e.PREV_A],_=c[S+e.PREV_R2],x=c[S+e.PREV_G2],b=c[S+e.PREV_B2]}else{var w=er.binarySearch(c,i,e.ENTRIES);v=c[w+e.PREV_R],g=c[w+e.PREV_G],m=c[w+e.PREV_B],y=c[w+e.PREV_A],_=c[w+e.PREV_R2],x=c[w+e.PREV_G2],b=c[w+e.PREV_B2];var E=c[w],T=this.getCurvePercent(w/e.ENTRIES-1,1-(i-E)/(c[w+e.PREV_TIME]-E));v+=(c[w+e.R]-v)*T,g+=(c[w+e.G]-g)*T,m+=(c[w+e.B]-m)*T,y+=(c[w+e.A]-y)*T,_+=(c[w+e.R2]-_)*T,x+=(c[w+e.G2]-x)*T,b+=(c[w+e.B2]-b)*T}if(o==1)l.color.set(v,g,m,y),l.darkColor.set(_,x,b,1);else{var f=l.color,h=l.darkColor;s==R.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(g-f.g)*o,(m-f.b)*o,(y-f.a)*o),h.add((_-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(ha),ns=function(){function t(e){this.frames=q.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Mr.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var u=e.slots[this.slotIndex];if(u.bone.active){if(s==je.mixOut){o==R.setup&&this.setAttachment(e,u,u.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==R.setup||o==R.first)&&this.setAttachment(e,u,u.data.attachmentName);return}var c=0;n>=l[l.length-1]?c=l.length-1:c=er.binarySearch(l,n,1)-1;var f=this.attachmentNames[c];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),vO=null,Bw=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r),n.frameVertices=new Array(r),vO==null&&(vO=q.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Mr.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=l.getAttachment();if(!(!(c instanceof Fs)||c.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=R.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=c;switch(s){case R.setup:f.length=0;return;case R.first:if(o==1){f.length=0;break}var g=q.setArraySize(f,d);if(v.bones==null)for(var m=v.vertices,y=0;y<d;y++)g[y]+=(m[y]-g[y])*o;else{o=1-o;for(var y=0;y<d;y++)g[y]*=o}}return}var _=q.setArraySize(f,d);if(i>=p[p.length-1]){var x=h[p.length-1];if(o==1)if(s==R.add){var v=c;if(v.bones==null)for(var m=v.vertices,b=0;b<d;b++)_[b]+=x[b]-m[b];else for(var S=0;S<d;S++)_[S]+=x[S]}else q.arrayCopy(x,0,_,0,d);else switch(s){case R.setup:{var w=c;if(w.bones==null)for(var m=w.vertices,E=0;E<d;E++){var T=m[E];_[E]=T+(x[E]-T)*o}else for(var A=0;A<d;A++)_[A]=x[A]*o;break}case R.first:case R.replace:for(var O=0;O<d;O++)_[O]+=(x[O]-_[O])*o;break;case R.add:var v=c;if(v.bones==null)for(var m=v.vertices,P=0;P<d;P++)_[P]+=(x[P]-m[P])*o;else for(var k=0;k<d;k++)_[k]+=x[k]*o}return}var M=er.binarySearch(p,i),B=h[M-1],j=h[M],z=p[M],J=this.getCurvePercent(M-1,1-(i-z)/(p[M-1]-z));if(o==1)if(s==R.add){var v=c;if(v.bones==null)for(var m=v.vertices,Z=0;Z<d;Z++){var $=B[Z];_[Z]+=$+(j[Z]-$)*J-m[Z]}else for(var F=0;F<d;F++){var $=B[F];_[F]+=$+(j[F]-$)*J}}else for(var G=0;G<d;G++){var $=B[G];_[G]=$+(j[G]-$)*J}else switch(s){case R.setup:{var V=c;if(V.bones==null)for(var m=V.vertices,U=0;U<d;U++){var $=B[U],T=m[U];_[U]=T+($+(j[U]-$)*J-T)*o}else for(var H=0;H<d;H++){var $=B[H];_[H]=($+(j[H]-$)*J)*o}break}case R.first:case R.replace:for(var ee=0;ee<d;ee++){var $=B[ee];_[ee]+=($+(j[ee]-$)*J-_[ee])*o}break;case R.add:var v=c;if(v.bones==null)for(var m=v.vertices,ie=0;ie<d;ie++){var $=B[ie];_[ie]+=($+(j[ie]-$)*J-m[ie])*o}else for(var ae=0;ae<d;ae++){var $=B[ae];_[ae]+=($+(j[ae]-$)*J)*o}}}}},e}(ha),pm=function(){function t(e){this.frames=q.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Mr.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var u=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=u[l-1])return;if(!(n<u[0])){var c=0;if(r<u[0])c=0;else{c=er.binarySearch(u,r);for(var f=u[c];c>0&&u[c-1]==f;)c--}for(;c<l&&n>=u[c];c++)i.push(this.events[c])}}},t}(),Ol=function(){function t(e){this.frames=q.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Mr.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var u=e.drawOrder,l=e.slots;if(s==je.mixOut&&o==R.setup){q.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var c=this.frames;if(n<c[0]){(o==R.setup||o==R.first)&&q.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=c[c.length-1]?f=c.length-1:f=er.binarySearch(c,n)-1;var h=this.drawOrders[f];if(h==null)q.arrayCopy(l,0,u,0,l.length);else for(var d=0,p=h.length;d<p;d++)u[d]=l[h[d]]},t}(),bf=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Mr.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=u?1:0},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.ikConstraints[this.ikConstraintIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.mix=c.data.mix,c.softness=c.data.softness,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch;return;case R.first:c.mix+=(c.data.mix-c.mix)*o,c.softness+=(c.data.softness-c.softness)*o,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==R.setup?(c.mix=c.data.mix+(l[l.length+e.PREV_MIX]-c.data.mix)*o,c.softness=c.data.softness+(l[l.length+e.PREV_SOFTNESS]-c.data.softness)*o,u==je.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],c.compress=l[l.length+e.PREV_COMPRESS]!=0,c.stretch=l[l.length+e.PREV_STRETCH]!=0)):(c.mix+=(l[l.length+e.PREV_MIX]-c.mix)*o,c.softness+=(l[l.length+e.PREV_SOFTNESS]-c.softness)*o,u==je.mixIn&&(c.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],c.compress=l[l.length+e.PREV_COMPRESS]!=0,c.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=er.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f+e.PREV_SOFTNESS],p=l[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==R.setup?(c.mix=c.data.mix+(h+(l[f+e.MIX]-h)*v-c.data.mix)*o,c.softness=c.data.softness+(d+(l[f+e.SOFTNESS]-d)*v-c.data.softness)*o,u==je.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=l[f+e.PREV_BEND_DIRECTION],c.compress=l[f+e.PREV_COMPRESS]!=0,c.stretch=l[f+e.PREV_STRETCH]!=0)):(c.mix+=(h+(l[f+e.MIX]-h)*v-c.mix)*o,c.softness+=(d+(l[f+e.SOFTNESS]-d)*v-c.softness)*o,u==je.mixIn&&(c.bendDirection=l[f+e.PREV_BEND_DIRECTION],c.compress=l[f+e.PREV_COMPRESS]!=0,c.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(ha),Sf=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Mr.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.transformConstraints[this.transformConstraintIndex];if(c.active){if(i<l[0]){var f=c.data;switch(s){case R.setup:c.rotateMix=f.rotateMix,c.translateMix=f.translateMix,c.scaleMix=f.scaleMix,c.shearMix=f.shearMix;return;case R.first:c.rotateMix+=(f.rotateMix-c.rotateMix)*o,c.translateMix+=(f.translateMix-c.translateMix)*o,c.scaleMix+=(f.scaleMix-c.scaleMix)*o,c.shearMix+=(f.shearMix-c.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var g=l.length;h=l[g+e.PREV_ROTATE],d=l[g+e.PREV_TRANSLATE],p=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR]}else{var m=er.binarySearch(l,i,e.ENTRIES);h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR];var y=l[m],_=this.getCurvePercent(m/e.ENTRIES-1,1-(i-y)/(l[m+e.PREV_TIME]-y));h+=(l[m+e.ROTATE]-h)*_,d+=(l[m+e.TRANSLATE]-d)*_,p+=(l[m+e.SCALE]-p)*_,v+=(l[m+e.SHEAR]-v)*_}if(s==R.setup){var f=c.data;c.rotateMix=f.rotateMix+(h-f.rotateMix)*o,c.translateMix=f.translateMix+(d-f.translateMix)*o,c.scaleMix=f.scaleMix+(p-f.scaleMix)*o,c.shearMix=f.shearMix+(v-f.shearMix)*o}else c.rotateMix+=(h-c.rotateMix)*o,c.translateMix+=(d-c.translateMix)*o,c.scaleMix+=(p-c.scaleMix)*o,c.shearMix+=(v-c.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(ha),ql=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Mr.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.pathConstraints[this.pathConstraintIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.position=c.data.position;return;case R.first:c.position+=(c.data.position-c.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=er.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==R.setup?c.position=c.data.position+(f-c.data.position)*o:c.position+=(f-c.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(ha),jw=function(t){Nt(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Mr.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.pathConstraints[this.pathConstraintIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.spacing=c.data.spacing;return;case R.first:c.spacing+=(c.data.spacing-c.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=er.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==R.setup?c.spacing=c.data.spacing+(f-c.data.spacing)*o:c.spacing+=(f-c.spacing)*o}},e}(ql),wf=function(t){Nt(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Mr.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.pathConstraints[this.pathConstraintIndex];if(c.active){if(i<l[0]){switch(s){case R.setup:c.rotateMix=c.data.rotateMix,c.translateMix=c.data.translateMix;return;case R.first:c.rotateMix+=(c.data.rotateMix-c.rotateMix)*o,c.translateMix+=(c.data.translateMix-c.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=er.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==R.setup?(c.rotateMix=c.data.rotateMix+(f-c.data.rotateMix)*o,c.translateMix=c.data.translateMix+(h-c.data.translateMix)*o):(c.rotateMix+=(f-c.rotateMix)*o,c.translateMix+=(h-c.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(ha),e3=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new r3(this),this.propertyIDs=new HD,this.animationsChanged=!1,this.trackEntryPool=new hm(function(){return new t3}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var u=a.trackLast-s.delay;if(u>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(u/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var u=a==0?R.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var c=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||u==R.add)for(var p=0;p<h;p++){q.webkit602BugfixHelper(l,u);var v=d[p];v instanceof ns?this.applyAttachmentTimeline(v,e,f,u,!0):v.apply(e,c,f,r,l,u,je.mixIn)}else{var g=s.timelineMode,m=s.timelinesRotation.length==0;m&&q.setArraySize(s.timelinesRotation,h<<1,null);for(var y=s.timelinesRotation,p=0;p<h;p++){var _=d[p],x=g[p]==t.SUBSEQUENT?u:R.setup;_ instanceof Mn?this.applyRotateTimeline(_,e,f,l,x,y,p<<1,m):_ instanceof ns?this.applyAttachmentTimeline(_,e,f,u,!0):(q.webkit602BugfixHelper(l,u),_.apply(e,c,f,r,l,x,je.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var b=this.unkeyedState+t.SETUP,S=e.slots,w=0,E=e.slots.length;w<E;w++){var T=S[w];if(T.attachmentState==b){var A=T.data.attachmentName;T.setAttachment(A==null?null:e.getAttachment(T.data.index,A))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==R.first&&(n=R.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=R.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,u=a<i.drawOrderThreshold,l=i.animationLast,c=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==R.add)for(var v=0;v<f;v++)h[v].apply(r,l,c,o,p,n,je.mixOut);else{var g=i.timelineMode,m=i.timelineHoldMix,y=i.timelinesRotation.length==0;y&&q.setArraySize(i.timelinesRotation,f<<1,null);var _=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var x=h[v],b=je.mixOut,S=void 0,w=0;switch(g[v]){case t.SUBSEQUENT:if(!u&&x instanceof Ol)continue;S=n,w=p;break;case t.FIRST:S=R.setup,w=p;break;case t.HOLD_SUBSEQUENT:S=n,w=d;break;case t.HOLD_FIRST:S=R.setup,w=d;break;default:S=R.setup;var E=m[v];w=d*Math.max(0,1-E.mixTime/E.mixDuration);break}i.totalAlpha+=w,x instanceof Mn?this.applyRotateTimeline(x,r,c,w,S,_,v<<1,y):x instanceof ns?this.applyAttachmentTimeline(x,r,c,S,s):(q.webkit602BugfixHelper(w,n),u&&x instanceof Ol&&S==R.setup&&(b=je.mixIn),x.apply(r,l,c,o,w,S,b))}}return e.mixDuration>0&&this.queueEvents(i,c),this.events.length=0,i.nextAnimationLast=c,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==R.setup||i==R.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var u;n>=s[s.length-1]?u=s.length-1:u=er.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[u],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,u){if(u&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,je.mixIn);return}var l=e,c=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,d=0;if(n<c[0])switch(a){case R.setup:f.rotation=f.data.rotation;default:return;case R.first:h=f.rotation,d=f.data.rotation}else if(h=a==R.setup?f.data.rotation:f.rotation,n>=c[c.length-Mn.ENTRIES])d=f.data.rotation+c[c.length+Mn.PREV_ROTATION];else{var p=er.binarySearch(c,n,Mn.ENTRIES),v=c[p+Mn.PREV_ROTATION],g=c[p],m=l.getCurvePercent((p>>1)-1,1-(n-g)/(c[p+Mn.PREV_TIME]-g));d=c[p+Mn.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*m+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var y=0,_=d-h;if(_-=(16384-(16384.499999999996-_/360|0))*360,_==0)y=o[s];else{var x=0,b=0;u?(x=0,b=_):(x=o[s],b=o[s+1]);var S=_>0,w=x>=0;N.signum(b)!=N.signum(_)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*N.signum(x)),w=S),y=_+x-x%360,w!=S&&(y+=360*N.signum(x)),o[s]=y}o[s+1]=_,h+=y*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,u=0,l=s.length;u<l;u++){var c=s[u];if(c.time<o)break;c.time>i||this.queue.event(e,c)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);u<l;u++){var h=s[u];h.time<n||this.queue.event(e,s[u])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(q.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=R.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=R.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=q.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=q.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var u=0;u<i;u++)a[u]=s.add(n[u].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var u=0;u<i;u++){var l=n[u],c=l.getPropertyId();if(!s.add(c))a[u]=t.SUBSEQUENT;else if(r==null||l instanceof ns||l instanceof Ol||l instanceof pm||!r.animation.hasTimeline(c))a[u]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(c)){if(e.mixDuration>0){a[u]=t.HOLD_MIX,o[u]=f;continue e}break}a[u]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new er("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),t3=function(){function t(){this.mixBlend=R.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),r3=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(on.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(on.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(on.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(on.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(on.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(on.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case on.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case on.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case on.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case on.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case on.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=N.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case on.event:var u=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,u);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,u);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,u),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,u);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),on;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(on||(on={}));var $0e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),n3=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),Uw=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new Nw(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new dm(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new ZD(r)},t.prototype.newPathAttachment=function(e,r){return new yf(r)},t.prototype.newPointAttachment=function(e,r){return new JD(r)},t.prototype.newClippingAttachment=function(e,r){return new QD(r)},t}(),t1=function(){function t(e,r,n){if(this.matrix=new Ut,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var u=this.parent,l=this.matrix,c=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(u==null){var h=this.skeleton,d=n+90+s;l.a=N.cosDeg(n+o)*i*c,l.c=N.cosDeg(d)*a*c,l.b=N.sinDeg(n+o)*i*f,l.d=N.sinDeg(d)*a*f,l.tx=e*c+h.x,l.ty=r*f+h.y;return}var p=u.matrix.a,v=u.matrix.c,g=u.matrix.b,m=u.matrix.d;switch(l.tx=p*e+v*r+u.matrix.tx,l.ty=g*e+m*r+u.matrix.ty,this.data.transformMode){case Fe.Normal:{var d=n+90+s,y=N.cosDeg(n+o)*i,_=N.cosDeg(d)*a,x=N.sinDeg(n+o)*i,b=N.sinDeg(d)*a;l.a=p*y+v*x,l.c=p*_+v*b,l.b=g*y+m*x,l.d=g*_+m*b;return}case Fe.OnlyTranslation:{var d=n+90+s;l.a=N.cosDeg(n+o)*i,l.c=N.cosDeg(d)*a,l.b=N.sinDeg(n+o)*i,l.d=N.sinDeg(d)*a;break}case Fe.NoRotationOrReflection:{var S=p*p+g*g,w=0;S>1e-4?(S=Math.abs(p*m-v*g)/S,p/=this.skeleton.scaleX,g/=this.skeleton.scaleY,v=g*S,m=p*S,w=Math.atan2(g,p)*N.radDeg):(p=0,g=0,w=90-Math.atan2(m,v)*N.radDeg);var E=n+o-w,T=n+s-w+90,y=N.cosDeg(E)*i,_=N.cosDeg(T)*a,x=N.sinDeg(E)*i,b=N.sinDeg(T)*a;l.a=p*y-v*x,l.c=p*_-v*b,l.b=g*y+m*x,l.d=g*_+m*b;break}case Fe.NoScale:case Fe.NoScaleOrReflection:{var A=N.cosDeg(n),O=N.sinDeg(n),P=(p*A+v*O)/c,k=(g*A+m*O)/f,S=Math.sqrt(P*P+k*k);S>1e-5&&(S=1/S),P*=S,k*=S,S=Math.sqrt(P*P+k*k),this.data.transformMode==Fe.NoScale&&p*m-v*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(S=-S);var M=Math.PI/2+Math.atan2(k,P),B=Math.cos(M)*S,j=Math.sin(M)*S,y=N.cosDeg(o)*i,_=N.cosDeg(90+s)*a,x=N.sinDeg(o)*i,b=N.sinDeg(90+s)*a;l.a=P*y+B*x,l.c=P*_+B*b,l.b=k*y+j*x,l.d=k*_+j*b;break}}l.a*=c,l.c*=c,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*N.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*N.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*N.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*N.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,u=i*n.a,l=i*n.c,c=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=u*r.b-c*r.a,p=u*r.d-c*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*N.radDeg,this.arotation=Math.atan2(d,f)*N.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*N.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),u=e.x-r.tx,l=e.y-r.ty;return e.x=u*o*s-l*i*s,e.y=l*n*s-u*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=N.sinDeg(e),n=N.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*N.radDeg},t.prototype.localToWorldRotation=function(e){var r=N.sinDeg(e),n=N.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*N.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=N.cosDeg(e),u=N.sinDeg(e);r.a=s*n-u*a,r.c=s*i-u*o,r.b=u*n+s*a,r.d=u*i+s*o,this.appliedValid=!1},t}(),$w=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Fe.Normal,this.skinRequired=!1,this.color=new de,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),vm=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),Vw=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),Gw=function(){function t(e){this.name=e}return t}(),i3=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var u=e.parent.matrix,l=u.a,c=u.c,f=u.b,h=u.d,d=-e.ashearX-e.arotation,p=0,v=0;switch(e.data.transformMode){case Fe.OnlyTranslation:p=r-e.worldX,v=n-e.worldY;break;case Fe.NoRotationOrReflection:var g=Math.abs(l*h-c*f)/(l*l+f*f),m=l/e.skeleton.scaleX,y=f/e.skeleton.scaleY;c=-y*g*e.skeleton.scaleX,h=m*g*e.skeleton.scaleY,d+=Math.atan2(y,m)*N.radDeg;default:var _=r-u.tx,x=n-u.ty,b=l*h-c*f;p=(_*h-x*c)/b-e.ax,v=(x*l-_*f)/b-e.ay}d+=Math.atan2(v,p)*N.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var S=e.ascaleX,w=e.ascaleY;if(i||a){switch(e.data.transformMode){case Fe.NoScale:case Fe.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var E=e.data.length*S,T=Math.sqrt(p*p+v*v);if(i&&T<E||a&&T>E&&E>1e-4){var g=(T/E-1)*s+1;S*=g,o&&(w*=g)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,S,w,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,u){if(u==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,c=e.ay,f=e.ascaleX,h=f,d=e.ascaleY,p=r.ascaleX,v=e.matrix,g=0,m=0,y=0;f<0?(f=-f,g=180,y=-1):(g=0,y=1),d<0&&(d=-d,y=-y),p<0?(p=-p,m=180):m=0;var _=r.ax,x=0,b=0,S=0,w=v.a,E=v.c,T=v.b,A=v.d,O=Math.abs(f-d)<=1e-4;O?(x=r.ay,b=w*_+E*x+v.tx,S=T*_+A*x+v.ty):(x=0,b=w*_+v.tx,S=T*_+v.ty);var P=e.parent.matrix;w=P.a,E=P.c,T=P.b,A=P.d;var k=1/(w*A-E*T),M=b-P.tx,B=S-P.ty,j=(M*A-B*E)*k-l,z=(B*w-M*T)*k-c,J=Math.sqrt(j*j+z*z),Z=r.data.length*p,$,F;if(J<1e-4){this.apply1(e,n,i,!1,o,!1,u),r.updateWorldTransformWith(_,x,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}M=n-P.tx,B=i-P.ty;var G=(M*A-B*E)*k-l,V=(B*w-M*T)*k-c,U=G*G+V*V;if(s!=0){s*=f*(p+1)/2;var H=Math.sqrt(U),ee=H-J-Z*f+s;if(ee>0){var ie=Math.min(1,ee/(s*2))-1;ie=(ee-s*(1-ie*ie))/H,G-=ie*G,V-=ie*V,U=G*G+V*V}}e:if(O){Z*=f;var ae=(U-J*J-Z*Z)/(2*J*Z);ae<-1?ae=-1:ae>1&&(ae=1,o&&(h*=(Math.sqrt(U)/(J+Z)-1)*u+1)),F=Math.acos(ae)*a,w=J+Z*ae,E=Z*Math.sin(F),$=Math.atan2(V*w-G*E,G*w+V*E)}else{w=f*Z,E=d*Z;var pe=w*w,ye=E*E,oe=Math.atan2(V,G);T=ye*J*J+pe*U-pe*ye;var _e=-2*ye*J,Ce=ye-pe;if(A=_e*_e-4*Ce*T,A>=0){var be=Math.sqrt(A);_e<0&&(be=-be),be=-(_e+be)/2;var Oe=be/Ce,ke=T/be,we=Math.abs(Oe)<Math.abs(ke)?Oe:ke;if(we*we<=U){B=Math.sqrt(U-we*we)*a,$=oe-Math.atan2(B,we),F=Math.atan2(B/d,(we-J)/f);break e}}var Xe=N.PI,tt=J-w,Et=tt*tt,$t=0,Ht=0,_t=J+w,lr=_t*_t,Dr=0;T=-w*J/(pe-ye),T>=-1&&T<=1&&(T=Math.acos(T),M=w*Math.cos(T)+J,B=E*Math.sin(T),A=M*M+B*B,A<Et&&(Xe=T,Et=A,tt=M,$t=B),A>lr&&(Ht=T,lr=A,_t=M,Dr=B)),U<=(Et+lr)/2?($=oe-Math.atan2($t*a,tt),F=Xe*a):($=oe-Math.atan2(Dr*a,_t),F=Ht*a)}var ur=Math.atan2(x,_)*y,xr=e.arotation;$=($-ur)*N.radDeg+g-xr,$>180?$-=360:$<-180&&($+=360),e.updateWorldTransformWith(l,c,xr+$*u,h,e.ascaleY,0,0),xr=r.arotation,F=((F+ur)*N.radDeg-r.ashearX)*y+m-xr,F>180?F-=360:F<-180&&(F+=360),r.updateWorldTransformWith(_,x,xr+F*u,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),Xw=function(t){Nt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(vm),zw=function(t){Nt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(vm),dr;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(dr||(dr={}));var a3=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof yf){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,u=s==dr.Length,l=o.rotateMode,c=l==zt.Tangent,f=l==zt.ChainScale,h=this.bones.length,d=c?h:h+1,p=this.bones,v=q.setArraySize(this.spaces,d),g=null,m=this.spacing;if(f||u){f&&(g=q.setArraySize(this.lengths,h));for(var y=0,_=d-1;y<_;){var x=p[y],b=x.data.length;if(b<t.epsilon)f&&(g[y]=0),v[++y]=0;else{var S=b*x.matrix.a,w=b*x.matrix.b,E=Math.sqrt(S*S+w*w);f&&(g[y]=E),v[++y]=(u?b+m:m)*E/b}}}else for(var y=1;y<d;y++)v[y]=m;var T=this.computeWorldPositions(e,d,c,o.positionMode==Mt.Percent,s==dr.Percent),A=T[0],O=T[1],P=o.offsetRotation,k=!1;if(P==0)k=l==zt.Chain;else{k=!1;var M=this.target.bone.matrix;P*=M.a*M.d-M.b*M.c>0?N.degRad:-N.degRad}for(var y=0,M=3;y<h;y++,M+=3){var x=p[y],B=x.matrix;B.tx+=(A-B.tx)*n,B.ty+=(O-B.ty)*n;var S=T[M],w=T[M+1],j=S-A,z=w-O;if(f){var J=g[y];if(J!=0){var Z=(Math.sqrt(j*j+z*z)/J-1)*r+1;B.a*=Z,B.b*=Z}}if(A=S,O=w,a){var $=B.a,F=B.c,G=B.b,V=B.d,U=0,H=0,ee=0;if(c?U=T[M-1]:v[y+1]==0?U=T[M+2]:U=Math.atan2(z,j),U-=Math.atan2(G,$),k){H=Math.cos(U),ee=Math.sin(U);var ie=x.data.length;A+=(ie*(H*$-ee*G)-j)*r,O+=(ie*(ee*$+H*G)-z)*r}else U+=P;U>N.PI?U-=N.PI2:U<-N.PI&&(U+=N.PI2),U*=r,H=Math.cos(U),ee=Math.sin(U),B.a=H*$-ee*G,B.c=H*F-ee*V,B.b=ee*$+H*G,B.d=ee*F+H*V}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,u=this.spaces,l=q.setArraySize(this.positions,r*3+2),c=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var g=v[d];if(i&&(s*=g),a)for(var m=0;m<r;m++)u[m]*=g;c=q.setArraySize(this.world,8);for(var m=0,y=0,_=0;m<r;m++,y+=3){var x=u[m];s+=x;var b=s;if(f)b%=g,b<0&&(b+=g),_=0;else if(b<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,c,0,2)),this.addBeforePosition(b,c,0,l,y);continue}else if(b>g){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,c,0,2)),this.addAfterPosition(b-g,c,0,l,y);continue}for(;;_++){var S=v[_];if(!(b>S)){if(_==0)b/=S;else{var w=v[_-1];b=(b-w)/(S-w)}break}}_!=p&&(p=_,f&&_==d?(e.computeWorldVertices(o,h-4,4,c,0,2),e.computeWorldVertices(o,0,4,c,4,2)):e.computeWorldVertices(o,_*6+2,8,c,0,2)),this.addCurvePosition(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],l,y,n||m>0&&x==0)}return l}f?(h+=2,c=q.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,c,0,2),e.computeWorldVertices(o,0,2,c,h-4,2),c[h-2]=c[0],c[h-1]=c[1]):(d--,h-=4,c=q.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,c,0,2));for(var E=q.setArraySize(this.curves,d),T=0,A=c[0],O=c[1],P=0,k=0,M=0,B=0,j=0,z=0,J=0,Z=0,$=0,F=0,G=0,V=0,U=0,H=0,m=0,ee=2;m<d;m++,ee+=6)P=c[ee],k=c[ee+1],M=c[ee+2],B=c[ee+3],j=c[ee+4],z=c[ee+5],J=(A-P*2+M)*.1875,Z=(O-k*2+B)*.1875,$=((P-M)*3-A+j)*.09375,F=((k-B)*3-O+z)*.09375,G=J*2+$,V=Z*2+F,U=(P-A)*.75+J+$*.16666667,H=(k-O)*.75+Z+F*.16666667,T+=Math.sqrt(U*U+H*H),U+=G,H+=V,G+=$,V+=F,T+=Math.sqrt(U*U+H*H),U+=G,H+=V,T+=Math.sqrt(U*U+H*H),U+=G+$,H+=V+F,T+=Math.sqrt(U*U+H*H),E[m]=T,A=j,O=z;if(i&&(s*=T),a)for(var m=0;m<r;m++)u[m]*=T;for(var ie=this.segments,ae=0,m=0,y=0,_=0,pe=0;m<r;m++,y+=3){var x=u[m];s+=x;var b=s;if(f)b%=T,b<0&&(b+=T),_=0;else if(b<0){this.addBeforePosition(b,c,0,l,y);continue}else if(b>T){this.addAfterPosition(b-T,c,h-4,l,y);continue}for(;;_++){var ye=E[_];if(!(b>ye)){if(_==0)b/=ye;else{var w=E[_-1];b=(b-w)/(ye-w)}break}}if(_!=p){p=_;var oe=_*6;for(A=c[oe],O=c[oe+1],P=c[oe+2],k=c[oe+3],M=c[oe+4],B=c[oe+5],j=c[oe+6],z=c[oe+7],J=(A-P*2+M)*.03,Z=(O-k*2+B)*.03,$=((P-M)*3-A+j)*.006,F=((k-B)*3-O+z)*.006,G=J*2+$,V=Z*2+F,U=(P-A)*.3+J+$*.16666667,H=(k-O)*.3+Z+F*.16666667,ae=Math.sqrt(U*U+H*H),ie[0]=ae,oe=1;oe<8;oe++)U+=G,H+=V,G+=$,V+=F,ae+=Math.sqrt(U*U+H*H),ie[oe]=ae;U+=G,H+=V,ae+=Math.sqrt(U*U+H*H),ie[8]=ae,U+=G+$,H+=V+F,ae+=Math.sqrt(U*U+H*H),ie[9]=ae,pe=0}for(b*=ae;;pe++){var _e=ie[pe];if(!(b>_e)){if(pe==0)b/=_e;else{var w=ie[pe-1];b=pe+(b-w)/(_e-w)}break}}this.addCurvePosition(b*.1,A,O,P,k,M,B,j,z,l,y,n||m>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],u=r[n+2]-o,l=r[n+3]-s,c=Math.atan2(l,u);i[a]=o+e*Math.cos(c),i[a+1]=s+e*Math.sin(c),i[a+2]=c},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],u=o-r[n],l=s-r[n+1],c=Math.atan2(l,u);i[a]=o+e*Math.cos(c),i[a+1]=s+e*Math.sin(c),i[a+2]=c},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,u,l,c,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,g=v*v,m=g*v,y=v*e,_=y*3,x=v*_,b=_*e,S=r*m+i*x+o*b+u*p,w=n*m+a*x+s*b+l*p;c[f]=S,c[f+1]=w,h&&(c[f+2]=Math.atan2(w-(n*g+a*y*2+s*d),S-(r*g+i*y*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),o3=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new gf,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,u=o.c,l=o.b,c=o.d,f=s*c-u*l>0?N.degRad:-N.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],y=!1,_=m.matrix;if(e!=0){var x=_.a,b=_.c,S=_.b,w=_.d,E=Math.atan2(l,s)-Math.atan2(S,x)+h;E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2),E*=e;var T=Math.cos(E),A=Math.sin(E);_.a=T*x-A*S,_.c=T*b-A*w,_.b=A*x+T*S,_.d=A*b+T*w,y=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),_.tx+=(O.x-_.tx)*r,_.ty+=(O.y-_.ty)*r,y=!0}if(n>0){var P=Math.sqrt(_.a*_.a+_.b*_.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),_.a*=P,_.b*=P,P=Math.sqrt(_.c*_.c+_.d*_.d),k=Math.sqrt(u*u+c*c),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),_.c*=P,_.d*=P,y=!0}if(i>0){var b=_.c,w=_.d,M=Math.atan2(w,b),E=Math.atan2(c,u)-Math.atan2(l,s)-(M-Math.atan2(_.b,_.a));E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2),E=M+(E+d)*i;var P=Math.sqrt(b*b+w*w);_.c=Math.cos(E)*P,_.d=Math.sin(E)*P,y=!0}y&&(m.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,u=o.c,l=o.b,c=o.d,f=s*c-u*l>0?N.degRad:-N.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],y=!1,_=m.matrix;if(e!=0){var x=_.a,b=_.c,S=_.b,w=_.d,E=Math.atan2(l,s)+h;E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2),E*=e;var T=Math.cos(E),A=Math.sin(E);_.a=T*x-A*S,_.c=T*b-A*w,_.b=A*x+T*S,_.d=A*b+T*w,y=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),_.tx+=O.x*r,_.ty+=O.y*r,y=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;_.a*=P,_.b*=P,P=(Math.sqrt(u*u+c*c)-1+this.data.offsetScaleY)*n+1,_.c*=P,_.d*=P,y=!0}if(i>0){var E=Math.atan2(c,u)-Math.atan2(l,s);E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2);var b=_.c,w=_.d;E=Math.atan2(w,b)+(E-N.PI/2+d)*i;var P=Math.sqrt(b*b+w*w);_.c=Math.cos(E)*P,_.d=Math.sin(E)*P,y=!0}y&&(m.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,u=o.length;s<u;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var c=l.arotation;if(e!=0){var f=a.arotation-c+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,c+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var g=l.ashearY;if(i>0){var f=a.ashearY-g+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,c,p,v,l.ashearX,g)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,u=o.length;s<u;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var c=l.arotation;e!=0&&(c+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,c,d,p,l.ashearX,v)}},t}(),s3=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new t1(n,this,null);else{var a=this.bones[n.parent.index];i=new t1(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new Fw(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var u=e.ikConstraints[r];this.ikConstraints.push(new i3(u,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new o3(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var c=e.pathConstraints[r];this.pathConstraints.push(new a3(c,this))}this.color=new de(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,u=this.transformConstraints,l=this.pathConstraints,c=s.length,f=u.length,h=l.length,d=c+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<c;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=u[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&q.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&q.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof yf&&this.sortPathConstraintAttachmentWith(s,i);for(var u=e.bones,l=u.length,a=0;a<l;a++)this.sortBone(u[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(u[a].children);for(var a=0;a<l;a++)u[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&q.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof yf){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var u=n[a];this.sortBone(i[u])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var u=this.pathConstraints,r=0,n=u.length;r<n;r++){var a=u[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;q.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=0,c=i.length;l<c;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof Nw)h=8,d=q.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof dm){var v=p;h=v.worldVerticesLength,d=q.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var g=0,m=d.length;g<m;g+=2){var y=d[g],_=d[g+1];a=Math.min(a,y),o=Math.min(o,_),s=Math.max(s,y),u=Math.max(u,_)}}}e.set(a,o),r.set(s-a,u-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),Ww=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),Yw=function(){function t(e,r,n){if(this.color=new de(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),Hw=function(t){Nt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(vm),r1=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Op=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var u=s[r];this.setAttachment(u.slotIndex,u.name,u.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var u=s[r];u.attachment!=null&&(u.attachment instanceof dm?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new r1(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new r1(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var u in s){var l=s[u];if(o==l){var c=this.getAttachment(n,u);c!=null&&a.setAttachment(c);break}}}n++}},t}(),l3=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Ww;n.name="";var i=new Pp(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var u=0;u<s;u++)i.strings.push(i.readString());s=i.readInt(!0);for(var u=0;u<s;u++){var l=i.readString(),c=u==0?null:n.bones[i.readInt(!0)],f=new $w(u,l,c);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&de.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var u=0;u<s;u++){var h=i.readString(),d=n.bones[i.readInt(!0)],f=new Yw(u,h,d);de.rgba8888ToColor(f.color,i.readInt32());var p=i.readInt32();p!=-1&&de.rgb888ToColor(f.darkColor=new de,p),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var u=0,v=void 0;u<s;u++){var f=new Xw(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var g=0;g<v;g++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var u=0,v=void 0;u<s;u++){var f=new Hw(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var g=0;g<v;g++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var u=0,v=void 0;u<s;u++){var f=new zw(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var g=0;g<v;g++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==Mt.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==dr.Length||f.spacingMode==dr.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var m=this.readSkin(i,n,!0,o);m!=null&&(n.defaultSkin=m,n.skins.push(m));{var u=n.skins.length;for(q.setArraySize(n.skins,s=u+i.readInt(!0));u<s;u++)n.skins[u]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var u=0;u<s;u++){var y=this.linkedMeshes[u],_=y.skin==null?n.defaultSkin:n.findSkin(y.skin);if(_==null)throw new Error("Skin not found: "+y.skin);var x=_.getAttachment(y.slotIndex,y.parent);if(x==null)throw new Error("Parent mesh not found: "+y.parent);y.mesh.deformAttachment=y.inheritDeform?x:y.mesh,y.mesh.setParentMesh(x)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var u=0;u<s;u++){var f=new Gw(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var u=0;u<s;u++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Op("default")}else{a=new Op(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,u=a.bones.length;s<u;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),c=0,f=e.readInt(!0);c<f;c++){var h=e.readStringRef(),d=this.readAttachment(e,r,a,l,h,i);d!=null&&a.setAttachment(l,h,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,u=e.readStringRef();u==null&&(u=a);var l=e.readByte(),c=t.AttachmentTypeValues[l];switch(c){case $e.Region:{var f=e.readStringRef(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),g=e.readFloat(),m=e.readFloat(),y=e.readFloat(),_=e.readInt32();f==null&&(f=u);var x=this.attachmentLoader.newRegionAttachment(n,u,f);return x==null?null:(x.path=f,x.x=d*s,x.y=p*s,x.scaleX=v,x.scaleY=g,x.rotation=h,x.width=m*s,x.height=y*s,de.rgba8888ToColor(x.color,_),x)}case $e.BoundingBox:{var b=e.readInt(!0),S=this.readVertices(e,b),_=o?e.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(n,u);return w==null?null:(w.worldVerticesLength=b<<1,w.vertices=S.vertices,w.bones=S.bones,o&&de.rgba8888ToColor(w.color,_),w)}case $e.Mesh:{var f=e.readStringRef(),_=e.readInt32(),b=e.readInt(!0),E=this.readFloatArray(e,b<<1,1),T=this.readShortArray(e),S=this.readVertices(e,b),A=e.readInt(!0),O=null,m=0,y=0;o&&(O=this.readShortArray(e),m=e.readFloat(),y=e.readFloat()),f==null&&(f=u);var P=this.attachmentLoader.newMeshAttachment(n,u,f);return P==null?null:(P.path=f,de.rgba8888ToColor(P.color,_),P.bones=S.bones,P.vertices=S.vertices,P.worldVerticesLength=b<<1,P.triangles=T,P.regionUVs=new Float32Array(E),P.hullLength=A<<1,o&&(P.edges=O,P.width=m*s,P.height=y*s),P)}case $e.LinkedMesh:{var f=e.readStringRef(),_=e.readInt32(),k=e.readStringRef(),M=e.readStringRef(),B=e.readBoolean(),m=0,y=0;o&&(m=e.readFloat(),y=e.readFloat()),f==null&&(f=u);var P=this.attachmentLoader.newMeshAttachment(n,u,f);return P==null?null:(P.path=f,de.rgba8888ToColor(P.color,_),o&&(P.width=m*s,P.height=y*s),this.linkedMeshes.push(new V0e(P,k,i,M,B)),P)}case $e.Path:{for(var j=e.readBoolean(),z=e.readBoolean(),b=e.readInt(!0),S=this.readVertices(e,b),J=q.newArray(b/3,0),Z=0,$=J.length;Z<$;Z++)J[Z]=e.readFloat()*s;var _=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,u);return f==null?null:(f.closed=j,f.constantSpeed=z,f.worldVerticesLength=b<<1,f.vertices=S.vertices,f.bones=S.bones,f.lengths=J,o&&de.rgba8888ToColor(f.color,_),f)}case $e.Point:{var h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),_=o?e.readInt32():0,F=this.attachmentLoader.newPointAttachment(n,u);return F==null?null:(F.x=d*s,F.y=p*s,F.rotation=h,o&&de.rgba8888ToColor(F.color,_),F)}case $e.Clipping:{var G=e.readInt(!0),b=e.readInt(!0),S=this.readVertices(e,b),_=o?e.readInt32():0,V=this.attachmentLoader.newClippingAttachment(n,u);return V==null?null:(V.endSlot=r.slots[G],V.worldVerticesLength=b<<1,V.vertices=S.vertices,V.bones=S.bones,o&&de.rgba8888ToColor(V.color,_),V)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new G0e,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,u=0;u<r;u++){var l=e.readInt(!0);s.push(l);for(var c=0;c<l;c++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=q.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new de,u=new de,l=0,c=e.readInt(!0);l<c;l++)for(var f=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.SLOT_ATTACHMENT:{var g=new ns(v);g.slotIndex=f;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readStringRef());i.push(g),o=Math.max(o,g.frames[v-1]);break}case t.SLOT_COLOR:{var g=new _f(v);g.slotIndex=f;for(var m=0;m<v;m++){var y=e.readFloat();de.rgba8888ToColor(s,e.readInt32()),g.setFrame(m,y,s.r,s.g,s.b,s.a),m<v-1&&this.readCurve(e,m,g)}i.push(g),o=Math.max(o,g.frames[(v-1)*_f.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var g=new xf(v);g.slotIndex=f;for(var m=0;m<v;m++){var y=e.readFloat();de.rgba8888ToColor(s,e.readInt32()),de.rgb888ToColor(u,e.readInt32()),g.setFrame(m,y,s.r,s.g,s.b,s.a,u.r,u.g,u.b),m<v-1&&this.readCurve(e,m,g)}i.push(g),o=Math.max(o,g.frames[(v-1)*xf.ENTRIES]);break}}}for(var l=0,c=e.readInt(!0);l<c;l++)for(var _=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.BONE_ROTATE:{var g=new Mn(v);g.boneIndex=_;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*Mn.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var g=void 0,x=1;p==t.BONE_SCALE?g=new Lw(v):p==t.BONE_SHEAR?g=new Dw(v):(g=new Ss(v),x=a),g.boneIndex=_;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat()*x,e.readFloat()*x),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*Ss.ENTRIES]);break}}}for(var l=0,c=e.readInt(!0);l<c;l++){var b=e.readInt(!0),v=e.readInt(!0),g=new bf(v);g.ikConstraintIndex=b;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*bf.ENTRIES])}for(var l=0,c=e.readInt(!0);l<c;l++){var b=e.readInt(!0),v=e.readInt(!0),g=new Sf(v);g.transformConstraintIndex=b;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*Sf.ENTRIES])}for(var l=0,c=e.readInt(!0);l<c;l++)for(var b=e.readInt(!0),S=n.pathConstraints[b],h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.PATH_POSITION:case t.PATH_SPACING:{var g=void 0,x=1;p==t.PATH_SPACING?(g=new jw(v),(S.spacingMode==dr.Length||S.spacingMode==dr.Fixed)&&(x=a)):(g=new ql(v),S.positionMode==Mt.Fixed&&(x=a)),g.pathConstraintIndex=b;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat()*x),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*ql.ENTRIES]);break}case t.PATH_MIX:{var g=new wf(v);g.pathConstraintIndex=b;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*wf.ENTRIES]);break}}}for(var l=0,c=e.readInt(!0);l<c;l++)for(var w=n.skins[e.readInt(!0)],h=0,d=e.readInt(!0);h<d;h++)for(var f=e.readInt(!0),E=0,T=e.readInt(!0);E<T;E++){var A=w.getAttachment(f,e.readStringRef()),O=A.bones!=null,P=A.vertices,k=O?P.length/3*2:P.length,v=e.readInt(!0),g=new Bw(v);g.slotIndex=f,g.attachment=A;for(var m=0;m<v;m++){var y=e.readFloat(),M=void 0,B=e.readInt(!0);if(B==0)M=O?q.newFloatArray(k):P;else{M=q.newFloatArray(k);var j=e.readInt(!0);if(B+=j,a==1)for(var z=j;z<B;z++)M[z]=e.readFloat();else for(var z=j;z<B;z++)M[z]=e.readFloat()*a;if(!O)for(var z=0,J=M.length;z<J;z++)M[z]+=P[z]}g.setFrame(m,y,M),m<v-1&&this.readCurve(e,m,g)}i.push(g),o=Math.max(o,g.frames[v-1])}var Z=e.readInt(!0);if(Z>0){for(var g=new Ol(Z),$=n.slots.length,l=0;l<Z;l++){for(var y=e.readFloat(),F=e.readInt(!0),G=q.newArray($,0),h=$-1;h>=0;h--)G[h]=-1;for(var V=q.newArray($-F,0),U=0,H=0,h=0;h<F;h++){for(var f=e.readInt(!0);U!=f;)V[H++]=U++;G[U+e.readInt(!0)]=U++}for(;U<$;)V[H++]=U++;for(var h=$-1;h>=0;h--)G[h]==-1&&(G[h]=V[--H]);g.setFrame(l,y,G)}i.push(g),o=Math.max(o,g.frames[Z-1])}var ee=e.readInt(!0);if(ee>0){for(var g=new pm(ee),l=0;l<ee;l++){var y=e.readFloat(),ie=n.events[e.readInt(!0)],ae=new Vw(y,ie);ae.intValue=e.readInt(!1),ae.floatValue=e.readFloat(),ae.stringValue=e.readBoolean()?e.readString():ie.stringValue,ae.data.audioPath!=null&&(ae.volume=e.readFloat(),ae.balance=e.readFloat()),g.setFrame(l,ae)}i.push(g),o=Math.max(o,g.frames[ee-1])}return new er(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[Fe.Normal,Fe.OnlyTranslation,Fe.NoRotationOrReflection,Fe.NoScale,Fe.NoScaleOrReflection],t.PositionModeValues=[Mt.Fixed,Mt.Percent],t.SpacingModeValues=[dr.Length,dr.Fixed,dr.Percent],t.RotateModeValues=[zt.Tangent,zt.Chain,zt.ChainScale],t.BlendModeValues=[Se.NORMAL,Se.ADD,Se.MULTIPLY,Se.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),V0e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),G0e=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),X0e=function(t){Nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(kw),u3=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Ww,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var u=i.bones[s],l=null,c=this.getValue(u,"parent",null);if(c!=null&&(l=n.findBone(c),l==null))throw new Error("Parent bone not found: "+c);var f=new $w(n.bones.length,u.name,l);f.length=this.getValue(u,"length",0)*r,f.x=this.getValue(u,"x",0)*r,f.y=this.getValue(u,"y",0)*r,f.rotation=this.getValue(u,"rotation",0),f.scaleX=this.getValue(u,"scaleX",1),f.scaleY=this.getValue(u,"scaleY",1),f.shearX=this.getValue(u,"shearX",0),f.shearY=this.getValue(u,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(u,"transform","normal")),f.skinRequired=this.getValue(u,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],d=h.name,p=h.bone,v=n.findBone(p);if(v==null)throw new Error("Slot bone not found: "+p);var f=new Yw(n.slots.length,d,v),g=this.getValue(h,"color",null);g!=null&&f.color.setFromString(g);var m=this.getValue(h,"dark",null);m!=null&&(f.darkColor=new de(1,1,1,1),f.darkColor.setFromString(m)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var y=i.ik[s],f=new Xw(y.name);f.order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(var _=0;_<y.bones.length;_++){var p=y.bones[_],x=n.findBone(p);if(x==null)throw new Error("IK bone not found: "+p);f.bones.push(x)}var b=y.target;if(f.target=n.findBone(b),f.target==null)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(y,"mix",1),f.softness=this.getValue(y,"softness",0)*r,f.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,f.compress=this.getValue(y,"compress",!1),f.stretch=this.getValue(y,"stretch",!1),f.uniform=this.getValue(y,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var y=i.transform[s],f=new Hw(y.name);f.order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(var _=0;_<y.bones.length;_++){var p=y.bones[_],x=n.findBone(p);if(x==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(x)}var b=y.target;if(f.target=n.findBone(b),f.target==null)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(y,"local",!1),f.relative=this.getValue(y,"relative",!1),f.offsetRotation=this.getValue(y,"rotation",0),f.offsetX=this.getValue(y,"x",0)*r,f.offsetY=this.getValue(y,"y",0)*r,f.offsetScaleX=this.getValue(y,"scaleX",0),f.offsetScaleY=this.getValue(y,"scaleY",0),f.offsetShearY=this.getValue(y,"shearY",0),f.rotateMix=this.getValue(y,"rotateMix",1),f.translateMix=this.getValue(y,"translateMix",1),f.scaleMix=this.getValue(y,"scaleMix",1),f.shearMix=this.getValue(y,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var y=i.path[s],f=new zw(y.name);f.order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(var _=0;_<y.bones.length;_++){var p=y.bones[_],x=n.findBone(p);if(x==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(x)}var b=y.target;if(f.target=n.findSlot(b),f.target==null)throw new Error("Path target slot not found: "+b);f.positionMode=t.positionModeFromString(this.getValue(y,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(y,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),f.offsetRotation=this.getValue(y,"rotation",0),f.position=this.getValue(y,"position",0),f.positionMode==Mt.Fixed&&(f.position*=r),f.spacing=this.getValue(y,"spacing",0),(f.spacingMode==dr.Length||f.spacingMode==dr.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(y,"rotateMix",1),f.translateMix=this.getValue(y,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var S=i.skins[s],w=new Op(S.name);if(S.bones)for(var E=0;E<S.bones.length;E++){var x=n.findBone(S.bones[E]);if(x==null)throw new Error("Skin bone not found: "+S.bones[s]);w.bones.push(x)}if(S.ik)for(var E=0;E<S.ik.length;E++){var T=n.findIkConstraint(S.ik[E]);if(T==null)throw new Error("Skin IK constraint not found: "+S.ik[s]);w.constraints.push(T)}if(S.transform)for(var E=0;E<S.transform.length;E++){var T=n.findTransformConstraint(S.transform[E]);if(T==null)throw new Error("Skin transform constraint not found: "+S.transform[s]);w.constraints.push(T)}if(S.path)for(var E=0;E<S.path.length;E++){var T=n.findPathConstraint(S.path[E]);if(T==null)throw new Error("Skin path constraint not found: "+S.path[s]);w.constraints.push(T)}for(var d in S.attachments){var A=n.findSlot(d);if(A==null)throw new Error("Slot not found: "+d);var h=S.attachments[d];for(var O in h){var P=this.readAttachment(h[O],w,A.index,O,n);P!=null&&w.setAttachment(A.index,O,P)}}n.skins.push(w),w.name=="default"&&(n.defaultSkin=w)}for(var s=0,k=this.linkedMeshes.length;s<k;s++){var M=this.linkedMeshes[s],w=M.skin==null?n.defaultSkin:n.findSkin(M.skin);if(w==null)throw new Error("Skin not found: "+M.skin);var B=w.getAttachment(M.slotIndex,M.parent);if(B==null)throw new Error("Parent mesh not found: "+M.parent);M.mesh.deformAttachment=M.inheritDeform?B:M.mesh,M.mesh.setParentMesh(B)}if(this.linkedMeshes.length=0,i.events)for(var j in i.events){var z=i.events[j],f=new Gw(j);f.intValue=this.getValue(z,"int",0),f.floatValue=this.getValue(z,"float",0),f.stringValue=this.getValue(z,"string",""),f.audioPath=this.getValue(z,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(z,"volume",1),f.balance=this.getValue(z,"balance",0)),n.events.push(f)}if(i.animations)for(var J in i.animations){var Z=i.animations[J];this.readAnimation(Z,J,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var u=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,u);if(l==null)return null;l.path=u,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var c=this.getValue(e,"color",null);return c!=null&&l.color.setFromString(c),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var c=this.getValue(e,"color",null);return c!=null&&f.color.setFromString(c),f}case"mesh":case"linkedmesh":{var u=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,u);if(h==null)return null;h.path=u;var c=this.getValue(e,"color",null);c!=null&&h.color.setFromString(c),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var d=this.getValue(e,"parent",null);if(d!=null)return this.linkedMeshes.push(new z0e(h,this.getValue(e,"skin",null),n,d,this.getValue(e,"deform",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var u=this.attachmentLoader.newPathAttachment(r,i);if(u==null)return null;u.closed=this.getValue(e,"closed",!1),u.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,u,v<<1);for(var g=q.newArray(v/3,0),m=0;m<e.lengths.length;m++)g[m]=e.lengths[m]*o;u.lengths=g;var c=this.getValue(e,"color",null);return c!=null&&u.color.setFromString(c),u}case"point":{var y=this.attachmentLoader.newPointAttachment(r,i);if(y==null)return null;y.x=this.getValue(e,"x",0)*o,y.y=this.getValue(e,"y",0)*o,y.rotation=this.getValue(e,"rotation",0);var c=this.getValue(e,"color",null);return c!=null&&y.color.setFromString(c),y}case"clipping":{var _=this.attachmentLoader.newClippingAttachment(r,i);if(_==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);_.endSlot=b}var v=e.vertexCount;this.readVertices(e,_,v<<1);var c=this.getValue(e,"color",null);return c!=null&&_.color.setFromString(c),_}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=q.toFloatArray(a);if(i!=1)for(var s=0,u=a.length;s<u;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,c=new Array,s=0,u=a.length;s<u;){var f=a[s++];c.push(f);for(var h=s+f*4;s<h;s+=4)c.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=c,r.vertices=q.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var u=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var c in u){var f=u[c];if(c=="attachment"){var h=new ns(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,this.getValue(v,"time",0),v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(c=="color"){var h=new _f(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],g=new de;g.setFromString(v.color||"ffffffff"),h.setFrame(d,this.getValue(v,"time",0),g.r,g.g,g.b,g.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*_f.ENTRIES])}else if(c=="twoColor"){var h=new xf(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new de,y=new de;m.setFromString(v.light),y.setFromString(v.dark),h.setFrame(d,this.getValue(v,"time",0),m.r,m.g,m.b,m.a,y.r,y.g,y.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*xf.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+c+" ("+s+")")}}if(e.bones)for(var _ in e.bones){var x=e.bones[_],b=n.findBoneIndex(_);if(b==-1)throw new Error("Bone not found: "+_);for(var c in x){var f=x[c];if(c==="rotate"){var h=new Mn(f.length);h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"angle",0)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Mn.ENTRIES])}else if(c==="translate"||c==="scale"||c==="shear"){var h=null,S=1,w=0;c==="scale"?(h=new Lw(f.length),w=1):c==="shear"?h=new Dw(f.length):(h=new Ss(f.length),S=i),h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p],E=this.getValue(v,"x",w),T=this.getValue(v,"y",w);h.setFrame(d,this.getValue(v,"time",0),E*S,T*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ss.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+c+" ("+_+")")}}if(e.ik)for(var A in e.ik){var O=e.ik[A],P=n.findIkConstraint(A),h=new bf(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"mix",1),this.getValue(v,"softness",0)*i,this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*bf.ENTRIES])}if(e.transform)for(var A in e.transform){var O=e.transform[A],P=n.findTransformConstraint(A),h=new Sf(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(P);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Sf.ENTRIES])}if(e.path)for(var A in e.path){var O=e.path[A],k=n.findPathConstraintIndex(A);if(k==-1)throw new Error("Path constraint not found: "+A);var M=n.pathConstraints[k];for(var c in O){var f=O[c];if(c==="position"||c==="spacing"){var h=null,S=1;c==="spacing"?(h=new jw(f.length),(M.spacingMode==dr.Length||M.spacingMode==dr.Fixed)&&(S=i)):(h=new ql(f.length),M.positionMode==Mt.Fixed&&(S=i)),h.pathConstraintIndex=k;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,c,0)*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ql.ENTRIES])}else if(c==="mix"){var h=new wf(f.length);h.pathConstraintIndex=k;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*wf.ENTRIES])}}}if(e.deform)for(var B in e.deform){var j=e.deform[B],z=n.findSkin(B);if(z!=null)for(var s in j){var u=j[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+u.name);for(var c in u){var f=u[c],J=z.getAttachment(l,c);if(J==null)throw new Error("Deform attachment not found: "+f.name);var Z=J.bones!=null,$=J.vertices,F=Z?$.length/3*2:$.length,h=new Bw(f.length);h.slotIndex=l,h.attachment=J;for(var d=0,G=0;G<f.length;G++){var v=f[G],V=void 0,U=this.getValue(v,"vertices",null);if(U==null)V=Z?q.newFloatArray(F):$;else{V=q.newFloatArray(F);var H=this.getValue(v,"offset",0);if(q.arrayCopy(U,0,V,H,U.length),i!=1)for(var p=H,ee=p+U.length;p<ee;p++)V[p]*=i;if(!Z)for(var p=0;p<F;p++)V[p]+=$[p]}h.setFrame(d,this.getValue(v,"time",0),V),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var ie=e.drawOrder;if(ie==null&&(ie=e.draworder),ie!=null){for(var h=new Ol(ie.length),ae=n.slots.length,d=0,G=0;G<ie.length;G++){var pe=ie[G],ye=null,oe=this.getValue(pe,"offsets",null);if(oe!=null){ye=q.newArray(ae,-1);for(var _e=q.newArray(ae-oe.length,0),Ce=0,be=0,p=0;p<oe.length;p++){var Oe=oe[p],l=n.findSlotIndex(Oe.slot);if(l==-1)throw new Error("Slot not found: "+Oe.slot);for(;Ce!=l;)_e[be++]=Ce++;ye[Ce+Oe.offset]=Ce++}for(;Ce<ae;)_e[be++]=Ce++;for(var p=ae-1;p>=0;p--)ye[p]==-1&&(ye[p]=_e[--be])}h.setFrame(d++,this.getValue(pe,"time",0),ye)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new pm(e.events.length),d=0,p=0;p<e.events.length;p++){var ke=e.events[p],we=n.findEvent(ke.name);if(we==null)throw new Error("Event not found: "+ke.name);var Xe=new Vw(q.toSinglePrecision(this.getValue(ke,"time",0)),we);Xe.intValue=this.getValue(ke,"int",we.intValue),Xe.floatValue=this.getValue(ke,"float",we.floatValue),Xe.stringValue=this.getValue(ke,"string",we.stringValue),Xe.data.audioPath!=null&&(Xe.volume=this.getValue(ke,"volume",1),Xe.balance=this.getValue(ke,"balance",0)),h.setFrame(d++,Xe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new er(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Se.NORMAL;if(e=="additive")return Se.ADD;if(e=="multiply")return Se.MULTIPLY;if(e=="screen")return Se.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return Mt.Fixed;if(e=="percent")return Mt.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return dr.Length;if(e=="fixed")return dr.Fixed;if(e=="percent")return dr.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return zt.Tangent;if(e=="chain")return zt.Chain;if(e=="chainscale")return zt.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Fe.Normal;if(e=="onlytranslation")return Fe.OnlyTranslation;if(e=="norotationorreflection")return Fe.NoRotationOrReflection;if(e=="noscale")return Fe.NoScale;if(e=="noscaleorreflection")return Fe.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),z0e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),W0e=function(t){Nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new s3(r),this.skeleton.updateWorldTransform(),this.stateData=new n3(r),this.state=new e3(this.stateData)},e}(Zf);const Y0e=Object.freeze(Object.defineProperty({__proto__:null,Animation:er,AnimationState:e3,AnimationStateAdapter:$0e,AnimationStateData:n3,AtlasAttachmentLoader:Uw,Attachment:Mw,AttachmentTimeline:ns,Bone:t1,BoneData:$w,BoundingBoxAttachment:ZD,ClippingAttachment:QD,ColorTimeline:_f,ConstraintData:vm,CurveTimeline:ha,DeformTimeline:Bw,DrawOrderTimeline:Ol,Event:Vw,EventData:Gw,EventQueue:r3,EventTimeline:pm,get EventType(){return on},IkConstraint:i3,IkConstraintData:Xw,IkConstraintTimeline:bf,JitterEffect:j0e,MeshAttachment:dm,PathAttachment:yf,PathConstraint:a3,PathConstraintData:zw,PathConstraintMixTimeline:wf,PathConstraintPositionTimeline:ql,PathConstraintSpacingTimeline:jw,PointAttachment:JD,RegionAttachment:Nw,RotateTimeline:Mn,ScaleTimeline:Lw,ShearTimeline:Dw,Skeleton:s3,SkeletonBinary:l3,SkeletonBounds:X0e,SkeletonData:Ww,SkeletonJson:u3,Skin:Op,SkinEntry:r1,Slot:Fw,SlotData:Yw,get SpacingMode(){return dr},Spine:W0e,SwirlEffect:U0e,get TimelineType(){return Mr},TrackEntry:t3,TransformConstraint:o3,TransformConstraintData:Hw,TransformConstraintTimeline:Sf,TranslateTimeline:Ss,TwoColorTimeline:xf,VertexAttachment:Fs},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n1=function(t,e){return n1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},n1(t,e)};function tr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qw=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Ns=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var u=r.bone.skeleton,l=r.attachmentVertices,c=this.vertices,f=this.bones;if(f==null){l.length>0&&(c=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,g=h.c,m=h.b,y=h.d,_=n,x=o;x<i;_+=2,x+=s){var b=c[_],S=c[_+1];a[x]=b*v+S*g+d,a[x+1]=b*m+S*y+p}return}for(var w=0,E=0,T=0;T<n;T+=2){var A=f[w];w+=A+1,E+=A}var O=u.bones;if(l.length==0)for(var x=o,g=E*3;x<i;x+=s){var P=0,k=0,A=f[w++];for(A+=w;w<A;w++,g+=3){var h=O[f[w]].matrix,b=c[g],S=c[g+1],M=c[g+2];P+=(b*h.a+S*h.c+h.tx)*M,k+=(b*h.b+S*h.d+h.ty)*M}a[x]=P,a[x+1]=k}else for(var B=l,x=o,g=E*3,j=E<<1;x<i;x+=s){var P=0,k=0,A=f[w++];for(A+=w;w<A;w++,g+=3,j+=2){var h=O[f[w]].matrix,b=c[g]+B[j],S=c[g+1]+B[j+1],M=c[g+2];P+=(b*h.a+S*h.c+h.tx)*M,k+=(b*h.b+S*h.d+h.ty)*M}a[x]=P,a[x+1]=k}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(qw),c3=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.BoundingBox,n.color=new de(1,1,1,1),n}return e}(Ns),f3=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Clipping,n.color=new de(.2275,.2275,.8078,1),n}return e}(Ns),Kw=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Mesh,n.color=new de(1,1,1,1),n.inheritDeform=!1,n.tempColor=new de(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(Ns),Ef=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Path,n.closed=!1,n.constantSpeed=!1,n.color=new de(1,1,1,1),n}return e}(Ns),h3=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Point,n.color=new de(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=N.cosDeg(this.rotation),a=N.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*N.radDeg},e}(Ns),Zw=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new de,this.darkColor=e.darkColor==null?null:new de,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),Qw=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new de(1,1,1,1),n.offset=q.newFloatArray(8),n.uvs=q.newFloatArray(8),n.tempColor=new de(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,u=this.rotation*Math.PI/180,l=Math.cos(u),c=Math.sin(u),f=i*l+this.x,h=i*c,d=a*l+this.y,p=a*c,v=o*l+this.x,g=o*c,m=s*l+this.y,y=s*c,_=this.offset;_[e.OX1]=f-p,_[e.OY1]=d+h,_[e.OX2]=f-y,_[e.OY2]=m+h,_[e.OX3]=v-y,_[e.OY3]=m+g,_[e.OX4]=v-p,_[e.OY4]=d+g},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof Zw?r.bone.matrix:r.matrix,u=s.tx,l=s.ty,c=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*c+v*f+u,n[i+1]=p*h+v*d+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(qw),H0e=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=N.randomTriangular(-this.jitterX,this.jitterY),e.y+=N.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),q0e=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*N.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(o*o+s*s);if(u<this.radius){var l=t.interpolation.apply(0,a,(this.radius-u)/this.radius),c=Math.cos(l),f=Math.sin(l);e.x=c*o-f*s+this.worldX,e.y=f*o+c*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new KD(2),t}(),yr=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,u){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,c=0,f=l.length;c<f;c++)l[c].apply(e,r,n,a,o,s,u)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Fr;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Fr||(Fr={}));var da=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=q.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,u=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,c=o*2+u,f=s*2+l,h=r*.3+o+u*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var g=h,m=d,y=p+t.BEZIER_SIZE-1;p<y;p+=2)v[p]=g,v[p+1]=m,h+=c,d+=f,c+=u,f+=l,g+=h,m+=d},t.prototype.getCurvePercent=function(e,r){r=N.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,u=i+t.BEZIER_SIZE-1;i<u;i+=2)if(o=n[i],o>=r){var l=void 0,c=void 0;return i==s?(l=0,c=0):(l=n[i-2],c=n[i-1]),c+(n[i+1]-c)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),mi=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Fr.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(i<l[0]){switch(s){case R.setup:c.rotation=c.data.rotation;return;case R.first:var f=c.data.rotation-c.rotation;c.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case R.setup:c.rotation=c.data.rotation+h*o;break;case R.first:case R.replace:h+=c.data.rotation-c.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case R.add:c.rotation+=h*o}return}var d=yr.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],g=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),m=l[d+e.ROTATION]-p;switch(m=p+(m-(16384-(16384.499999999996-m/360|0))*360)*g,s){case R.setup:c.rotation=c.data.rotation+(m-(16384-(16384.499999999996-m/360|0))*360)*o;break;case R.first:case R.replace:m+=c.data.rotation-c.rotation;case R.add:c.rotation+=(m-(16384-(16384.499999999996-m/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(da),Tf=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fr.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(i<l[0]){switch(s){case R.setup:c.x=c.data.x,c.y=c.data.y;return;case R.first:c.x+=(c.data.x-c.x)*o,c.y+=(c.data.y-c.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=yr.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case R.setup:c.x=c.data.x+f*o,c.y=c.data.y+h*o;break;case R.first:case R.replace:c.x+=(c.data.x+f-c.x)*o,c.y+=(c.data.y+h-c.y)*o;break;case R.add:c.x+=f*o,c.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(da),d3=function(t){tr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Fr.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(i<l[0]){switch(s){case R.setup:c.scaleX=c.data.scaleX,c.scaleY=c.data.scaleY;return;case R.first:c.scaleX+=(c.data.scaleX-c.scaleX)*o,c.scaleY+=(c.data.scaleY-c.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*c.data.scaleX,h=l[l.length+e.PREV_Y]*c.data.scaleY;else{var d=yr.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*c.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*c.data.scaleY}if(o==1)s==R.add?(c.scaleX+=f-c.data.scaleX,c.scaleY+=h-c.data.scaleY):(c.scaleX=f,c.scaleY=h);else{var g=0,m=0;if(u==je.mixOut)switch(s){case R.setup:g=c.data.scaleX,m=c.data.scaleY,c.scaleX=g+(Math.abs(f)*N.signum(g)-g)*o,c.scaleY=m+(Math.abs(h)*N.signum(m)-m)*o;break;case R.first:case R.replace:g=c.scaleX,m=c.scaleY,c.scaleX=g+(Math.abs(f)*N.signum(g)-g)*o,c.scaleY=m+(Math.abs(h)*N.signum(m)-m)*o;break;case R.add:g=c.scaleX,m=c.scaleY,c.scaleX=g+(Math.abs(f)*N.signum(g)-c.data.scaleX)*o,c.scaleY=m+(Math.abs(h)*N.signum(m)-c.data.scaleY)*o}else switch(s){case R.setup:g=Math.abs(c.data.scaleX)*N.signum(f),m=Math.abs(c.data.scaleY)*N.signum(h),c.scaleX=g+(f-g)*o,c.scaleY=m+(h-m)*o;break;case R.first:case R.replace:g=Math.abs(c.scaleX)*N.signum(f),m=Math.abs(c.scaleY)*N.signum(h),c.scaleX=g+(f-g)*o,c.scaleY=m+(h-m)*o;break;case R.add:g=N.signum(f),m=N.signum(h),c.scaleX=Math.abs(c.scaleX)*g+(f-Math.abs(c.data.scaleX)*g)*o,c.scaleY=Math.abs(c.scaleY)*m+(h-Math.abs(c.data.scaleY)*m)*o}}},e}(Tf),p3=function(t){tr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Fr.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.bones[this.boneIndex];if(i<l[0]){switch(s){case R.setup:c.shearX=c.data.shearX,c.shearY=c.data.shearY;return;case R.first:c.shearX+=(c.data.shearX-c.shearX)*o,c.shearY+=(c.data.shearY-c.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=yr.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case R.setup:c.shearX=c.data.shearX+f*o,c.shearY=c.data.shearY+h*o;break;case R.first:case R.replace:c.shearX+=(c.data.shearX+f-c.shearX)*o,c.shearY+=(c.data.shearY+h-c.shearY)*o;break;case R.add:c.shearX+=f*o,c.shearY+=h*o}},e}(Tf),i1=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fr.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex],c=this.frames;if(i<c[0]){switch(s){case R.setup:l.color.setFromColor(l.data.color);return;case R.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,g=0;if(i>=c[c.length-e.ENTRIES]){var m=c.length;d=c[m+e.PREV_R],p=c[m+e.PREV_G],v=c[m+e.PREV_B],g=c[m+e.PREV_A]}else{var y=yr.binarySearch(c,i,e.ENTRIES);d=c[y+e.PREV_R],p=c[y+e.PREV_G],v=c[y+e.PREV_B],g=c[y+e.PREV_A];var _=c[y],x=this.getCurvePercent(y/e.ENTRIES-1,1-(i-_)/(c[y+e.PREV_TIME]-_));d+=(c[y+e.R]-d)*x,p+=(c[y+e.G]-p)*x,v+=(c[y+e.B]-v)*x,g+=(c[y+e.A]-g)*x}if(o==1)l.color.set(d,p,v,g);else{var f=l.color;s==R.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(g-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(da),a1=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fr.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,u,l,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=u,this.frames[r+e.G2]=l,this.frames[r+e.B2]=c},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex],c=this.frames;if(i<c[0]){switch(s){case R.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case R.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,g=0,m=0,y=0,_=0,x=0,b=0;if(i>=c[c.length-e.ENTRIES]){var S=c.length;v=c[S+e.PREV_R],g=c[S+e.PREV_G],m=c[S+e.PREV_B],y=c[S+e.PREV_A],_=c[S+e.PREV_R2],x=c[S+e.PREV_G2],b=c[S+e.PREV_B2]}else{var w=yr.binarySearch(c,i,e.ENTRIES);v=c[w+e.PREV_R],g=c[w+e.PREV_G],m=c[w+e.PREV_B],y=c[w+e.PREV_A],_=c[w+e.PREV_R2],x=c[w+e.PREV_G2],b=c[w+e.PREV_B2];var E=c[w],T=this.getCurvePercent(w/e.ENTRIES-1,1-(i-E)/(c[w+e.PREV_TIME]-E));v+=(c[w+e.R]-v)*T,g+=(c[w+e.G]-g)*T,m+=(c[w+e.B]-m)*T,y+=(c[w+e.A]-y)*T,_+=(c[w+e.R2]-_)*T,x+=(c[w+e.G2]-x)*T,b+=(c[w+e.B2]-b)*T}if(o==1)l.color.set(v,g,m,y),l.darkColor.set(_,x,b,1);else{var f=l.color,h=l.darkColor;s==R.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(g-f.g)*o,(m-f.b)*o,(y-f.a)*o),h.add((_-h.r)*o,(x-h.g)*o,(b-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(da),Rp=function(){function t(e){this.frames=q.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Fr.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var u=e.slots[this.slotIndex];if(s==je.mixOut&&o==R.setup){var l=u.data.attachmentName;u.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var c=this.frames;if(n<c[0]){if(o==R.setup||o==R.first){var f=u.data.attachmentName;u.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=c[c.length-1]?h=c.length-1:h=yr.binarySearch(c,n,1)-1;var d=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(d==null?null:e.getAttachment(this.slotIndex,d))},t}(),mO=null,v3=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r),n.frameVertices=new Array(r),mO==null&&(mO=q.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Fr.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex],c=l.getAttachment();if(!(!(c instanceof Ns)||!c.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=R.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=c;switch(s){case R.setup:f.length=0;return;case R.first:if(o==1){f.length=0;break}var g=q.setArraySize(f,d);if(v.bones==null)for(var m=v.vertices,y=0;y<d;y++)g[y]+=(m[y]-g[y])*o;else{o=1-o;for(var y=0;y<d;y++)g[y]*=o}}return}var _=q.setArraySize(f,d);if(i>=p[p.length-1]){var x=h[p.length-1];if(o==1)if(s==R.add){var v=c;if(v.bones==null)for(var m=v.vertices,y=0;y<d;y++)_[y]+=x[y]-m[y];else for(var y=0;y<d;y++)_[y]+=x[y]}else q.arrayCopy(x,0,_,0,d);else switch(s){case R.setup:{var b=c;if(b.bones==null)for(var m=b.vertices,y=0;y<d;y++){var S=m[y];_[y]=S+(x[y]-S)*o}else for(var y=0;y<d;y++)_[y]=x[y]*o;break}case R.first:case R.replace:for(var y=0;y<d;y++)_[y]+=(x[y]-_[y])*o;case R.add:var v=c;if(v.bones==null)for(var m=v.vertices,y=0;y<d;y++)_[y]+=(x[y]-m[y])*o;else for(var y=0;y<d;y++)_[y]+=x[y]*o}return}var w=yr.binarySearch(p,i),E=h[w-1],T=h[w],A=p[w],O=this.getCurvePercent(w-1,1-(i-A)/(p[w-1]-A));if(o==1)if(s==R.add){var v=c;if(v.bones==null)for(var m=v.vertices,y=0;y<d;y++){var P=E[y];_[y]+=P+(T[y]-P)*O-m[y]}else for(var y=0;y<d;y++){var P=E[y];_[y]+=P+(T[y]-P)*O}}else for(var y=0;y<d;y++){var P=E[y];_[y]=P+(T[y]-P)*O}else switch(s){case R.setup:{var k=c;if(k.bones==null)for(var m=k.vertices,y=0;y<d;y++){var P=E[y],S=m[y];_[y]=S+(P+(T[y]-P)*O-S)*o}else for(var y=0;y<d;y++){var P=E[y];_[y]=(P+(T[y]-P)*O)*o}break}case R.first:case R.replace:for(var y=0;y<d;y++){var P=E[y];_[y]+=(P+(T[y]-P)*O-_[y])*o}break;case R.add:var v=c;if(v.bones==null)for(var m=v.vertices,y=0;y<d;y++){var P=E[y];_[y]+=(P+(T[y]-P)*O-m[y])*o}else for(var y=0;y<d;y++){var P=E[y];_[y]+=(P+(T[y]-P)*O)*o}}}},e}(da),m3=function(){function t(e){this.frames=q.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Fr.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var u=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=u[l-1])return;if(!(n<u[0])){var c=0;if(r<u[0])c=0;else{c=yr.binarySearch(u,r);for(var f=u[c];c>0&&u[c-1]==f;)c--}for(;c<l&&n>=u[c];c++)i.push(this.events[c])}}},t}(),Ip=function(){function t(e){this.frames=q.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Fr.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var u=e.drawOrder,l=e.slots;if(s==je.mixOut&&o==R.setup){q.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var c=this.frames;if(n<c[0]){(o==R.setup||o==R.first)&&q.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=c[c.length-1]?f=c.length-1:f=yr.binarySearch(c,n)-1;var h=this.drawOrders[f];if(h==null)q.arrayCopy(l,0,u,0,l.length);else for(var d=0,p=h.length;d<p;d++)u[d]=l[h[d]]},t}(),o1=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fr.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case R.setup:c.mix=c.data.mix,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch;return;case R.first:c.mix+=(c.data.mix-c.mix)*o,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==R.setup?(c.mix=c.data.mix+(l[l.length+e.PREV_MIX]-c.data.mix)*o,u==je.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],c.compress=l[l.length+e.PREV_COMPRESS]!=0,c.stretch=l[l.length+e.PREV_STRETCH]!=0)):(c.mix+=(l[l.length+e.PREV_MIX]-c.mix)*o,u==je.mixIn&&(c.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],c.compress=l[l.length+e.PREV_COMPRESS]!=0,c.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=yr.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f],p=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==R.setup?(c.mix=c.data.mix+(h+(l[f+e.MIX]-h)*p-c.data.mix)*o,u==je.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=l[f+e.PREV_BEND_DIRECTION],c.compress=l[f+e.PREV_COMPRESS]!=0,c.stretch=l[f+e.PREV_STRETCH]!=0)):(c.mix+=(h+(l[f+e.MIX]-h)*p-c.mix)*o,u==je.mixIn&&(c.bendDirection=l[f+e.PREV_BEND_DIRECTION],c.compress=l[f+e.PREV_COMPRESS]!=0,c.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(da),s1=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fr.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=c.data;switch(s){case R.setup:c.rotateMix=f.rotateMix,c.translateMix=f.translateMix,c.scaleMix=f.scaleMix,c.shearMix=f.shearMix;return;case R.first:c.rotateMix+=(f.rotateMix-c.rotateMix)*o,c.translateMix+=(f.translateMix-c.translateMix)*o,c.scaleMix+=(f.scaleMix-c.scaleMix)*o,c.shearMix+=(f.shearMix-c.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var g=l.length;h=l[g+e.PREV_ROTATE],d=l[g+e.PREV_TRANSLATE],p=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR]}else{var m=yr.binarySearch(l,i,e.ENTRIES);h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR];var y=l[m],_=this.getCurvePercent(m/e.ENTRIES-1,1-(i-y)/(l[m+e.PREV_TIME]-y));h+=(l[m+e.ROTATE]-h)*_,d+=(l[m+e.TRANSLATE]-d)*_,p+=(l[m+e.SCALE]-p)*_,v+=(l[m+e.SHEAR]-v)*_}if(s==R.setup){var f=c.data;c.rotateMix=f.rotateMix+(h-f.rotateMix)*o,c.translateMix=f.translateMix+(d-f.translateMix)*o,c.scaleMix=f.scaleMix+(p-f.scaleMix)*o,c.shearMix=f.shearMix+(v-f.shearMix)*o}else c.rotateMix+=(h-c.rotateMix)*o,c.translateMix+=(d-c.translateMix)*o,c.scaleMix+=(p-c.scaleMix)*o,c.shearMix+=(v-c.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(da),kp=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fr.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case R.setup:c.position=c.data.position;return;case R.first:c.position+=(c.data.position-c.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=yr.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==R.setup?c.position=c.data.position+(f-c.data.position)*o:c.position+=(f-c.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(da),g3=function(t){tr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Fr.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case R.setup:c.spacing=c.data.spacing;return;case R.first:c.spacing+=(c.data.spacing-c.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=yr.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==R.setup?c.spacing=c.data.spacing+(f-c.data.spacing)*o:c.spacing+=(f-c.spacing)*o},e}(kp),l1=function(t){tr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=q.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Fr.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,u){var l=this.frames,c=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case R.setup:c.rotateMix=c.data.rotateMix,c.translateMix=c.data.translateMix;return;case R.first:c.rotateMix+=(c.data.rotateMix-c.rotateMix)*o,c.translateMix+=(c.data.translateMix-c.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=yr.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==R.setup?(c.rotateMix=c.data.rotateMix+(f-c.data.rotateMix)*o,c.translateMix=c.data.translateMix+(h-c.data.translateMix)*o):(c.rotateMix+=(f-c.rotateMix)*o,c.translateMix+=(h-c.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(da),y3=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new x3(this),this.propertyIDs=new HD,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new hm(function(){return new _3}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var u=a.trackLast-s.delay;if(u>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(u/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var u=a==0?R.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var c=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||u==R.add)for(var p=0;p<h;p++)q.webkit602BugfixHelper(l,u),d[p].apply(e,c,f,r,l,u,je.mixIn);else{var v=s.timelineMode,g=s.timelinesRotation.length==0;g&&q.setArraySize(s.timelinesRotation,h<<1,null);for(var m=s.timelinesRotation,p=0;p<h;p++){var y=d[p],_=v[p]==t.SUBSEQUENT?u:R.setup;y instanceof mi?this.applyRotateTimeline(y,e,f,l,_,m,p<<1,g):(q.webkit602BugfixHelper(l,u),y.apply(e,c,f,r,l,_,je.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==R.first&&(n=R.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=R.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,u=a<i.drawOrderThreshold,l=i.animationLast,c=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==R.add)for(var v=0;v<f;v++)h[v].apply(r,l,c,o,p,n,je.mixOut);else{var g=i.timelineMode,m=i.timelineHoldMix,y=i.timelinesRotation.length==0;y&&q.setArraySize(i.timelinesRotation,f<<1,null);var _=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var x=h[v],b=je.mixOut,S=void 0,w=0;switch(g[v]){case t.SUBSEQUENT:if(!s&&x instanceof Rp||!u&&x instanceof Ip)continue;S=n,w=p;break;case t.FIRST:S=R.setup,w=p;break;case t.HOLD:S=R.setup,w=d;break;default:S=R.setup;var E=m[v];w=d*Math.max(0,1-E.mixTime/E.mixDuration);break}i.totalAlpha+=w,x instanceof mi?this.applyRotateTimeline(x,r,c,w,S,_,v<<1,y):(q.webkit602BugfixHelper(w,n),S==R.setup&&(x instanceof Rp?s&&(b=je.mixOut):x instanceof Ip&&u&&(b=je.mixOut)),x.apply(r,l,c,o,w,S,b))}}return e.mixDuration>0&&this.queueEvents(i,c),this.events.length=0,i.nextAnimationLast=c,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,u){if(u&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,je.mixIn);return}var l=e,c=l.frames,f=r.bones[l.boneIndex],h=0,d=0;if(n<c[0])switch(a){case R.setup:f.rotation=f.data.rotation;default:return;case R.first:h=f.rotation,d=f.data.rotation}else if(h=a==R.setup?f.data.rotation:f.rotation,n>=c[c.length-mi.ENTRIES])d=f.data.rotation+c[c.length+mi.PREV_ROTATION];else{var p=yr.binarySearch(c,n,mi.ENTRIES),v=c[p+mi.PREV_ROTATION],g=c[p],m=l.getCurvePercent((p>>1)-1,1-(n-g)/(c[p+mi.PREV_TIME]-g));d=c[p+mi.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*m+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var y=0,_=d-h;if(_-=(16384-(16384.499999999996-_/360|0))*360,_==0)y=o[s];else{var x=0,b=0;u?(x=0,b=_):(x=o[s],b=o[s+1]);var S=_>0,w=x>=0;N.signum(b)!=N.signum(_)&&Math.abs(b)<=90&&(Math.abs(x)>180&&(x+=360*N.signum(x)),w=S),y=_+x-x%360,w!=S&&(y+=360*N.signum(x)),o[s]=y}o[s+1]=_,h+=y*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,u=0,l=s.length;u<l;u++){var c=s[u];if(c.time<o)break;c.time>i||this.queue.event(e,c)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);u<l;u++){var h=s[u];h.time<n||this.queue.event(e,s[u])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(q.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=R.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=q.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=q.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var u=0;u<i;u++)s.add(n[u].getPropertyId()),a[u]=t.HOLD;return}e:for(var u=0;u<i;u++){var l=n[u].getPropertyId();if(!s.add(l))a[u]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[u]=t.FIRST;else{for(var c=r.mixingTo;c!=null;c=c.mixingTo)if(!this.hasTimeline(c,l)){if(e.mixDuration>0){a[u]=t.HOLD_MIX,o[u]=c;continue e}break}a[u]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new yr("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),_3=function(){function t(){this.mixBlend=R.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),x3=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(sn.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(sn.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(sn.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(sn.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(sn.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(sn.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case sn.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case sn.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case sn.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case sn.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case sn.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=N.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case sn.event:var u=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,u);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,u);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,u),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,u);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),sn;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(sn||(sn={}));var K0e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),b3=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),S3=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new Qw(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new Kw(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new c3(r)},t.prototype.newPathAttachment=function(e,r){return new Ef(r)},t.prototype.newPointAttachment=function(e,r){return new h3(r)},t.prototype.newClippingAttachment=function(e,r){return new f3(r)},t}(),u1=function(){function t(e,r,n){if(this.matrix=new Ut,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var u=this.parent,l=this.matrix,c=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(u==null){var h=this.skeleton,d=n+90+s;l.a=N.cosDeg(n+o)*i*c,l.c=N.cosDeg(d)*a*c,l.b=N.sinDeg(n+o)*i*f,l.d=N.sinDeg(d)*a*f,l.tx=e*c+h.x,l.ty=r*f+h.y;return}var p=u.matrix.a,v=u.matrix.c,g=u.matrix.b,m=u.matrix.d;switch(l.tx=p*e+v*r+u.matrix.tx,l.ty=g*e+m*r+u.matrix.ty,this.data.transformMode){case Fe.Normal:{var d=n+90+s,y=N.cosDeg(n+o)*i,_=N.cosDeg(d)*a,x=N.sinDeg(n+o)*i,b=N.sinDeg(d)*a;l.a=p*y+v*x,l.c=p*_+v*b,l.b=g*y+m*x,l.d=g*_+m*b;return}case Fe.OnlyTranslation:{var d=n+90+s;l.a=N.cosDeg(n+o)*i,l.c=N.cosDeg(d)*a,l.b=N.sinDeg(n+o)*i,l.d=N.sinDeg(d)*a;break}case Fe.NoRotationOrReflection:{var S=p*p+g*g,w=0;S>1e-4?(S=Math.abs(p*m-v*g)/S,v=g*S,m=p*S,w=Math.atan2(g,p)*N.radDeg):(p=0,g=0,w=90-Math.atan2(m,v)*N.radDeg);var E=n+o-w,T=n+s-w+90,y=N.cosDeg(E)*i,_=N.cosDeg(T)*a,x=N.sinDeg(E)*i,b=N.sinDeg(T)*a;l.a=p*y-v*x,l.c=p*_-v*b,l.b=g*y+m*x,l.d=g*_+m*b;break}case Fe.NoScale:case Fe.NoScaleOrReflection:{var A=N.cosDeg(n),O=N.sinDeg(n),P=(p*A+v*O)/c,k=(g*A+m*O)/f,S=Math.sqrt(P*P+k*k);S>1e-5&&(S=1/S),P*=S,k*=S,S=Math.sqrt(P*P+k*k),this.data.transformMode==Fe.NoScale&&p*m-v*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(S=-S);var M=Math.PI/2+Math.atan2(k,P),B=Math.cos(M)*S,j=Math.sin(M)*S,y=N.cosDeg(o)*i,_=N.cosDeg(90+s)*a,x=N.sinDeg(o)*i,b=N.sinDeg(90+s)*a;l.a=P*y+B*x,l.c=P*_+B*b,l.b=k*y+j*x,l.d=k*_+j*b;break}}l.a*=c,l.c*=c,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*N.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*N.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*N.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*N.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,u=i*n.a,l=i*n.c,c=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=u*r.b-c*r.a,p=u*r.d-c*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*N.radDeg,this.arotation=Math.atan2(d,f)*N.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*N.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),u=e.x-r.tx,l=e.y-r.ty;return e.x=u*o*s-l*i*s,e.y=l*n*s-u*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=N.sinDeg(e),n=N.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*N.radDeg},t.prototype.localToWorldRotation=function(e){var r=N.sinDeg(e),n=N.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*N.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=N.cosDeg(e),u=N.sinDeg(e);r.a=s*n-u*a,r.c=s*i-u*o,r.b=u*n+s*a,r.d=u*i+s*o,this.appliedValid=!1},t}(),w3=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Fe.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),E3=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),T3=function(){function t(e){this.name=e}return t}(),A3=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var u=e.parent.matrix,l=1/(u.a*u.d-u.b*u.c),c=r-u.tx,f=n-u.ty,h=(c*u.d-f*u.c)*l-e.ax,d=(f*u.a-c*u.b)*l-e.ay,p=Math.atan2(d,h)*N.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var v=e.ascaleX,g=e.ascaleY;if(i||a){var m=e.data.length*v,y=Math.sqrt(h*h+d*d);if(i&&y<m||a&&y>m&&m>1e-4){var _=(y/m-1)*s+1;v*=_,o&&(g*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,v,g,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var u=e.ax,l=e.ay,c=e.ascaleX,f=c,h=e.ascaleY,d=r.ascaleX,p=e.matrix,v=0,g=0,m=0;c<0?(c=-c,v=180,m=-1):(v=0,m=1),h<0&&(h=-h,m=-m),d<0?(d=-d,g=180):g=0;var y=r.ax,_=0,x=0,b=0,S=p.a,w=p.c,E=p.b,T=p.d,A=Math.abs(c-h)<=1e-4;A?(_=r.ay,x=S*y+w*_+p.tx,b=E*y+T*_+p.ty):(_=0,x=S*y+p.tx,b=E*y+p.ty);var O=e.parent.matrix;S=O.a,w=O.c,E=O.b,T=O.d;var P=1/(S*T-w*E),k=n-O.tx,M=i-O.ty,B=(k*T-M*w)*P-u,j=(M*S-k*E)*P-l,z=B*B+j*j;k=x-O.tx,M=b-O.ty;var J=(k*T-M*w)*P-u,Z=(M*S-k*E)*P-l,$=Math.sqrt(J*J+Z*Z),F=r.data.length*d,G=0,V=0;e:if(A){F*=c;var U=(z-$*$-F*F)/(2*$*F);U<-1?U=-1:U>1&&(U=1,o&&$+F>1e-4&&(f*=(Math.sqrt(z)/($+F)-1)*s+1)),V=Math.acos(U)*a,S=$+F*U,w=F*Math.sin(V),G=Math.atan2(j*S-B*w,B*S+j*w)}else{S=c*F,w=h*F;var H=S*S,ee=w*w,ie=Math.atan2(j,B);E=ee*$*$+H*z-H*ee;var ae=-2*ee*$,pe=ee-H;if(T=ae*ae-4*pe*E,T>=0){var ye=Math.sqrt(T);ae<0&&(ye=-ye),ye=-(ae+ye)/2;var oe=ye/pe,_e=E/ye,Ce=Math.abs(oe)<Math.abs(_e)?oe:_e;if(Ce*Ce<=z){M=Math.sqrt(z-Ce*Ce)*a,G=ie-Math.atan2(M,Ce),V=Math.atan2(M/h,(Ce-$)/c);break e}}var be=N.PI,Oe=$-S,ke=Oe*Oe,we=0,Xe=0,tt=$+S,Et=tt*tt,$t=0;E=-S*$/(H-ee),E>=-1&&E<=1&&(E=Math.acos(E),k=S*Math.cos(E)+$,M=w*Math.sin(E),T=k*k+M*M,T<ke&&(be=E,ke=T,Oe=k,we=M),T>Et&&(Xe=E,Et=T,tt=k,$t=M)),z<=(ke+Et)/2?(G=ie-Math.atan2(we*a,Oe),V=be*a):(G=ie-Math.atan2($t*a,tt),V=Xe*a)}var Ht=Math.atan2(_,y)*m,_t=e.arotation;G=(G-Ht)*N.radDeg+v-_t,G>180?G-=360:G<-180&&(G+=360),e.updateWorldTransformWith(u,l,_t+G*s,f,e.ascaleY,0,0),_t=r.arotation,V=((V+Ht)*N.radDeg-r.ashearX)*m+g-_t,V>180?V-=360:V<-180&&(V+=360),r.updateWorldTransformWith(y,_,_t+V*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),C3=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),P3=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),Hn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(Hn||(Hn={}));var O3=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Ef){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,u=s==Hn.Length,l=o.rotateMode,c=l==zt.Tangent,f=l==zt.ChainScale,h=this.bones.length,d=c?h:h+1,p=this.bones,v=q.setArraySize(this.spaces,d),g=null,m=this.spacing;if(f||u){f&&(g=q.setArraySize(this.lengths,h));for(var y=0,_=d-1;y<_;){var x=p[y],b=x.data.length;if(b<t.epsilon)f&&(g[y]=0),v[++y]=0;else{var S=b*x.matrix.a,w=b*x.matrix.b,E=Math.sqrt(S*S+w*w);f&&(g[y]=E),v[++y]=(u?b+m:m)*E/b}}}else for(var y=1;y<d;y++)v[y]=m;var T=this.computeWorldPositions(e,d,c,o.positionMode==Mt.Percent,s==Hn.Percent),A=T[0],O=T[1],P=o.offsetRotation,k=!1;if(P==0)k=l==zt.Chain;else{k=!1;var M=this.target.bone.matrix;P*=M.a*M.d-M.b*M.c>0?N.degRad:-N.degRad}for(var y=0,M=3;y<h;y++,M+=3){var x=p[y],B=x.matrix;B.tx+=(A-B.tx)*n,B.ty+=(O-B.ty)*n;var S=T[M],w=T[M+1],j=S-A,z=w-O;if(f){var J=g[y];if(J!=0){var Z=(Math.sqrt(j*j+z*z)/J-1)*r+1;B.a*=Z,B.b*=Z}}if(A=S,O=w,a){var $=B.a,F=B.c,G=B.b,V=B.d,U=0,H=0,ee=0;if(c?U=T[M-1]:v[y+1]==0?U=T[M+2]:U=Math.atan2(z,j),U-=Math.atan2(G,$),k){H=Math.cos(U),ee=Math.sin(U);var ie=x.data.length;A+=(ie*(H*$-ee*G)-j)*r,O+=(ie*(ee*$+H*G)-z)*r}else U+=P;U>N.PI?U-=N.PI2:U<-N.PI&&(U+=N.PI2),U*=r,H=Math.cos(U),ee=Math.sin(U),B.a=H*$-ee*G,B.c=H*F-ee*V,B.b=ee*$+H*G,B.d=ee*F+H*V}x.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,u=this.spaces,l=q.setArraySize(this.positions,r*3+2),c=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var g=v[d];if(i&&(s*=g),a)for(var m=0;m<r;m++)u[m]*=g;c=q.setArraySize(this.world,8);for(var m=0,y=0,_=0;m<r;m++,y+=3){var x=u[m];s+=x;var b=s;if(f)b%=g,b<0&&(b+=g),_=0;else if(b<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,c,0,2)),this.addBeforePosition(b,c,0,l,y);continue}else if(b>g){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,c,0,2)),this.addAfterPosition(b-g,c,0,l,y);continue}for(;;_++){var S=v[_];if(!(b>S)){if(_==0)b/=S;else{var w=v[_-1];b=(b-w)/(S-w)}break}}_!=p&&(p=_,f&&_==d?(e.computeWorldVertices(o,h-4,4,c,0,2),e.computeWorldVertices(o,0,4,c,4,2)):e.computeWorldVertices(o,_*6+2,8,c,0,2)),this.addCurvePosition(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],l,y,n||m>0&&x==0)}return l}f?(h+=2,c=q.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,c,0,2),e.computeWorldVertices(o,0,2,c,h-4,2),c[h-2]=c[0],c[h-1]=c[1]):(d--,h-=4,c=q.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,c,0,2));for(var E=q.setArraySize(this.curves,d),T=0,A=c[0],O=c[1],P=0,k=0,M=0,B=0,j=0,z=0,J=0,Z=0,$=0,F=0,G=0,V=0,U=0,H=0,m=0,ee=2;m<d;m++,ee+=6)P=c[ee],k=c[ee+1],M=c[ee+2],B=c[ee+3],j=c[ee+4],z=c[ee+5],J=(A-P*2+M)*.1875,Z=(O-k*2+B)*.1875,$=((P-M)*3-A+j)*.09375,F=((k-B)*3-O+z)*.09375,G=J*2+$,V=Z*2+F,U=(P-A)*.75+J+$*.16666667,H=(k-O)*.75+Z+F*.16666667,T+=Math.sqrt(U*U+H*H),U+=G,H+=V,G+=$,V+=F,T+=Math.sqrt(U*U+H*H),U+=G,H+=V,T+=Math.sqrt(U*U+H*H),U+=G+$,H+=V+F,T+=Math.sqrt(U*U+H*H),E[m]=T,A=j,O=z;if(i&&(s*=T),a)for(var m=0;m<r;m++)u[m]*=T;for(var ie=this.segments,ae=0,m=0,y=0,_=0,pe=0;m<r;m++,y+=3){var x=u[m];s+=x;var b=s;if(f)b%=T,b<0&&(b+=T),_=0;else if(b<0){this.addBeforePosition(b,c,0,l,y);continue}else if(b>T){this.addAfterPosition(b-T,c,h-4,l,y);continue}for(;;_++){var ye=E[_];if(!(b>ye)){if(_==0)b/=ye;else{var w=E[_-1];b=(b-w)/(ye-w)}break}}if(_!=p){p=_;var oe=_*6;for(A=c[oe],O=c[oe+1],P=c[oe+2],k=c[oe+3],M=c[oe+4],B=c[oe+5],j=c[oe+6],z=c[oe+7],J=(A-P*2+M)*.03,Z=(O-k*2+B)*.03,$=((P-M)*3-A+j)*.006,F=((k-B)*3-O+z)*.006,G=J*2+$,V=Z*2+F,U=(P-A)*.3+J+$*.16666667,H=(k-O)*.3+Z+F*.16666667,ae=Math.sqrt(U*U+H*H),ie[0]=ae,oe=1;oe<8;oe++)U+=G,H+=V,G+=$,V+=F,ae+=Math.sqrt(U*U+H*H),ie[oe]=ae;U+=G,H+=V,ae+=Math.sqrt(U*U+H*H),ie[8]=ae,U+=G+$,H+=V+F,ae+=Math.sqrt(U*U+H*H),ie[9]=ae,pe=0}for(b*=ae;;pe++){var _e=ie[pe];if(!(b>_e)){if(pe==0)b/=_e;else{var w=ie[pe-1];b=pe+(b-w)/(_e-w)}break}}this.addCurvePosition(b*.1,A,O,P,k,M,B,j,z,l,y,n||m>0&&x==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],u=r[n+2]-o,l=r[n+3]-s,c=Math.atan2(l,u);i[a]=o+e*Math.cos(c),i[a+1]=s+e*Math.sin(c),i[a+2]=c},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],u=o-r[n],l=s-r[n+1],c=Math.atan2(l,u);i[a]=o+e*Math.cos(c),i[a+1]=s+e*Math.sin(c),i[a+2]=c},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,u,l,c,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,g=v*v,m=g*v,y=v*e,_=y*3,x=v*_,b=_*e,S=r*m+i*x+o*b+u*p,w=n*m+a*x+s*b+l*p;c[f]=S,c[f+1]=w,h&&(c[f+2]=Math.atan2(w-(n*g+a*y*2+s*d),S-(r*g+i*y*2+o*d)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),R3=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new gf,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,u=o.c,l=o.b,c=o.d,f=s*c-u*l>0?N.degRad:-N.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],y=!1,_=m.matrix;if(e!=0){var x=_.a,b=_.c,S=_.b,w=_.d,E=Math.atan2(l,s)-Math.atan2(S,x)+h;E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2),E*=e;var T=Math.cos(E),A=Math.sin(E);_.a=T*x-A*S,_.c=T*b-A*w,_.b=A*x+T*S,_.d=A*b+T*w,y=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),_.tx+=(O.x-_.tx)*r,_.ty+=(O.y-_.ty)*r,y=!0}if(n>0){var P=Math.sqrt(_.a*_.a+_.b*_.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),_.a*=P,_.b*=P,P=Math.sqrt(_.c*_.c+_.d*_.d),k=Math.sqrt(u*u+c*c),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),_.c*=P,_.d*=P,y=!0}if(i>0){var b=_.c,w=_.d,M=Math.atan2(w,b),E=Math.atan2(c,u)-Math.atan2(l,s)-(M-Math.atan2(_.b,_.a));E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2),E=M+(E+d)*i;var P=Math.sqrt(b*b+w*w);_.c=Math.cos(E)*P,_.d=Math.sin(E)*P,y=!0}y&&(m.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,u=o.c,l=o.b,c=o.d,f=s*c-u*l>0?N.degRad:-N.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],y=!1,_=m.matrix;if(e!=0){var x=_.a,b=_.c,S=_.b,w=_.d,E=Math.atan2(l,s)+h;E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2),E*=e;var T=Math.cos(E),A=Math.sin(E);_.a=T*x-A*S,_.c=T*b-A*w,_.b=A*x+T*S,_.d=A*b+T*w,y=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),_.tx+=O.x*r,_.ty+=O.y*r,y=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;_.a*=P,_.b*=P,P=(Math.sqrt(u*u+c*c)-1+this.data.offsetScaleY)*n+1,_.c*=P,_.d*=P,y=!0}if(i>0){var E=Math.atan2(c,u)-Math.atan2(l,s);E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2);var b=_.c,w=_.d;E=Math.atan2(w,b)+(E-N.PI/2+d)*i;var P=Math.sqrt(b*b+w*w);_.c=Math.cos(E)*P,_.d=Math.sin(E)*P,y=!0}y&&(m.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,u=o.length;s<u;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var c=l.arotation;if(e!=0){var f=a.arotation-c+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,c+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var g=l.ashearY;if(i>0){var f=a.ashearY-g+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,c,p,v,l.ashearX,g)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,u=o.length;s<u;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var c=l.arotation;e!=0&&(c+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,c,d,p,l.ashearX,v)}},t.prototype.getOrder=function(){return this.data.order},t}(),I3=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new u1(n,this,null);else{var a=this.bones[n.parent.index];i=new u1(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new Zw(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var u=e.ikConstraints[r];this.ikConstraints.push(new A3(u,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new R3(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var c=e.pathConstraints[r];this.pathConstraints.push(new O3(c,this))}this.color=new de(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,u=a.length,l=o.length,c=s.length,f=u+l+c;e:for(var n=0;n<f;n++){for(var h=0;h<u;h++){var d=a[h];if(d.data.order==n){this.sortIkConstraint(d);continue e}}for(var h=0;h<l;h++){var d=o[h];if(d.data.order==n){this.sortTransformConstraint(d);continue e}}for(var h=0;h<c;h++){var d=s[h];if(d.data.order==n){this.sortPathConstraint(d);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Ef&&this.sortPathConstraintAttachmentWith(s,i);for(var u=e.bones,l=u.length,a=0;a<l;a++)this.sortBone(u[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(u[a].children);for(var a=0;a<l;a++)u[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Ef){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var u=n[a];this.sortBone(i[u])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var u=this.pathConstraints,r=0,n=u.length;r<n;r++){var a=u[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;q.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=0,c=i.length;l<c;l++){var f=i[l],h=0,d=null,p=f.getAttachment();if(p instanceof Qw)h=8,d=q.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof Kw){var v=p;h=v.worldVerticesLength,d=q.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var g=0,m=d.length;g<m;g+=2){var y=d[g],_=d[g+1];a=Math.min(a,y),o=Math.min(o,_),s=Math.max(s,y),u=Math.max(u,_)}}e.set(a,o),r.set(s-a,u-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),Z0e=function(t){tr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(kw),k3=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),M3=function(){function t(e,r,n){if(this.color=new de(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),F3=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),N3=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var u in s){var l=s[u];if(o==l){var c=this.getAttachment(n,u);c!=null&&a.setAttachment(c);break}}}n++}},t}(),L3=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new k3,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],u=null,l=this.getValue(s,"parent",null);if(l!=null&&(u=n.findBone(l),u==null))throw new Error("Parent bone not found: "+l);var c=new w3(n.bones.length,s.name,u);c.length=this.getValue(s,"length",0)*r,c.x=this.getValue(s,"x",0)*r,c.y=this.getValue(s,"y",0)*r,c.rotation=this.getValue(s,"rotation",0),c.scaleX=this.getValue(s,"scaleX",1),c.scaleY=this.getValue(s,"scaleY",1),c.shearX=this.getValue(s,"shearX",0),c.shearY=this.getValue(s,"shearY",0),c.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(c)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,d=f.bone,p=n.findBone(d);if(p==null)throw new Error("Slot bone not found: "+d);var c=new M3(n.slots.length,h,p),v=this.getValue(f,"color",null);v!=null&&c.color.setFromString(v);var g=this.getValue(f,"dark",null);g!=null&&(c.darkColor=new de(1,1,1,1),c.darkColor.setFromString(g)),c.attachmentName=this.getValue(f,"attachment",null),c.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(c)}if(i.ik)for(var o=0;o<i.ik.length;o++){var m=i.ik[o],c=new C3(m.name);c.order=this.getValue(m,"order",0);for(var y=0;y<m.bones.length;y++){var d=m.bones[y],_=n.findBone(d);if(_==null)throw new Error("IK bone not found: "+d);c.bones.push(_)}var x=m.target;if(c.target=n.findBone(x),c.target==null)throw new Error("IK target bone not found: "+x);c.bendDirection=this.getValue(m,"bendPositive",!0)?1:-1,c.mix=this.getValue(m,"mix",1),n.ikConstraints.push(c)}if(i.transform)for(var o=0;o<i.transform.length;o++){var m=i.transform[o],c=new F3(m.name);c.order=this.getValue(m,"order",0);for(var y=0;y<m.bones.length;y++){var d=m.bones[y],_=n.findBone(d);if(_==null)throw new Error("Transform constraint bone not found: "+d);c.bones.push(_)}var x=m.target;if(c.target=n.findBone(x),c.target==null)throw new Error("Transform constraint target bone not found: "+x);c.local=this.getValue(m,"local",!1),c.relative=this.getValue(m,"relative",!1),c.offsetRotation=this.getValue(m,"rotation",0),c.offsetX=this.getValue(m,"x",0)*r,c.offsetY=this.getValue(m,"y",0)*r,c.offsetScaleX=this.getValue(m,"scaleX",0),c.offsetScaleY=this.getValue(m,"scaleY",0),c.offsetShearY=this.getValue(m,"shearY",0),c.rotateMix=this.getValue(m,"rotateMix",1),c.translateMix=this.getValue(m,"translateMix",1),c.scaleMix=this.getValue(m,"scaleMix",1),c.shearMix=this.getValue(m,"shearMix",1),n.transformConstraints.push(c)}if(i.path)for(var o=0;o<i.path.length;o++){var m=i.path[o],c=new P3(m.name);c.order=this.getValue(m,"order",0);for(var y=0;y<m.bones.length;y++){var d=m.bones[y],_=n.findBone(d);if(_==null)throw new Error("Transform constraint bone not found: "+d);c.bones.push(_)}var x=m.target;if(c.target=n.findSlot(x),c.target==null)throw new Error("Path target slot not found: "+x);c.positionMode=t.positionModeFromString(this.getValue(m,"positionMode","percent")),c.spacingMode=t.spacingModeFromString(this.getValue(m,"spacingMode","length")),c.rotateMode=t.rotateModeFromString(this.getValue(m,"rotateMode","tangent")),c.offsetRotation=this.getValue(m,"rotation",0),c.position=this.getValue(m,"position",0),c.positionMode==Mt.Fixed&&(c.position*=r),c.spacing=this.getValue(m,"spacing",0),(c.spacingMode==Hn.Length||c.spacingMode==Hn.Fixed)&&(c.spacing*=r),c.rotateMix=this.getValue(m,"rotateMix",1),c.translateMix=this.getValue(m,"translateMix",1),n.pathConstraints.push(c)}if(i.skins)for(var b in i.skins){var S=i.skins[b],w=new N3(b);for(var h in S){var E=n.findSlotIndex(h);if(E==-1)throw new Error("Slot not found: "+h);var f=S[h];for(var T in f){var A=this.readAttachment(f[T],w,E,T,n);A!=null&&w.addAttachment(E,T,A)}}n.skins.push(w),w.name=="default"&&(n.defaultSkin=w)}for(var o=0,O=this.linkedMeshes.length;o<O;o++){var P=this.linkedMeshes[o],w=P.skin==null?n.defaultSkin:n.findSkin(P.skin);if(w==null)throw new Error("Skin not found: "+P.skin);var k=w.getAttachment(P.slotIndex,P.parent);if(k==null)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,i.events)for(var M in i.events){var B=i.events[M],c=new T3(M);c.intValue=this.getValue(B,"int",0),c.floatValue=this.getValue(B,"float",0),c.stringValue=this.getValue(B,"string",""),c.audioPath=this.getValue(B,"audio",null),c.audioPath!=null&&(c.volume=this.getValue(B,"volume",1),c.balance=this.getValue(B,"balance",0)),n.events.push(c)}if(i.animations)for(var j in i.animations){var z=i.animations[j];this.readAnimation(z,j,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var u=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,u);if(l==null)return null;l.path=u,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var c=this.getValue(e,"color",null);return c!=null&&l.color.setFromString(c),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var c=this.getValue(e,"color",null);return c!=null&&f.color.setFromString(c),f}case"mesh":case"linkedmesh":{var u=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,u);if(h==null)return null;h.path=u;var c=this.getValue(e,"color",null);c!=null&&h.color.setFromString(c);var d=this.getValue(e,"parent",null);if(d!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new Q0e(h,this.getValue(e,"skin",null),n,d)),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var u=this.attachmentLoader.newPathAttachment(r,i);if(u==null)return null;u.closed=this.getValue(e,"closed",!1),u.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,u,v<<1);for(var g=q.newArray(v/3,0),m=0;m<e.lengths.length;m++)g[m]=e.lengths[m]*o;u.lengths=g;var c=this.getValue(e,"color",null);return c!=null&&u.color.setFromString(c),u}case"point":{var y=this.attachmentLoader.newPointAttachment(r,i);if(y==null)return null;y.x=this.getValue(e,"x",0)*o,y.y=this.getValue(e,"y",0)*o,y.rotation=this.getValue(e,"rotation",0);var c=this.getValue(e,"color",null);return c!=null&&y.color.setFromString(c),y}case"clipping":{var _=this.attachmentLoader.newClippingAttachment(r,i);if(_==null)return null;var x=this.getValue(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);_.endSlot=b}var v=e.vertexCount;this.readVertices(e,_,v<<1);var c=this.getValue(e,"color",null);return c!=null&&_.color.setFromString(c),_}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=q.toFloatArray(a);if(i!=1)for(var s=0,u=a.length;s<u;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,c=new Array,s=0,u=a.length;s<u;){var f=a[s++];c.push(f);for(var h=s+f*4;s<h;s+=4)c.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=c,r.vertices=q.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var u=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var c in u){var f=u[c];if(c=="attachment"){var h=new Rp(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,v.time,v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(c=="color"){var h=new i1(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],g=new de;g.setFromString(v.color||"ffffffff"),h.setFrame(d,v.time,g.r,g.g,g.b,g.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*i1.ENTRIES])}else if(c=="twoColor"){var h=new a1(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new de,y=new de;m.setFromString(v.light),y.setFromString(v.dark),h.setFrame(d,v.time,m.r,m.g,m.b,m.a,y.r,y.g,y.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*a1.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+c+" ("+s+")")}}if(e.bones)for(var _ in e.bones){var x=e.bones[_],b=n.findBoneIndex(_);if(b==-1)throw new Error("Bone not found: "+_);for(var c in x){var f=x[c];if(c==="rotate"){var h=new mi(f.length);h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,v.angle),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*mi.ENTRIES])}else if(c==="translate"||c==="scale"||c==="shear"){var h=null,S=1;c==="scale"?h=new d3(f.length):c==="shear"?h=new p3(f.length):(h=new Tf(f.length),S=i),h.boneIndex=b;for(var d=0,p=0;p<f.length;p++){var v=f[p],w=this.getValue(v,"x",0),E=this.getValue(v,"y",0);h.setFrame(d,v.time,w*S,E*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Tf.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+c+" ("+_+")")}}if(e.ik)for(var T in e.ik){var A=e.ik[T],O=n.findIkConstraint(T),h=new o1(A.length);h.ikConstraintIndex=n.ikConstraints.indexOf(O);for(var d=0,p=0;p<A.length;p++){var v=A[p];h.setFrame(d,v.time,this.getValue(v,"mix",1),this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*o1.ENTRIES])}if(e.transform)for(var T in e.transform){var A=e.transform[T],O=n.findTransformConstraint(T),h=new s1(A.length);h.transformConstraintIndex=n.transformConstraints.indexOf(O);for(var d=0,p=0;p<A.length;p++){var v=A[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*s1.ENTRIES])}if(e.paths)for(var T in e.paths){var A=e.paths[T],P=n.findPathConstraintIndex(T);if(P==-1)throw new Error("Path constraint not found: "+T);var k=n.pathConstraints[P];for(var c in A){var f=A[c];if(c==="position"||c==="spacing"){var h=null,S=1;c==="spacing"?(h=new g3(f.length),(k.spacingMode==Hn.Length||k.spacingMode==Hn.Fixed)&&(S=i)):(h=new kp(f.length),k.positionMode==Mt.Fixed&&(S=i)),h.pathConstraintIndex=P;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,c,0)*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*kp.ENTRIES])}else if(c==="mix"){var h=new l1(f.length);h.pathConstraintIndex=P;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*l1.ENTRIES])}}}if(e.deform)for(var M in e.deform){var B=e.deform[M],j=n.findSkin(M);if(j!=null)for(var s in B){var u=B[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+u.name);for(var c in u){var f=u[c],z=j.getAttachment(l,c);if(z==null)throw new Error("Deform attachment not found: "+f.name);var J=z.bones!=null,Z=z.vertices,$=J?Z.length/3*2:Z.length,h=new v3(f.length);h.slotIndex=l,h.attachment=z;for(var d=0,F=0;F<f.length;F++){var v=f[F],G=void 0,V=this.getValue(v,"vertices",null);if(V==null)G=J?q.newFloatArray($):Z;else{G=q.newFloatArray($);var U=this.getValue(v,"offset",0);if(q.arrayCopy(V,0,G,U,V.length),i!=1)for(var p=U,H=p+V.length;p<H;p++)G[p]*=i;if(!J)for(var p=0;p<$;p++)G[p]+=Z[p]}h.setFrame(d,v.time,G),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var ee=e.drawOrder;if(ee==null&&(ee=e.draworder),ee!=null){for(var h=new Ip(ee.length),ie=n.slots.length,d=0,F=0;F<ee.length;F++){var ae=ee[F],pe=null,ye=this.getValue(ae,"offsets",null);if(ye!=null){pe=q.newArray(ie,-1);for(var oe=q.newArray(ie-ye.length,0),_e=0,Ce=0,p=0;p<ye.length;p++){var be=ye[p],l=n.findSlotIndex(be.slot);if(l==-1)throw new Error("Slot not found: "+be.slot);for(;_e!=l;)oe[Ce++]=_e++;pe[_e+be.offset]=_e++}for(;_e<ie;)oe[Ce++]=_e++;for(var p=ie-1;p>=0;p--)pe[p]==-1&&(pe[p]=oe[--Ce])}h.setFrame(d++,ae.time,pe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new m3(e.events.length),d=0,p=0;p<e.events.length;p++){var Oe=e.events[p],ke=n.findEvent(Oe.name);if(ke==null)throw new Error("Event not found: "+Oe.name);var we=new E3(q.toSinglePrecision(Oe.time),ke);we.intValue=this.getValue(Oe,"int",ke.intValue),we.floatValue=this.getValue(Oe,"float",ke.floatValue),we.stringValue=this.getValue(Oe,"string",ke.stringValue),we.data.audioPath!=null&&(we.volume=this.getValue(Oe,"volume",1),we.balance=this.getValue(Oe,"balance",0)),h.setFrame(d++,we)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new yr(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Se.NORMAL;if(e=="additive")return Se.ADD;if(e=="multiply")return Se.MULTIPLY;if(e=="screen")return Se.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return Mt.Fixed;if(e=="percent")return Mt.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return Hn.Length;if(e=="fixed")return Hn.Fixed;if(e=="percent")return Hn.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return zt.Tangent;if(e=="chain")return zt.Chain;if(e=="chainscale")return zt.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Fe.Normal;if(e=="onlytranslation")return Fe.OnlyTranslation;if(e=="norotationorreflection")return Fe.NoRotationOrReflection;if(e=="noscale")return Fe.NoScale;if(e=="noscaleorreflection")return Fe.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),Q0e=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),J0e=function(t){tr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new I3(r),this.skeleton.updateWorldTransform(),this.stateData=new b3(r),this.state=new y3(this.stateData)},e}(Zf);const e_e=Object.freeze(Object.defineProperty({__proto__:null,Animation:yr,AnimationState:y3,AnimationStateAdapter2:K0e,AnimationStateData:b3,AtlasAttachmentLoader:S3,Attachment:qw,AttachmentTimeline:Rp,Bone:u1,BoneData:w3,BoundingBoxAttachment:c3,ClippingAttachment:f3,ColorTimeline:i1,CurveTimeline:da,DeformTimeline:v3,DrawOrderTimeline:Ip,Event:E3,EventData:T3,EventQueue:x3,EventTimeline:m3,get EventType(){return sn},IkConstraint:A3,IkConstraintData:C3,IkConstraintTimeline:o1,JitterEffect:H0e,MeshAttachment:Kw,PathAttachment:Ef,PathConstraint:O3,PathConstraintData:P3,PathConstraintMixTimeline:l1,PathConstraintPositionTimeline:kp,PathConstraintSpacingTimeline:g3,PointAttachment:h3,RegionAttachment:Qw,RotateTimeline:mi,ScaleTimeline:d3,ShearTimeline:p3,Skeleton:I3,SkeletonBounds:Z0e,SkeletonData:k3,SkeletonJson:L3,Skin:N3,Slot:Zw,SlotData:M3,get SpacingMode(){return Hn},Spine:J0e,SwirlEffect:q0e,get TimelineType(){return Fr},TrackEntry:_3,TransformConstraint:R3,TransformConstraintData:F3,TransformConstraintTimeline:s1,TranslateTimeline:Tf,TwoColorTimeline:a1,VertexAttachment:Ns},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c1=function(t,e){return c1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},c1(t,e)};function Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jw=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),ia=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var u=r.bone.skeleton,l=r.deform,c=this.vertices,f=this.bones;if(!f){l.length>0&&(c=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,g=h.c,m=h.b,y=h.d,_=n,x=o;x<i;_+=2,x+=s){var b=c[_],S=c[_+1];a[x]=b*v+S*g+d,a[x+1]=b*m+S*y+p}return}for(var w=0,E=0,T=0;T<n;T+=2){var A=f[w];w+=A+1,E+=A}var O=u.bones;if(l.length==0)for(var x=o,g=E*3;x<i;x+=s){var P=0,k=0,A=f[w++];for(A+=w;w<A;w++,g+=3){var h=O[f[w]].matrix,b=c[g],S=c[g+1],M=c[g+2];P+=(b*h.a+S*h.c+h.tx)*M,k+=(b*h.b+S*h.d+h.ty)*M}a[x]=P,a[x+1]=k}else for(var B=l,x=o,g=E*3,j=E<<1;x<i;x+=s){var P=0,k=0,A=f[w++];for(A+=w;w<A;w++,g+=3,j+=2){var h=O[f[w]].matrix,b=c[g]+B[j],S=c[g+1]+B[j+1],M=c[g+2];P+=(b*h.a+S*h.c+h.tx)*M,k+=(b*h.b+S*h.d+h.ty)*M}a[x]=P,a[x+1]=k}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),q.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=q.newFloatArray(this.vertices.length),q.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(Jw),D3=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.BoundingBox,n.color=new de(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(ia),B3=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Clipping,n.endSlot=null,n.color=new de(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(ia),mm=function(t){Ve(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=$e.Mesh,i.region=null,i.triangles=[],i.color=new de(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new de(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),q.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),q.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),q.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(ia),Af=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new de(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),q.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(ia),j3=function(t){Ve(e,t);function e(r){var n=t.call(this,r)||this;return n.type=$e.Point,n.x=0,n.y=0,n.rotation=0,n.color=new de(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=N.cosDeg(this.rotation),a=N.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*N.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(ia),eE=function(t){Ve(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=$e.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new de(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=q.newFloatArray(8),i.uvs=q.newFloatArray(8),i.tempColor=new de(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,u=o+this.region.height*i,l=this.rotation*Math.PI/180,c=Math.cos(l),f=Math.sin(l),h=this.x,d=this.y,p=a*c+h,v=a*f,g=o*c+d,m=o*f,y=s*c+h,_=s*f,x=u*c+d,b=u*f,S=this.offset;S[0]=p-m,S[1]=g+v,S[2]=p-b,S[3]=x+v,S[4]=y-b,S[5]=x+_,S[6]=y-m,S[7]=g+_;var w=this.uvs;r.degrees==90?(w[2]=r.u,w[3]=r.v2,w[4]=r.u,w[5]=r.v,w[6]=r.u2,w[7]=r.v,w[0]=r.u2,w[1]=r.v2):(w[0]=r.u,w[1]=r.v2,w[2]=r.u,w[3]=r.v,w[4]=r.u2,w[5]=r.v,w[6]=r.u2,w[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,u=o.matrix,l=u.tx,c=u.ty,f=u.a,h=u.c,d=u.b,p=u.d,v=0,g=0;v=s[0],g=s[1],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+c,i+=a,v=s[2],g=s[3],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+c,i+=a,v=s[4],g=s[5],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+c,i+=a,v=s[6],g=s[7],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+c},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,q.arrayCopy(this.uvs,0,r.uvs,0,8),q.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(Jw),tE=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return q.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),Pr;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(Pr||(Pr={}));var rE=[Pr.hold,Pr.once,Pr.loop,Pr.pingpong,Pr.onceReverse,Pr.loopReverse,Pr.pingpongReverse],gm=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new qD,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,u){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,c=0,f=l.length;c<f;c++)l[c].apply(e,r,n,a,o,s,u)},t}(),nt={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},Yt=function(){function t(e,r){this.propertyIds=r,this.frames=q.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),Pi=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=q.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=q.newFloatArray(n);q.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,u,l,c,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,g=(o-u*2+c)*.03,m=((s-l)*3-a+f)*.006,y=((u-c)*3-o+h)*.006,_=v*2+m,x=g*2+y,b=(s-a)*.3+v+m*.16666667,S=(u-o)*.3+g+y*.16666667,w=a+b,E=o+S,T=p+18;p<T;p+=2)d[p]=w,d[p+1]=E,b+=_,S+=x,_+=m,x+=y,w+=b,E+=S},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],u=this.frames[n+i];return u+(r-s)/(o[a]-s)*(o[a+1]-u)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var c=o[a-2],f=o[a-1];return f+(r-c)/(o[a]-c)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],d=o[l-1];return d+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-d)},e}(Yt),Oi=function(t){Ve(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],u=n[i+1];return u+(r-s)/(n[i+2]-s)*(n[i+2+1]-u);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(Pi),ym=function(t){Ve(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(Pi),Cf=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.rotation=l.data.rotation;return;case R.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case R.setup:l.rotation=l.data.rotation+f*o;break;case R.first:case R.replace:f+=l.data.rotation-l.rotation;case R.add:l.rotation+=f*o}}},e}(Oi),nE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.x+"|"+i,nt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.x=l.data.x,l.y=l.data.y;return;case R.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,d=Yt.search(c,i,3),p=this.curves[d/3];switch(p){case 0:var v=c[d];f=c[d+1],h=c[d+2];var g=(i-v)/(c[d+3]-v);f+=(c[d+3+1]-f)*g,h+=(c[d+3+2]-h)*g;break;case 1:f=c[d+1],h=c[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case R.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case R.first:case R.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case R.add:l.x+=f*o,l.y+=h*o}}},e}(ym),iE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.x=l.data.x;return;case R.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case R.setup:l.x=l.data.x+f*o;break;case R.first:case R.replace:l.x+=(l.data.x+f-l.x)*o;break;case R.add:l.x+=f*o}}},e}(Oi),aE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.y=l.data.y;return;case R.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case R.setup:l.y=l.data.y+f*o;break;case R.first:case R.replace:l.y+=(l.data.y+f-l.y)*o;break;case R.add:l.y+=f*o}}},e}(Oi),oE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.scaleX+"|"+i,nt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case R.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,d=Yt.search(c,i,3),p=this.curves[d/3];switch(p){case 0:var v=c[d];f=c[d+1],h=c[d+2];var g=(i-v)/(c[d+3]-v);f+=(c[d+3+1]-f)*g,h+=(c[d+3+2]-h)*g;break;case 1:f=c[d+1],h=c[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==R.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var m=0,y=0;if(u==je.mixOut)switch(s){case R.setup:m=l.data.scaleX,y=l.data.scaleY,l.scaleX=m+(Math.abs(f)*N.signum(m)-m)*o,l.scaleY=y+(Math.abs(h)*N.signum(y)-y)*o;break;case R.first:case R.replace:m=l.scaleX,y=l.scaleY,l.scaleX=m+(Math.abs(f)*N.signum(m)-m)*o,l.scaleY=y+(Math.abs(h)*N.signum(y)-y)*o;break;case R.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case R.setup:m=Math.abs(l.data.scaleX)*N.signum(f),y=Math.abs(l.data.scaleY)*N.signum(h),l.scaleX=m+(f-m)*o,l.scaleY=y+(h-y)*o;break;case R.first:case R.replace:m=Math.abs(l.scaleX)*N.signum(f),y=Math.abs(l.scaleY)*N.signum(h),l.scaleX=m+(f-m)*o,l.scaleY=y+(h-y)*o;break;case R.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(ym),sE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.scaleX=l.data.scaleX;return;case R.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==R.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(u==je.mixOut)switch(s){case R.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*N.signum(h)-h)*o;break;case R.first:case R.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*N.signum(h)-h)*o;break;case R.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case R.setup:h=Math.abs(l.data.scaleX)*N.signum(f),l.scaleX=h+(f-h)*o;break;case R.first:case R.replace:h=Math.abs(l.scaleX)*N.signum(f),l.scaleX=h+(f-h)*o;break;case R.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}(Oi),lE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.scaleY=l.data.scaleY;return;case R.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==R.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(u==je.mixOut)switch(s){case R.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*N.signum(h)-h)*o;break;case R.first:case R.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*N.signum(h)-h)*o;break;case R.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case R.setup:h=Math.abs(l.data.scaleY)*N.signum(f),l.scaleY=h+(f-h)*o;break;case R.first:case R.replace:h=Math.abs(l.scaleY)*N.signum(f),l.scaleY=h+(f-h)*o;break;case R.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}(Oi),uE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.shearX+"|"+i,nt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case R.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,d=Yt.search(c,i,3),p=this.curves[d/3];switch(p){case 0:var v=c[d];f=c[d+1],h=c[d+2];var g=(i-v)/(c[d+3]-v);f+=(c[d+3+1]-f)*g,h+=(c[d+3+2]-h)*g;break;case 1:f=c[d+1],h=c[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case R.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case R.first:case R.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case R.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(ym),cE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.shearX=l.data.shearX;return;case R.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case R.setup:l.shearX=l.data.shearX+f*o;break;case R.first:case R.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case R.add:l.shearX+=f*o}}},e}(Oi),fE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.bones[this.boneIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.shearY=l.data.shearY;return;case R.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case R.setup:l.shearY=l.data.shearY+f*o;break;case R.first:case R.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case R.add:l.shearY+=f*o}}},e}(Oi),hE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,[nt.rgb+"|"+i,nt.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=this.frames,f=l.color;if(i<c[0]){var h=l.data.color;switch(s){case R.setup:f.setFromColor(h);return;case R.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,g=0,m=Yt.search(c,i,5),y=this.curves[m/5];switch(y){case 0:var _=c[m];d=c[m+1],p=c[m+2],v=c[m+3],g=c[m+4];var x=(i-_)/(c[m+5]-_);d+=(c[m+5+1]-d)*x,p+=(c[m+5+2]-p)*x,v+=(c[m+5+3]-v)*x,g+=(c[m+5+4]-g)*x;break;case 1:d=c[m+1],p=c[m+2],v=c[m+3],g=c[m+4];break;default:d=this.getBezierValue(i,m,1,y-2),p=this.getBezierValue(i,m,2,y+18-2),v=this.getBezierValue(i,m,3,y+18*2-2),g=this.getBezierValue(i,m,4,y+18*3-2)}o==1?f.set(d,p,v,g):(s==R.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(g-f.a)*o))}},e}(Pi),dE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,[nt.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=this.frames,f=l.color;if(i<c[0]){var h=l.data.color;switch(s){case R.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case R.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var d=0,p=0,v=0,g=Yt.search(c,i,4),m=this.curves[g>>2];switch(m){case 0:var y=c[g];d=c[g+1],p=c[g+2],v=c[g+3];var _=(i-y)/(c[g+4]-y);d+=(c[g+4+1]-d)*_,p+=(c[g+4+2]-p)*_,v+=(c[g+4+3]-v)*_;break;case 1:d=c[g+1],p=c[g+2],v=c[g+3];break;default:d=this.getBezierValue(i,g,1,m-2),p=this.getBezierValue(i,g,2,m+18-2),v=this.getBezierValue(i,g,3,m+18*2-2)}if(o==1)f.r=d,f.g=p,f.b=v;else{if(s==R.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(d-f.r)*o,f.g+=(p-f.g)*o,f.b+=(v-f.b)*o}}},e}(Pi),pE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case R.setup:c.a=f.a;return;case R.first:c.a+=(f.a-c.a)*o}return}var h=this.getCurveValue(i);o==1?c.a=h:(s==R.setup&&(c.a=l.data.color.a),c.a+=(h-c.a)*o)}},e}(Oi),vE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,[nt.rgb+"|"+i,nt.alpha+"|"+i,nt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,u,l,c){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=u,this.frames[r+6]=l,this.frames[r+7]=c},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=this.frames,f=l.color,h=l.darkColor;if(i<c[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case R.setup:f.setFromColor(d),h.r=p.r,h.g=p.g,h.b=p.b;return;case R.first:f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,g=0,m=0,y=0,_=0,x=0,b=0,S=Yt.search(c,i,8),w=this.curves[S>>3];switch(w){case 0:var E=c[S];v=c[S+1],g=c[S+2],m=c[S+3],y=c[S+4],_=c[S+5],x=c[S+6],b=c[S+7];var T=(i-E)/(c[S+8]-E);v+=(c[S+8+1]-v)*T,g+=(c[S+8+2]-g)*T,m+=(c[S+8+3]-m)*T,y+=(c[S+8+4]-y)*T,_+=(c[S+8+5]-_)*T,x+=(c[S+8+6]-x)*T,b+=(c[S+8+7]-b)*T;break;case 1:v=c[S+1],g=c[S+2],m=c[S+3],y=c[S+4],_=c[S+5],x=c[S+6],b=c[S+7];break;default:v=this.getBezierValue(i,S,1,w-2),g=this.getBezierValue(i,S,2,w+18-2),m=this.getBezierValue(i,S,3,w+18*2-2),y=this.getBezierValue(i,S,4,w+18*3-2),_=this.getBezierValue(i,S,5,w+18*4-2),x=this.getBezierValue(i,S,6,w+18*5-2),b=this.getBezierValue(i,S,7,w+18*6-2)}if(o==1)f.set(v,g,m,y),h.r=_,h.g=x,h.b=b;else{if(s==R.setup){f.setFromColor(l.data.color);var p=l.data.darkColor;h.r=p.r,h.g=p.g,h.b=p.b}f.add((v-f.r)*o,(g-f.g)*o,(m-f.b)*o,(y-f.a)*o),h.r+=(_-h.r)*o,h.g+=(x-h.g)*o,h.b+=(b-h.b)*o}}},e}(Pi),mE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,[nt.rgb+"|"+i,nt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,u,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=u,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=this.frames,f=l.color,h=l.darkColor;if(i<c[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case R.setup:f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b;return;case R.first:f.r+=(d.r-f.r)*o,f.g+=(d.g-f.g)*o,f.b+=(d.b-f.b)*o,h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,g=0,m=0,y=0,_=0,x=0,b=Yt.search(c,i,7),S=this.curves[b/7];switch(S){case 0:var w=c[b];v=c[b+1],g=c[b+2],m=c[b+3],y=c[b+4],_=c[b+5],x=c[b+6];var E=(i-w)/(c[b+7]-w);v+=(c[b+7+1]-v)*E,g+=(c[b+7+2]-g)*E,m+=(c[b+7+3]-m)*E,y+=(c[b+7+4]-y)*E,_+=(c[b+7+5]-_)*E,x+=(c[b+7+6]-x)*E;break;case 1:v=c[b+1],g=c[b+2],m=c[b+3],y=c[b+4],_=c[b+5],x=c[b+6];break;default:v=this.getBezierValue(i,b,1,S-2),g=this.getBezierValue(i,b,2,S+18-2),m=this.getBezierValue(i,b,3,S+18*2-2),y=this.getBezierValue(i,b,4,S+18*3-2),_=this.getBezierValue(i,b,5,S+18*4-2),x=this.getBezierValue(i,b,6,S+18*5-2)}if(o==1)f.r=v,f.g=g,f.b=m,h.r=y,h.g=_,h.b=x;else{if(s==R.setup){var d=l.data.color,p=l.data.darkColor;f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b}f.r+=(v-f.r)*o,f.g+=(g-f.g)*o,f.b+=(m-f.b)*o,h.r+=(y-h.r)*o,h.g+=(_-h.g)*o,h.b+=(x-h.b)*o}}},e}(Pi),is=function(t){Ve(e,t);function e(r,n){var i=t.call(this,r,[nt.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){if(u==je.mixOut){s==R.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==R.setup||s==R.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[Yt.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(Yt),gE=function(t){Ve(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[nt.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,u,l,c,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,g=c*.03-u*.06,m=((s-l)*3-a+f)*.006,y=(u-c+.33333333)*.018,_=v*2+m,x=g*2+y,b=(s-a)*.3+v+m*.16666667,S=u*.3+g+y*.16666667,w=a+b,E=S,T=p+18;p<T;p+=2)d[p]=w,d[p+1]=E,b+=_,S+=x,_+=m,x+=y,w+=b,E+=S},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var u=a+18;for(a+=2;a<u;a+=2)if(i[a]>=r){var l=i[a-2],c=i[a-1];return c+(r-l)/(i[a]-l)*(i[a+1]-c)}var f=i[u-2],h=i[u-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=l.getAttachment();if(c&&!(!(c instanceof ia)||c.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=R.setup);var h=this.vertices,d=h[0].length,p=this.frames;if(i<p[0]){switch(s){case R.setup:f.length=0;return;case R.first:if(o==1){f.length=0;return}f.length=d;var v=c;if(v.bones){o=1-o;for(var m=0;m<d;m++)f[m]*=o}else for(var g=v.vertices,m=0;m<d;m++)f[m]+=(g[m]-f[m])*o}return}if(f.length=d,i>=p[p.length-1]){var y=h[p.length-1];if(o==1)if(s==R.add){var v=c;if(v.bones)for(var x=0;x<d;x++)f[x]+=y[x];else for(var g=v.vertices,_=0;_<d;_++)f[_]+=y[_]-g[_]}else q.arrayCopy(y,0,f,0,d);else switch(s){case R.setup:{var b=c;if(b.bones)for(var E=0;E<d;E++)f[E]=y[E]*o;else for(var g=b.vertices,S=0;S<d;S++){var w=g[S];f[S]=w+(y[S]-w)*o}break}case R.first:case R.replace:for(var T=0;T<d;T++)f[T]+=(y[T]-f[T])*o;break;case R.add:var v=c;if(v.bones)for(var O=0;O<d;O++)f[O]+=y[O]*o;else for(var g=v.vertices,A=0;A<d;A++)f[A]+=(y[A]-g[A])*o}return}var P=Yt.search1(p,i),k=this.getCurvePercent(i,P),M=h[P],B=h[P+1];if(o==1)if(s==R.add){var v=c;if(v.bones)for(var J=0;J<d;J++){var z=M[J];f[J]+=z+(B[J]-z)*k}else for(var g=v.vertices,j=0;j<d;j++){var z=M[j];f[j]+=z+(B[j]-z)*k-g[j]}}else for(var Z=0;Z<d;Z++){var z=M[Z];f[Z]=z+(B[Z]-z)*k}else switch(s){case R.setup:{var $=c;if($.bones)for(var G=0;G<d;G++){var z=M[G];f[G]=(z+(B[G]-z)*k)*o}else for(var g=$.vertices,F=0;F<d;F++){var z=M[F],w=g[F];f[F]=w+(z+(B[F]-z)*k-w)*o}break}case R.first:case R.replace:for(var V=0;V<d;V++){var z=M[V];f[V]+=(z+(B[V]-z)*k-f[V])*o}break;case R.add:var v=c;if(v.bones)for(var H=0;H<d;H++){var z=M[H];f[H]+=(z+(B[H]-z)*k)*o}else for(var g=v.vertices,U=0;U<d;U++){var z=M[U];f[U]+=(z+(B[U]-z)*k-g[U])*o}}}}},e}(Pi),_m=function(t){Ve(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,u){if(a){var l=this.frames,c=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,u),n=-1;else if(n>=l[c-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=Yt.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<c&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+nt.event],e}(Yt),Rl=function(t){Ve(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,u){if(u==je.mixOut){s==R.setup&&q.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==R.setup||s==R.first)&&q.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=Yt.search1(this.frames,i),c=this.drawOrders[l];if(!c)q.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,d=0,p=c.length;d<p;d++)f[d]=h[c[d]]},e.propertyIds=[""+nt.drawOrder],e}(Yt),yE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,[nt.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,u){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=u?1:0},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case R.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,d=Yt.search(c,i,6),p=this.curves[d/6];switch(p){case 0:var v=c[d];f=c[d+1],h=c[d+2];var g=(i-v)/(c[d+6]-v);f+=(c[d+6+1]-f)*g,h+=(c[d+6+2]-h)*g;break;case 1:f=c[d+1],h=c[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}s==R.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,u==je.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=c[d+3],l.compress=c[d+4]!=0,l.stretch=c[d+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,u==je.mixIn&&(l.bendDirection=c[d+3],l.compress=c[d+4]!=0,l.stretch=c[d+5]!=0))}},e}(Pi),_E=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,[nt.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,u,l){var c=this.frames;r*=7,c[r]=n,c[r+1]=i,c[r+2]=a,c[r+3]=o,c[r+4]=s,c[r+5]=u,c[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var c=this.frames;if(i<c[0]){var f=l.data;switch(s){case R.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case R.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,d,p,v,g,m,y=Yt.search(c,i,7),_=this.curves[y/7];switch(_){case 0:var x=c[y];h=c[y+1],d=c[y+2],p=c[y+3],v=c[y+4],g=c[y+5],m=c[y+6];var b=(i-x)/(c[y+7]-x);h+=(c[y+7+1]-h)*b,d+=(c[y+7+2]-d)*b,p+=(c[y+7+3]-p)*b,v+=(c[y+7+4]-v)*b,g+=(c[y+7+5]-g)*b,m+=(c[y+7+6]-m)*b;break;case 1:h=c[y+1],d=c[y+2],p=c[y+3],v=c[y+4],g=c[y+5],m=c[y+6];break;default:h=this.getBezierValue(i,y,1,_-2),d=this.getBezierValue(i,y,2,_+18-2),p=this.getBezierValue(i,y,3,_+18*2-2),v=this.getBezierValue(i,y,4,_+18*3-2),g=this.getBezierValue(i,y,5,_+18*4-2),m=this.getBezierValue(i,y,6,_+18*5-2)}if(s==R.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(d-f.mixX)*o,l.mixY=f.mixY+(p-f.mixY)*o,l.mixScaleX=f.mixScaleX+(v-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(g-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(m-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(d-l.mixX)*o,l.mixY+=(p-l.mixY)*o,l.mixScaleX+=(v-l.mixScaleX)*o,l.mixScaleY+=(g-l.mixScaleY)*o,l.mixShearY+=(m-l.mixShearY)*o}},e}(Pi),xE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.position=l.data.position;return;case R.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==R.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}(Oi),bE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,nt.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.spacing=l.data.spacing;return;case R.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==R.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}(Oi),SE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,n,[nt.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var c=this.frames;if(i<c[0]){switch(s){case R.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case R.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,d,p=Yt.search(c,i,4),v=this.curves[p>>2];switch(v){case 0:var g=c[p];f=c[p+1],h=c[p+2],d=c[p+3];var m=(i-g)/(c[p+4]-g);f+=(c[p+4+1]-f)*m,h+=(c[p+4+2]-h)*m,d+=(c[p+4+3]-d)*m;break;case 1:f=c[p+1],h=c[p+2],d=c[p+3];break;default:f=this.getBezierValue(i,p,1,v-2),h=this.getBezierValue(i,p,2,v+18-2),d=this.getBezierValue(i,p,3,v+18*2-2)}if(s==R.setup){var y=l.data;l.mixRotate=y.mixRotate+(f-y.mixRotate)*o,l.mixX=y.mixX+(h-y.mixX)*o,l.mixY=y.mixY+(d-y.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(d-l.mixY)*o}},e}(Pi),wE=function(t){Ve(e,t);function e(r,n,i){var a=t.call(this,r,[nt.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,u){var l=r.slots[this.slotIndex];if(l.bone.active){var c=l.attachment,f=this.attachment;if(!(c!=f&&(!(c instanceof ia)||c.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==R.setup||s==R.first)&&(l.sequenceIndex=-1);return}var d=Yt.search(h,i,e.ENTRIES),p=h[d],v=h[d+e.MODE],g=h[d+e.DELAY];if(this.attachment.sequence){var m=v>>4,y=this.attachment.sequence.regions.length,_=rE[v&15];if(_!=Pr.hold)switch(m+=(i-p)/g+1e-5|0,_){case Pr.once:m=Math.min(y-1,m);break;case Pr.loop:m%=y;break;case Pr.pingpong:{var x=(y<<1)-2;m=x==0?0:m%x,m>=y&&(m=x-m);break}case Pr.onceReverse:m=Math.max(y-1-m,0);break;case Pr.loopReverse:m=y-1-m%y;break;case Pr.pingpongReverse:{var x=(y<<1)-2;m=x==0?0:(m+y-1)%x,m>=y&&(m=x-m)}}l.sequenceIndex=m}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(Yt),U3=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new V3(this),this.propertyIDs=new qD,this.animationsChanged=!1,this.trackEntryPool=new hm(function(){return new $3}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var u=a.trackLast-s.delay;if(u>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(u/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var u=a==0?R.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var c=s.animationLast,f=s.getAnimationTime(),h=f,d=r;s.reverse&&(h=s.animation.duration-h,d=null);var p=s.animation.timelines,v=p.length;if(a==0&&l==1||u==R.add)for(var g=0;g<v;g++){q.webkit602BugfixHelper(l,u);var m=p[g];m instanceof is?this.applyAttachmentTimeline(m,e,h,u,!0):m.apply(e,c,h,d,l,u,je.mixIn)}else{var y=s.timelineMode,_=s.shortestRotation,x=!_&&s.timelinesRotation.length!=v<<1;x&&(s.timelinesRotation.length=v<<1);for(var g=0;g<v;g++){var b=p[g],S=y[g]==$y?u:R.setup;!_&&b instanceof Cf?this.applyRotateTimeline(b,e,h,l,S,s.timelinesRotation,g<<1,x):b instanceof is?this.applyAttachmentTimeline(b,e,h,u,!0):(q.webkit602BugfixHelper(l,u),b.apply(e,c,h,d,l,S,je.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+_O,E=e.slots,T=0,A=e.slots.length;T<A;T++){var O=E[T];if(O.attachmentState==w){var P=O.data.attachmentName;O.setAttachment(P?e.getAttachment(O.data.index,P):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==R.first&&(n=R.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=R.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,u=i.animation.timelines,l=u.length,c=i.alpha*e.interruptAlpha,f=c*(1-a),h=i.animationLast,d=i.getAnimationTime(),p=d,v=null;if(i.reverse?p=i.animation.duration-p:a<i.eventThreshold&&(v=this.events),n==R.add)for(var g=0;g<l;g++)u[g].apply(r,h,p,v,f,n,je.mixOut);else{var m=i.timelineMode,y=i.timelineHoldMix,_=i.shortestRotation,x=!_&&i.timelinesRotation.length!=l<<1;x&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var g=0;g<l;g++){var b=u[g],S=je.mixOut,w=void 0,E=0;switch(m[g]){case $y:if(!s&&b instanceof Rl)continue;w=n,E=f;break;case gO:w=R.setup,E=f;break;case yO:w=n,E=c;break;case Vy:w=R.setup,E=c;break;default:w=R.setup;var T=y[g];E=c*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=E,!_&&b instanceof Cf?this.applyRotateTimeline(b,r,p,E,w,i.timelinesRotation,g<<1,x):b instanceof is?this.applyAttachmentTimeline(b,r,p,w,o):(q.webkit602BugfixHelper(E,n),s&&b instanceof Rl&&w==R.setup&&(S=je.mixIn),b.apply(r,h,p,v,E,w,S))}}return e.mixDuration>0&&this.queueEvents(i,d),this.events.length=0,i.nextAnimationLast=d,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==R.setup||i==R.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[Yt.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+_O))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+n_e)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,u){if(u&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,je.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var c=e.frames,f=0,h=0;if(n<c[0])switch(a){case R.setup:l.rotation=l.data.rotation;default:return;case R.first:f=l.rotation,h=l.data.rotation}else f=a==R.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var d=0,p=h-f;if(p-=(16384-(16384.499999999996-p/360|0))*360,p==0)d=o[s];else{var v=0,g=0;u?(v=0,g=p):(v=o[s],g=o[s+1]);var m=p>0,y=v>=0;N.signum(g)!=N.signum(p)&&Math.abs(g)<=90&&(Math.abs(v)>180&&(v+=360*N.signum(v)),y=m),d=p+v-v%360,y!=m&&(d+=360*N.signum(v)),o[s]=d}o[s+1]=p,l.rotation=f+d*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,u=0,l=s.length;u<l;u++){var c=s[u];if(c.time<o)break;c.time>i||this.queue.event(e,c)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);u<l;u++){var h=s[u];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(q.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=R.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=R.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var u=0;u<i;u++)a[u]=s.addAll(n[u].getPropertyIds())?Vy:yO;return}e:for(var u=0;u<i;u++){var l=n[u],c=l.getPropertyIds();if(!s.addAll(c))a[u]=$y;else if(!r||l instanceof is||l instanceof Rl||l instanceof _m||!r.animation.hasTimeline(c))a[u]=gO;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(c)){if(e.mixDuration>0){a[u]=r_e,o[u]=f;continue e}break}a[u]=Vy}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new gm("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),$3=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=R.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),V3=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ln.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ln.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ln.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ln.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ln.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ln.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ln.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case ln.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case ln.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case ln.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case ln.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case ln.event:var u=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,u);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,u)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),ln;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ln||(ln={}));var t_e=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),$y=0,gO=1,yO=2,Vy=3,r_e=4,_O=1,n_e=2,G3=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),EE=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),u=this.atlas.findRegion(s);if(u==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=u,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new eE(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new mm(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new D3(r)},t.prototype.newPathAttachment=function(e,r){return new Af(r)},t.prototype.newPointAttachment=function(e,r){return new j3(r)},t.prototype.newClippingAttachment=function(e,r){return new B3(r)},t}(),f1=function(){function t(e,r,n){if(this.matrix=new Ut,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var u=this.parent,l=this.matrix,c=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!u){var h=this.skeleton,d=n+90+s;l.a=N.cosDeg(n+o)*i*c,l.c=N.cosDeg(d)*a*c,l.b=N.sinDeg(n+o)*i*f,l.d=N.sinDeg(d)*a*f,l.tx=e*c+h.x,l.ty=r*f+h.y;return}var p=u.matrix.a,v=u.matrix.c,g=u.matrix.b,m=u.matrix.d;switch(l.tx=p*e+v*r+u.matrix.tx,l.ty=g*e+m*r+u.matrix.ty,this.data.transformMode){case Fe.Normal:{var d=n+90+s,y=N.cosDeg(n+o)*i,_=N.cosDeg(d)*a,x=N.sinDeg(n+o)*i,b=N.sinDeg(d)*a;l.a=p*y+v*x,l.c=p*_+v*b,l.b=g*y+m*x,l.d=g*_+m*b;return}case Fe.OnlyTranslation:{var d=n+90+s;l.a=N.cosDeg(n+o)*i,l.c=N.cosDeg(d)*a,l.b=N.sinDeg(n+o)*i,l.d=N.sinDeg(d)*a;break}case Fe.NoRotationOrReflection:{var S=p*p+g*g,w=0;S>1e-4?(S=Math.abs(p*m-v*g)/S,p/=c,g/=f,v=g*S,m=p*S,w=Math.atan2(g,p)*N.radDeg):(p=0,g=0,w=90-Math.atan2(m,v)*N.radDeg);var E=n+o-w,T=n+s-w+90,y=N.cosDeg(E)*i,_=N.cosDeg(T)*a,x=N.sinDeg(E)*i,b=N.sinDeg(T)*a;l.a=p*y-v*x,l.c=p*_-v*b,l.b=g*y+m*x,l.d=g*_+m*b;break}case Fe.NoScale:case Fe.NoScaleOrReflection:{var A=N.cosDeg(n),O=N.sinDeg(n),P=(p*A+v*O)/c,k=(g*A+m*O)/f,S=Math.sqrt(P*P+k*k);S>1e-5&&(S=1/S),P*=S,k*=S,S=Math.sqrt(P*P+k*k),this.data.transformMode==Fe.NoScale&&p*m-v*g<0!=(c<0!=f<0)&&(S=-S);var M=Math.PI/2+Math.atan2(k,P),B=Math.cos(M)*S,j=Math.sin(M)*S,y=N.cosDeg(o)*i,_=N.cosDeg(90+s)*a,x=N.sinDeg(o)*i,b=N.sinDeg(90+s)*a;l.a=P*y+B*x,l.c=P*_+B*b,l.b=k*y+j*x,l.d=k*_+j*b;break}}l.a*=c,l.c*=c,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*N.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*N.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*N.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*N.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,u=i*n.a,l=i*n.c,c=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=u*r.b-c*r.a,p=u*r.d-c*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*N.radDeg,this.arotation=Math.atan2(d,f)*N.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*N.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),u=e.x-r.tx,l=e.y-r.ty;return e.x=u*o*s-l*i*s,e.y=l*n*s-u*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=N.sinDeg(e),n=N.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*N.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=N.sinDeg(e),n=N.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*N.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=N.cosDeg(e),u=N.sinDeg(e);r.a=s*n-u*a,r.c=s*i-u*o,r.b=u*n+s*a,r.d=u*i+s*o},t}(),TE=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Fe.Normal,this.skinRequired=!1,this.color=new de,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),xm=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),AE=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),CE=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),X3=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var u=e.parent.matrix;if(!u)throw new Error("IK bone must have parent.");var l=u.a,c=u.c,f=u.b,h=u.d,d=-e.ashearX-e.arotation,p=0,v=0,g=e.skeleton.scaleX,m=-e.skeleton.scaleY;switch(e.data.transformMode){case Fe.OnlyTranslation:p=r-e.worldX,v=n-e.worldY,v=-v;break;case Fe.NoRotationOrReflection:var y=Math.abs(l*h-c*f)/(l*l+f*f),_=l/g,x=f/m;c=-x*y*g,h=_*y*m,d+=Math.atan2(x,_)*N.radDeg;default:var b=r-u.tx,S=n-u.ty,w=l*h-c*f;p=(b*h-S*c)/w-e.ax,v=(S*l-b*f)/w-e.ay}d+=Math.atan2(v,p)*N.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var E=e.ascaleX,T=e.ascaleY;if(i||a){switch(e.data.transformMode){case Fe.NoScale:case Fe.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var A=e.data.length*E,O=Math.sqrt(p*p+v*v);if(i&&O<A||a&&O>A&&A>1e-4){var y=(O/A-1)*s+1;E*=y,o&&(T*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,E,T,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,u,l){var c=e.ax,f=e.ay,h=e.ascaleX,d=e.ascaleY,p=h,v=d,g=r.ascaleX,m=e.matrix,y=0,_=0,x=0;h<0?(h=-h,y=180,x=-1):(y=0,x=1),d<0&&(d=-d,x=-x),g<0?(g=-g,_=180):_=0;var b=r.ax,S=0,w=0,E=0,T=m.a,A=m.c,O=m.b,P=m.d,k=Math.abs(h-d)<=1e-4;!k||o?(S=0,w=T*b+m.tx,E=O*b+m.ty):(S=r.ay,w=T*b+A*S+m.tx,E=O*b+P*S+m.ty);var M=e.parent.matrix;if(!M)throw new Error("IK parent must itself have a parent.");T=M.a,A=M.c,O=M.b,P=M.d;var B=1/(T*P-A*O),j=w-M.tx,z=E-M.ty,J=(j*P-z*A)*B-c,Z=(z*T-j*O)*B-f,$=Math.sqrt(J*J+Z*Z),F=r.data.length*g,G,V;if($<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(b,S,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}j=n-M.tx,z=i-M.ty;var U=(j*P-z*A)*B-c,H=(z*T-j*O)*B-f,ee=U*U+H*H;if(u!=0){u*=h*(g+1)*.5;var ie=Math.sqrt(ee),ae=ie-$-F*h+u;if(ae>0){var pe=Math.min(1,ae/(u*2))-1;pe=(ae-u*(1-pe*pe))/ie,U-=pe*U,H-=pe*H,ee=U*U+H*H}}e:if(k){F*=h;var ye=(ee-$*$-F*F)/(2*$*F);ye<-1?(ye=-1,V=Math.PI*a):ye>1?(ye=1,V=0,o&&(T=(Math.sqrt(ee)/($+F)-1)*l+1,p*=T,s&&(v*=T))):V=Math.acos(ye)*a,T=$+F*ye,A=F*Math.sin(V),G=Math.atan2(H*T-U*A,U*T+H*A)}else{T=h*F,A=d*F;var oe=T*T,_e=A*A,Ce=Math.atan2(H,U);O=_e*$*$+oe*ee-oe*_e;var be=-2*_e*$,Oe=_e-oe;if(P=be*be-4*Oe*O,P>=0){var ke=Math.sqrt(P);be<0&&(ke=-ke),ke=-(be+ke)*.5;var we=ke/Oe,Xe=O/ke,tt=Math.abs(we)<Math.abs(Xe)?we:Xe;if(tt*tt<=ee){z=Math.sqrt(ee-tt*tt)*a,G=Ce-Math.atan2(z,tt),V=Math.atan2(z/d,(tt-$)/h);break e}}var Et=N.PI,$t=$-T,Ht=$t*$t,_t=0,lr=0,Dr=$+T,ur=Dr*Dr,xr=0;O=-T*$/(oe-_e),O>=-1&&O<=1&&(O=Math.acos(O),j=T*Math.cos(O)+$,z=A*Math.sin(O),P=j*j+z*z,P<Ht&&(Et=O,Ht=P,$t=j,_t=z),P>ur&&(lr=O,ur=P,Dr=j,xr=z)),ee<=(Ht+ur)*.5?(G=Ce-Math.atan2(_t*a,$t),V=Et*a):(G=Ce-Math.atan2(xr*a,Dr),V=lr*a)}var Br=Math.atan2(S,b)*x,br=e.arotation;G=(G-Br)*N.radDeg+y-br,G>180?G-=360:G<-180&&(G+=360),e.updateWorldTransformWith(c,f,br+G*l,p,v,0,0),br=r.arotation,V=((V+Br)*N.radDeg-r.ashearX)*x+_-br,V>180?V-=360:V<-180&&(V+=360),r.updateWorldTransformWith(b,S,br+V*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),PE=function(t){Ve(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(xm),OE=function(t){Ve(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=Mt.Fixed,n.spacingMode=ar.Fixed,n.rotateMode=zt.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(xm),ar;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(ar||(ar={}));var z3=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Af){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==zt.Tangent,s=a.rotateMode==zt.ChainScale,u=this.bones,l=u.length,c=o?l:l+1,f=q.setArraySize(this.spaces,c),h=s?this.lengths=q.setArraySize(this.lengths,l):[],d=this.spacing;switch(a.spacingMode){case ar.Percent:if(s)for(var p=0,v=c-1;p<v;p++){var g=u[p],m=g.data.length;if(m<t.epsilon)h[p]=0;else{var y=m*g.matrix.a,_=m*g.matrix.b;h[p]=Math.sqrt(y*y+_*_)}}q.arrayFill(f,1,c,d);break;case ar.Proportional:for(var x=0,p=0,v=c-1;p<v;){var g=u[p],m=g.data.length;if(m<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var y=m*g.matrix.a,_=m*g.matrix.b,b=Math.sqrt(y*y+_*_);s&&(h[p]=b),f[++p]=b,x+=b}}if(x>0){x=c/x*d;for(var p=1;p<c;p++)f[p]*=x}break;default:for(var S=a.spacingMode==ar.Length,p=0,v=c-1;p<v;){var g=u[p],m=g.data.length;if(m<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var y=m*g.matrix.a,_=m*g.matrix.b,w=Math.sqrt(y*y+_*_);s&&(h[p]=w),f[++p]=(S?m+d:d)*w/m}}}var E=this.computeWorldPositions(e,c,o),T=E[0],A=E[1],O=a.offsetRotation,P=!1;if(O==0)P=a.rotateMode==zt.Chain;else{P=!1;var k=this.target.bone.matrix;O*=k.a*k.d-k.b*k.c>0?N.degRad:-N.degRad}for(var p=0,k=3;p<l;p++,k+=3){var g=u[p],M=g.matrix;M.tx+=(T-M.tx)*n,M.ty+=(A-M.ty)*i;var y=E[k],_=E[k+1],B=y-T,j=_-A;if(s){var z=h[p];if(z!=0){var J=(Math.sqrt(B*B+j*j)/z-1)*r+1;M.a*=J,M.b*=J}}if(T=y,A=_,r>0){var Z=M.a,$=M.c,F=M.b,G=M.d,V=0,U=0,H=0;if(o?V=E[k-1]:f[p+1]==0?V=E[k+2]:V=Math.atan2(j,B),V-=Math.atan2(F,Z),P){U=Math.cos(V),H=Math.sin(V);var ee=g.data.length;T+=(ee*(U*Z-H*F)-B)*r,A+=(ee*(H*Z+U*F)-j)*r}else V+=O;V>N.PI?V-=N.PI2:V<-N.PI&&(V+=N.PI2),V*=r,U=Math.cos(V),H=Math.sin(V),M.a=U*Z-H*F,M.c=U*$-H*G,M.b=H*Z+U*F,M.d=H*$+U*G}g.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=q.setArraySize(this.positions,r*3+2),u=this.world,l=e.closed,c=e.worldVerticesLength,f=c/6,h=t.NONE;if(!e.constantSpeed){var d=e.lengths;f-=l?1:2;var p=d[f];this.data.positionMode==Mt.Percent&&(a*=p);var v;switch(this.data.spacingMode){case ar.Percent:v=p;break;case ar.Proportional:v=p/r;break;default:v=1}u=q.setArraySize(this.world,8);for(var g=0,m=0,y=0;g<r;g++,m+=3){var _=o[g]*v;a+=_;var x=a;if(l)x%=p,x<0&&(x+=p),y=0;else if(x<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,u,0,2)),this.addBeforePosition(x,u,0,s,m);continue}else if(x>p){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,c-6,4,u,0,2)),this.addAfterPosition(x-p,u,0,s,m);continue}for(;;y++){var b=d[y];if(!(x>b)){if(y==0)x/=b;else{var S=d[y-1];x=(x-S)/(b-S)}break}}y!=h&&(h=y,l&&y==f?(e.computeWorldVertices(i,c-4,4,u,0,2),e.computeWorldVertices(i,0,4,u,4,2)):e.computeWorldVertices(i,y*6+2,8,u,0,2)),this.addCurvePosition(x,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],s,m,n||g>0&&_==0)}return s}l?(c+=2,u=q.setArraySize(this.world,c),e.computeWorldVertices(i,2,c-4,u,0,2),e.computeWorldVertices(i,0,2,u,c-4,2),u[c-2]=u[0],u[c-1]=u[1]):(f--,c-=4,u=q.setArraySize(this.world,c),e.computeWorldVertices(i,2,c,u,0,2));for(var w=q.setArraySize(this.curves,f),E=0,T=u[0],A=u[1],O=0,P=0,k=0,M=0,B=0,j=0,z=0,J=0,Z=0,$=0,F=0,G=0,V=0,U=0,g=0,H=2;g<f;g++,H+=6)O=u[H],P=u[H+1],k=u[H+2],M=u[H+3],B=u[H+4],j=u[H+5],z=(T-O*2+k)*.1875,J=(A-P*2+M)*.1875,Z=((O-k)*3-T+B)*.09375,$=((P-M)*3-A+j)*.09375,F=z*2+Z,G=J*2+$,V=(O-T)*.75+z+Z*.16666667,U=(P-A)*.75+J+$*.16666667,E+=Math.sqrt(V*V+U*U),V+=F,U+=G,F+=Z,G+=$,E+=Math.sqrt(V*V+U*U),V+=F,U+=G,E+=Math.sqrt(V*V+U*U),V+=F+Z,U+=G+$,E+=Math.sqrt(V*V+U*U),w[g]=E,T=B,A=j;this.data.positionMode==Mt.Percent&&(a*=E);var ee;switch(this.data.spacingMode){case ar.Percent:ee=E;break;case ar.Proportional:ee=E/r;break;default:ee=1}for(var ie=this.segments,ae=0,g=0,m=0,y=0,pe=0;g<r;g++,m+=3){var _=o[g]*ee;a+=_;var x=a;if(l)x%=E,x<0&&(x+=E),y=0;else if(x<0){this.addBeforePosition(x,u,0,s,m);continue}else if(x>E){this.addAfterPosition(x-E,u,c-4,s,m);continue}for(;;y++){var ye=w[y];if(!(x>ye)){if(y==0)x/=ye;else{var S=w[y-1];x=(x-S)/(ye-S)}break}}if(y!=h){h=y;var oe=y*6;for(T=u[oe],A=u[oe+1],O=u[oe+2],P=u[oe+3],k=u[oe+4],M=u[oe+5],B=u[oe+6],j=u[oe+7],z=(T-O*2+k)*.03,J=(A-P*2+M)*.03,Z=((O-k)*3-T+B)*.006,$=((P-M)*3-A+j)*.006,F=z*2+Z,G=J*2+$,V=(O-T)*.3+z+Z*.16666667,U=(P-A)*.3+J+$*.16666667,ae=Math.sqrt(V*V+U*U),ie[0]=ae,oe=1;oe<8;oe++)V+=F,U+=G,F+=Z,G+=$,ae+=Math.sqrt(V*V+U*U),ie[oe]=ae;V+=F,U+=G,ae+=Math.sqrt(V*V+U*U),ie[8]=ae,V+=F+Z,U+=G+$,ae+=Math.sqrt(V*V+U*U),ie[9]=ae,pe=0}for(x*=ae;;pe++){var _e=ie[pe];if(!(x>_e)){if(pe==0)x/=_e;else{var S=ie[pe-1];x=pe+(x-S)/(_e-S)}break}}this.addCurvePosition(x*.1,T,A,O,P,k,M,B,j,s,m,n||g>0&&_==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],u=r[n+2]-o,l=r[n+3]-s,c=Math.atan2(l,u);i[a]=o+e*Math.cos(c),i[a+1]=s+e*Math.sin(c),i[a+2]=c},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],u=o-r[n],l=s-r[n+1],c=Math.atan2(l,u);i[a]=o+e*Math.cos(c),i[a+1]=s+e*Math.sin(c),i[a+2]=c},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,u,l,c,f,h){if(e==0||isNaN(e)){c[f]=r,c[f+1]=n,c[f+2]=Math.atan2(a-n,i-r);return}var d=e*e,p=d*e,v=1-e,g=v*v,m=g*v,y=v*e,_=y*3,x=v*_,b=_*e,S=r*m+i*x+o*b+u*p,w=n*m+a*x+s*b+l*p;c[f]=S,c[f+1]=w,h&&(e<.001?c[f+2]=Math.atan2(a-n,i-r):c[f+2]=Math.atan2(w-(n*g+a*y*2+s*d),S-(r*g+i*y*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),W3=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new de,this.darkColor=e.darkColor?new de:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof ia)||!(this.attachment instanceof ia)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),Y3=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new gf,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,u=this.target,l=u.matrix,c=l.a,f=l.c,h=l.b,d=l.d,p=c*d-f*h>0?N.degRad:-N.degRad,v=this.data.offsetRotation*p,g=this.data.offsetShearY*p,m=this.bones,y=0,_=m.length;y<_;y++){var x=m[y],b=x.matrix;if(e!=0){var S=b.a,w=b.c,E=b.b,T=b.d,A=Math.atan2(h,c)-Math.atan2(E,S)+v;A>N.PI?A-=N.PI2:A<-N.PI&&(A+=N.PI2),A*=e;var O=Math.cos(A),P=Math.sin(A);b.a=O*S-P*E,b.c=O*w-P*T,b.b=P*S+O*E,b.d=P*w+O*T}if(s){var k=this.temp;u.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),b.tx+=(k.x-b.tx)*r,b.ty+=(k.y-b.ty)*n}if(i!=0){var M=Math.sqrt(b.a*b.a+b.b*b.b);M!=0&&(M=(M+(Math.sqrt(c*c+h*h)-M+this.data.offsetScaleX)*i)/M),b.a*=M,b.b*=M}if(a!=0){var M=Math.sqrt(b.c*b.c+b.d*b.d);M!=0&&(M=(M+(Math.sqrt(f*f+d*d)-M+this.data.offsetScaleY)*a)/M),b.c*=M,b.d*=M}if(o>0){var w=b.c,T=b.d,B=Math.atan2(T,w),A=Math.atan2(d,f)-Math.atan2(h,c)-(B-Math.atan2(b.b,b.a));A>N.PI?A-=N.PI2:A<-N.PI&&(A+=N.PI2),A=B+(A+g)*o;var M=Math.sqrt(w*w+T*T);b.c=Math.cos(A)*M,b.d=Math.sin(A)*M}x.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,u=this.target,l=u.matrix,c=l.a,f=l.c,h=l.b,d=l.d,p=c*d-f*h>0?N.degRad:-N.degRad,v=this.data.offsetRotation*p,g=this.data.offsetShearY*p,m=this.bones,y=0,_=m.length;y<_;y++){var x=m[y],b=x.matrix;if(e!=0){var S=b.a,w=b.c,E=b.b,T=b.d,A=Math.atan2(h,c)+v;A>N.PI?A-=N.PI2:A<-N.PI&&(A+=N.PI2),A*=e;var O=Math.cos(A),P=Math.sin(A);b.a=O*S-P*E,b.c=O*w-P*T,b.b=P*S+O*E,b.d=P*w+O*T}if(s){var k=this.temp;u.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),b.tx+=k.x*r,b.ty+=k.y*n}if(i!=0){var M=(Math.sqrt(c*c+h*h)-1+this.data.offsetScaleX)*i+1;b.a*=M,b.b*=M}if(a!=0){var M=(Math.sqrt(f*f+d*d)-1+this.data.offsetScaleY)*a+1;b.c*=M,b.d*=M}if(o>0){var A=Math.atan2(d,f)-Math.atan2(h,c);A>N.PI?A-=N.PI2:A<-N.PI&&(A+=N.PI2);var w=b.c,T=b.d;A=Math.atan2(T,w)+(A-N.PI/2+g)*o;var M=Math.sqrt(w*w+T*T);b.c=Math.cos(A)*M,b.d=Math.sin(A)*M}x.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,u=this.bones,l=0,c=u.length;l<c;l++){var f=u[l],h=f.arotation;if(e!=0){var d=s.arotation-h+this.data.offsetRotation;d-=(16384-(16384.499999999996-d/360|0))*360,h+=d*e}var p=f.ax,v=f.ay;p+=(s.ax-p+this.data.offsetX)*r,v+=(s.ay-v+this.data.offsetY)*n;var g=f.ascaleX,m=f.ascaleY;i!=0&&g!=0&&(g=(g+(s.ascaleX-g+this.data.offsetScaleX)*i)/g),a!=0&&m!=0&&(m=(m+(s.ascaleY-m+this.data.offsetScaleY)*a)/m);var y=f.ashearY;if(o!=0){var d=s.ashearY-y+this.data.offsetShearY;d-=(16384-(16384.499999999996-d/360|0))*360,y+=d*o}f.updateWorldTransformWith(p,v,h,g,m,f.ashearX,y)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,u=this.bones,l=0,c=u.length;l<c;l++){var f=u[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,d=f.ax+(s.ax+this.data.offsetX)*r,p=f.ay+(s.ay+this.data.offsetY)*n,v=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),g=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),m=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(d,p,h,v,g,f.ashearX,m)}},t}(),H3=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new f1(n,this,null);else{var a=this.bones[n.parent.index];i=new f1(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new W3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var u=e.ikConstraints[r];this.ikConstraints.push(new X3(u,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new Y3(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var c=e.pathConstraints[r];this.pathConstraints.push(new z3(c,this))}this.color=new de(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,u=this.transformConstraints,l=this.pathConstraints,c=s.length,f=u.length,h=l.length,d=c+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<c;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=u[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&q.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&q.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Af&&this.sortPathConstraintAttachmentWith(s,i);for(var u=e.bones,l=u.length,a=0;a<l;a++)this.sortBone(u[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(u[a].children);for(var a=0;a<l;a++)u[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&q.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Af){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,u=N.cosDeg(r.rotation+r.shearX)*r.scaleX,l=N.cosDeg(s)*r.scaleY,c=N.sinDeg(r.rotation+r.shearX)*r.scaleX,f=N.sinDeg(s)*r.scaleY,h=this.scaleX,d=-this.scaleY;r.matrix.a=(n*u+i*c)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*u+o*c)*d,r.matrix.d=(a*l+o*f)*d;for(var p=this._updateCache,v=0,g=p.length;v<g;v++){var m=p[v];m!=r&&m.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var u=this.pathConstraints,r=0,n=u.length;r<n;r++){var a=u[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;q.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new gf,r=new gf;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=0,c=i.length;l<c;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof eE)h=8,d=q.setArraySize(n,h,0),p.computeWorldVertices(f,d,0,2);else if(p instanceof mm){var v=p;h=v.worldVerticesLength,d=q.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d)for(var g=0,m=d.length;g<m;g+=2){var y=d[g],_=d[g+1];a=Math.min(a,y),o=Math.min(o,_),s=Math.max(s,y),u=Math.max(u,_)}}}e.set(a,o),r.set(s-a,u-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),RE=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),IE=function(){function t(e,r,n){if(this.index=0,this.color=new de(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=Se.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),kE=function(t){Ve(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(xm),h1=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Mp=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var u=s[r];this.setAttachment(u.slotIndex,u.name,u.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var u=s[r];u.attachment&&(u.attachment instanceof mm?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new h1(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new h1(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var u in s){var l=s[u];if(o==l){var c=this.getAttachment(n,u);c&&a.setAttachment(c);break}}}n++}},t}(),q3=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new RE;n.name="";var i=new Pp(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var u="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(u)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var c=0;c=i.readInt(!0);for(var f=0;f<c;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}c=i.readInt(!0);for(var f=0;f<c;f++){var d=i.readString();if(!d)throw new Error("Bone name must not be null.");var p=f==0?null:n.bones[i.readInt(!0)],v=new TE(f,d,p);v.rotation=i.readFloat(),v.x=i.readFloat()*r,v.y=i.readFloat()*r,v.scaleX=i.readFloat(),v.scaleY=i.readFloat(),v.shearX=i.readFloat(),v.shearY=i.readFloat(),v.length=i.readFloat()*r,v.transformMode=i.readInt(!0),v.skinRequired=i.readBoolean(),l&&de.rgba8888ToColor(v.color,i.readInt32()),n.bones.push(v)}c=i.readInt(!0);for(var f=0;f<c;f++){var g=i.readString();if(!g)throw new Error("Slot name must not be null.");var m=n.bones[i.readInt(!0)],v=new IE(f,g,m);de.rgba8888ToColor(v.color,i.readInt32());var y=i.readInt32();y!=-1&&de.rgb888ToColor(v.darkColor=new de,y),v.attachmentName=i.readStringRef(),v.blendMode=i.readInt(!0),n.slots.push(v)}c=i.readInt(!0);for(var f=0,_=void 0;f<c;f++){var x=i.readString();if(!x)throw new Error("IK constraint data name must not be null.");var v=new PE(x);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),_=i.readInt(!0);for(var b=0;b<_;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.mix=i.readFloat(),v.softness=i.readFloat()*r,v.bendDirection=i.readByte(),v.compress=i.readBoolean(),v.stretch=i.readBoolean(),v.uniform=i.readBoolean(),n.ikConstraints.push(v)}c=i.readInt(!0);for(var f=0,_=void 0;f<c;f++){var S=i.readString();if(!S)throw new Error("Transform constraint data name must not be null.");var v=new kE(S);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),_=i.readInt(!0);for(var b=0;b<_;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.local=i.readBoolean(),v.relative=i.readBoolean(),v.offsetRotation=i.readFloat(),v.offsetX=i.readFloat()*r,v.offsetY=i.readFloat()*r,v.offsetScaleX=i.readFloat(),v.offsetScaleY=i.readFloat(),v.offsetShearY=i.readFloat(),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),v.mixScaleX=i.readFloat(),v.mixScaleY=i.readFloat(),v.mixShearY=i.readFloat(),n.transformConstraints.push(v)}c=i.readInt(!0);for(var f=0,_=void 0;f<c;f++){var w=i.readString();if(!w)throw new Error("Path constraint data name must not be null.");var v=new OE(w);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),_=i.readInt(!0);for(var b=0;b<_;b++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.slots[i.readInt(!0)],v.positionMode=i.readInt(!0),v.spacingMode=i.readInt(!0),v.rotateMode=i.readInt(!0),v.offsetRotation=i.readFloat(),v.position=i.readFloat(),v.positionMode==Mt.Fixed&&(v.position*=r),v.spacing=i.readFloat(),(v.spacingMode==ar.Length||v.spacingMode==ar.Fixed)&&(v.spacing*=r),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),n.pathConstraints.push(v)}var E=this.readSkin(i,n,!0,l);E&&(n.defaultSkin=E,n.skins.push(E));{var f=n.skins.length;for(q.setArraySize(n.skins,c=f+i.readInt(!0));f<c;f++){var T=this.readSkin(i,n,!1,l);if(!T)throw new Error("readSkin() should not have returned null.");n.skins[f]=T}}c=this.linkedMeshes.length;for(var f=0;f<c;f++){var A=this.linkedMeshes[f],T=A.skin?n.findSkin(A.skin):n.defaultSkin;if(!T)throw new Error("Not skin found for linked mesh.");if(!A.parent)throw new Error("Linked mesh parent must not be null");var O=T.getAttachment(A.slotIndex,A.parent);if(!O)throw new Error("Parent mesh not found: "+A.parent);A.mesh.timelineAttachment=A.inheritTimeline?O:A.mesh,A.mesh.setParentMesh(O)}this.linkedMeshes.length=0,c=i.readInt(!0);for(var f=0;f<c;f++){var P=i.readStringRef();if(!P)throw new Error;var v=new CE(P);v.intValue=i.readInt(!1),v.floatValue=i.readFloat(),v.stringValue=i.readString(),v.audioPath=i.readString(),v.audioPath&&(v.volume=i.readFloat(),v.balance=i.readFloat()),n.events.push(v)}c=i.readInt(!0);for(var f=0;f<c;f++){var k=i.readString();if(!k)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,k,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Mp("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new Mp(s),a.bones.length=e.readInt(!0);for(var u=0,l=a.bones.length;u<l;u++)a.bones[u]=r.bones[e.readInt(!0)];for(var u=0,l=e.readInt(!0);u<l;u++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var u=0,l=e.readInt(!0);u<l;u++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var u=0,l=e.readInt(!0);u<l;u++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var u=0;u<o;u++)for(var c=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var d=e.readStringRef();if(!d)throw new Error("Attachment name must not be null");var p=this.readAttachment(e,r,a,c,d,i);p&&a.setAttachment(c,d,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,u=e.readStringRef();switch(u||(u=a),e.readByte()){case $e.Region:{var l=e.readStringRef(),c=e.readFloat(),f=e.readFloat(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),g=e.readFloat(),m=e.readInt32(),y=this.readSequence(e);l||(l=u);var _=this.attachmentLoader.newRegionAttachment(n,u,l,y);return _?(_.path=l,_.x=f*s,_.y=h*s,_.scaleX=d,_.scaleY=p,_.rotation=c,_.width=v*s,_.height=g*s,de.rgba8888ToColor(_.color,m),_.sequence=y,y==null&&_.updateRegion(),_):null}case $e.BoundingBox:{var x=e.readInt(!0),b=this.readVertices(e,x),m=o?e.readInt32():0,S=this.attachmentLoader.newBoundingBoxAttachment(n,u);return S?(S.worldVerticesLength=x<<1,S.vertices=b.vertices,S.bones=b.bones,o&&de.rgba8888ToColor(S.color,m),S):null}case $e.Mesh:{var l=e.readStringRef(),m=e.readInt32(),x=e.readInt(!0),w=this.readFloatArray(e,x<<1,1),E=this.readShortArray(e),b=this.readVertices(e,x),T=e.readInt(!0),y=this.readSequence(e),A=[],v=0,g=0;o&&(A=this.readShortArray(e),v=e.readFloat(),g=e.readFloat()),l||(l=u);var O=this.attachmentLoader.newMeshAttachment(n,u,l,y);return O?(O.path=l,de.rgba8888ToColor(O.color,m),O.bones=b.bones,O.vertices=b.vertices,O.worldVerticesLength=x<<1,O.triangles=E,O.regionUVs=new Float32Array(w),O.hullLength=T<<1,O.sequence=y,o&&(O.edges=A,O.width=v*s,O.height=g*s),O):null}case $e.LinkedMesh:{var l=e.readStringRef(),m=e.readInt32(),P=e.readStringRef(),k=e.readStringRef(),M=e.readBoolean(),y=this.readSequence(e),v=0,g=0;o&&(v=e.readFloat(),g=e.readFloat()),l||(l=u);var O=this.attachmentLoader.newMeshAttachment(n,u,l,y);return O?(O.path=l,de.rgba8888ToColor(O.color,m),O.sequence=y,o&&(O.width=v*s,O.height=g*s),this.linkedMeshes.push(new i_e(O,P,i,k,M)),O):null}case $e.Path:{for(var B=e.readBoolean(),j=e.readBoolean(),x=e.readInt(!0),b=this.readVertices(e,x),z=q.newArray(x/3,0),J=0,Z=z.length;J<Z;J++)z[J]=e.readFloat()*s;var m=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,u);return l?(l.closed=B,l.constantSpeed=j,l.worldVerticesLength=x<<1,l.vertices=b.vertices,l.bones=b.bones,l.lengths=z,o&&de.rgba8888ToColor(l.color,m),l):null}case $e.Point:{var c=e.readFloat(),f=e.readFloat(),h=e.readFloat(),m=o?e.readInt32():0,$=this.attachmentLoader.newPointAttachment(n,u);return $?($.x=f*s,$.y=h*s,$.rotation=c,o&&de.rgba8888ToColor($.color,m),$):null}case $e.Clipping:{var F=e.readInt(!0),x=e.readInt(!0),b=this.readVertices(e,x),m=o?e.readInt32():0,G=this.attachmentLoader.newClippingAttachment(n,u);return G?(G.endSlot=r.slots[F],G.worldVerticesLength=x<<1,G.vertices=b.vertices,G.bones=b.bones,o&&de.rgba8888ToColor(G.color,m),G):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new tE(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?xO:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new a_e;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,u=0;u<r;u++){var l=e.readInt(!0);s.push(l);for(var c=0;c<l;c++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=q.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var u=e.readInt(!0),l=0,c=e.readInt(!0);l<c;l++){var f=e.readByte(),h=e.readInt(!0),d=h-1;switch(f){case m_e:{for(var p=new is(h,u),v=0;v<h;v++)p.setFrame(v,e.readFloat(),e.readStringRef());i.push(p);break}case g_e:{for(var g=e.readInt(!0),p=new hE(h,g,u),m=e.readFloat(),y=e.readUnsignedByte()/255,_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,y,_,x,b),v!=d;v++){var w=e.readFloat(),E=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,y,E,1),Ke(e,p,S++,v,1,m,w,_,T,1),Ke(e,p,S++,v,2,m,w,x,A,1),Ke(e,p,S++,v,3,m,w,b,O,1)}m=w,y=E,_=T,x=A,b=O}i.push(p);break}case y_e:{for(var g=e.readInt(!0),p=new dE(h,g,u),m=e.readFloat(),y=e.readUnsignedByte()/255,_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,y,_,x),v!=d;v++){var w=e.readFloat(),E=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255;switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,y,E,1),Ke(e,p,S++,v,1,m,w,_,T,1),Ke(e,p,S++,v,2,m,w,x,A,1)}m=w,y=E,_=T,x=A}i.push(p);break}case __e:{for(var g=e.readInt(!0),p=new vE(h,g,u),m=e.readFloat(),y=e.readUnsignedByte()/255,_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,y,_,x,b,E,T,A),v!=d;v++){var w=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,J=e.readUnsignedByte()/255;switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,y,P,1),Ke(e,p,S++,v,1,m,w,_,k,1),Ke(e,p,S++,v,2,m,w,x,M,1),Ke(e,p,S++,v,3,m,w,b,B,1),Ke(e,p,S++,v,4,m,w,E,j,1),Ke(e,p,S++,v,5,m,w,T,z,1),Ke(e,p,S++,v,6,m,w,A,J,1)}m=w,y=P,_=k,x=M,b=B,E=j,T=z,A=J}i.push(p);break}case x_e:{for(var g=e.readInt(!0),p=new mE(h,g,u),m=e.readFloat(),y=e.readUnsignedByte()/255,_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,y,_,x,E,T,A),v!=d;v++){var w=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,J=e.readUnsignedByte()/255;switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,y,P,1),Ke(e,p,S++,v,1,m,w,_,k,1),Ke(e,p,S++,v,2,m,w,x,M,1),Ke(e,p,S++,v,3,m,w,E,j,1),Ke(e,p,S++,v,4,m,w,T,z,1),Ke(e,p,S++,v,5,m,w,A,J,1)}m=w,y=P,_=k,x=M,E=j,T=z,A=J}i.push(p);break}case b_e:{for(var p=new pE(h,e.readInt(!0),u),m=e.readFloat(),b=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,b),v!=d;v++){var w=e.readFloat(),O=e.readUnsignedByte()/255;switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,b,O,1)}m=w,b=O}i.push(p)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var Z=e.readInt(!0),l=0,c=e.readInt(!0);l<c;l++){var $=e.readByte(),h=e.readInt(!0),g=e.readInt(!0);switch($){case o_e:i.push(xa(e,new Cf(h,g,Z),1));break;case s_e:i.push(Gy(e,new nE(h,g,Z),a));break;case l_e:i.push(xa(e,new iE(h,g,Z),a));break;case u_e:i.push(xa(e,new aE(h,g,Z),a));break;case c_e:i.push(Gy(e,new oE(h,g,Z),1));break;case f_e:i.push(xa(e,new sE(h,g,Z),1));break;case h_e:i.push(xa(e,new lE(h,g,Z),1));break;case d_e:i.push(Gy(e,new uE(h,g,Z),1));break;case p_e:i.push(xa(e,new cE(h,g,Z),1));break;case v_e:i.push(xa(e,new fE(h,g,Z),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var F=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new yE(h,e.readInt(!0),F),m=e.readFloat(),G=e.readFloat(),V=e.readFloat()*a,v=0,S=0;p.setFrame(v,m,G,V,e.readByte(),e.readBoolean(),e.readBoolean()),v!=d;v++){var w=e.readFloat(),U=e.readFloat(),H=e.readFloat()*a;switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,G,U,1),Ke(e,p,S++,v,1,m,w,V,H,a)}m=w,G=U,V=H}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var F=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new _E(h,e.readInt(!0),F),m=e.readFloat(),ee=e.readFloat(),ie=e.readFloat(),ae=e.readFloat(),pe=e.readFloat(),ye=e.readFloat(),oe=e.readFloat(),v=0,S=0;p.setFrame(v,m,ee,ie,ae,pe,ye,oe),v!=d;v++){var w=e.readFloat(),_e=e.readFloat(),Ce=e.readFloat(),be=e.readFloat(),Oe=e.readFloat(),ke=e.readFloat(),we=e.readFloat();switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,ee,_e,1),Ke(e,p,S++,v,1,m,w,ie,Ce,1),Ke(e,p,S++,v,2,m,w,ae,be,1),Ke(e,p,S++,v,3,m,w,pe,Oe,1),Ke(e,p,S++,v,4,m,w,ye,ke,1),Ke(e,p,S++,v,5,m,w,oe,we,1)}m=w,ee=_e,ie=Ce,ae=be,pe=Oe,ye=ke,oe=we}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var F=e.readInt(!0),Xe=n.pathConstraints[F],l=0,c=e.readInt(!0);l<c;l++)switch(e.readByte()){case w_e:i.push(xa(e,new xE(e.readInt(!0),e.readInt(!0),F),Xe.positionMode==Mt.Fixed?a:1));break;case E_e:i.push(xa(e,new bE(e.readInt(!0),e.readInt(!0),F),Xe.spacingMode==ar.Length||Xe.spacingMode==ar.Fixed?a:1));break;case T_e:for(var p=new SE(e.readInt(!0),e.readInt(!0),F),m=e.readFloat(),ee=e.readFloat(),ie=e.readFloat(),ae=e.readFloat(),v=0,S=0,d=p.getFrameCount()-1;p.setFrame(v,m,ee,ie,ae),v!=d;v++){var w=e.readFloat(),_e=e.readFloat(),Ce=e.readFloat(),be=e.readFloat();switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,ee,_e,1),Ke(e,p,S++,v,1,m,w,ie,Ce,1),Ke(e,p,S++,v,2,m,w,ae,be,1)}m=w,ee=_e,ie=Ce,ae=be}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var tt=n.skins[e.readInt(!0)],l=0,c=e.readInt(!0);l<c;l++)for(var u=e.readInt(!0),Et=0,$t=e.readInt(!0);Et<$t;Et++){var Ht=e.readStringRef();if(!Ht)throw new Error("attachmentName must not be null.");var _t=tt.getAttachment(u,Ht),f=this.readDeformTimelineType(e),h=e.readInt(!0),d=h-1;switch(f){case xO:{for(var lr=_t,Dr=lr.bones,ur=lr.vertices,xr=Dr?ur.length/3*2:ur.length,g=e.readInt(!0),p=new gE(h,g,u,lr),m=e.readFloat(),v=0,S=0;;v++){var Br=void 0,br=e.readInt(!0);if(br==0)Br=Dr?q.newFloatArray(xr):ur;else{Br=q.newFloatArray(xr);var Ri=e.readInt(!0);if(br+=Ri,a==1)for(var Vt=Ri;Vt<br;Vt++)Br[Vt]=e.readFloat();else for(var Vt=Ri;Vt<br;Vt++)Br[Vt]=e.readFloat()*a;if(!Dr)for(var Vt=0,pa=Br.length;Vt<pa;Vt++)Br[Vt]+=ur[Vt]}if(p.setFrame(v,m,Br),v==d)break;var w=e.readFloat();switch(e.readByte()){case di:p.setStepped(v);break;case pi:Ke(e,p,S++,v,0,m,w,0,1,1)}m=w}i.push(p);break}case S_e:{for(var p=new wE(h,u,_t),v=0;v<h;v++){var m=e.readFloat(),Ba=e.readInt32();p.setFrame(v,m,rE[Ba&15],Ba>>4,e.readFloat())}i.push(p);break}}}var ct=e.readInt(!0);if(ct>0){for(var p=new Rl(ct),oi=n.slots.length,o=0;o<ct;o++){for(var m=e.readFloat(),Fo=e.readInt(!0),Xn=q.newArray(oi,0),l=oi-1;l>=0;l--)Xn[l]=-1;for(var ja=q.newArray(oi-Fo,0),Ii=0,jr=0,l=0;l<Fo;l++){for(var u=e.readInt(!0);Ii!=u;)ja[jr++]=Ii++;Xn[Ii+e.readInt(!0)]=Ii++}for(;Ii<oi;)ja[jr++]=Ii++;for(var l=oi-1;l>=0;l--)Xn[l]==-1&&(Xn[l]=ja[--jr]);p.setFrame(o,m,Xn)}i.push(p)}var Ua=e.readInt(!0);if(Ua>0){for(var p=new _m(Ua),o=0;o<Ua;o++){var m=e.readFloat(),ki=n.events[e.readInt(!0)],nn=new AE(m,ki);nn.intValue=e.readInt(!1),nn.floatValue=e.readFloat(),nn.stringValue=e.readBoolean()?e.readString():ki.stringValue,nn.data.audioPath&&(nn.volume=e.readFloat(),nn.balance=e.readFloat()),p.setFrame(o,nn)}i.push(p)}for(var va=0,o=0,s=i.length;o<s;o++)va=Math.max(va,i[o].getDuration());return new gm(r,i,va)},t.BlendModeValues=[Se.NORMAL,Se.ADD,Se.MULTIPLY,Se.SCREEN],t}(),i_e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),a_e=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function xa(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var u=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case di:e.setStepped(a);break;case pi:Ke(t,e,o++,a,0,n,u,i,l,r)}n=u,i=l}return e}function Gy(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,u=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=u;o++){var l=t.readFloat(),c=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case di:e.setStepped(o);break;case pi:Ke(t,e,s++,o,0,n,l,i,c,r),Ke(t,e,s++,o,1,n,l,a,f,r)}n=l,i=c,a=f}return e}function Ke(t,e,r,n,i,a,o,s,u,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,u)}var o_e=0,s_e=1,l_e=2,u_e=3,c_e=4,f_e=5,h_e=6,d_e=7,p_e=8,v_e=9,m_e=0,g_e=1,y_e=2,__e=3,x_e=4,b_e=5,xO=0,S_e=1,w_e=0,E_e=1,T_e=2,di=1,pi=2,A_e=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(kw),K3=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new RE,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var u=0;u<i.bones.length;u++){var l=i.bones[u],c=null,f=Q(l,"parent",null);if(f!=null&&(c=n.findBone(f),c==null))throw new Error("Parent bone not found: "+f);var h=new TE(n.bones.length,l.name,c);h.length=Q(l,"length",0)*r,h.x=Q(l,"x",0)*r,h.y=Q(l,"y",0)*r,h.rotation=Q(l,"rotation",0),h.scaleX=Q(l,"scaleX",1),h.scaleY=Q(l,"scaleY",1),h.shearX=Q(l,"shearX",0),h.shearY=Q(l,"shearY",0),h.transformMode=q.enumValue(Fe,Q(l,"transform","Normal")),h.skinRequired=Q(l,"skin",!1);var d=Q(l,"color",null);d&&h.color.setFromString(d),n.bones.push(h)}if(i.slots)for(var u=0;u<i.slots.length;u++){var p=i.slots[u],v=n.findBone(p.bone);if(!v)throw new Error("Couldn't find bone "+p.bone+" for slot "+p.name);var h=new IE(n.slots.length,p.name,v),d=Q(p,"color",null);d&&h.color.setFromString(d);var g=Q(p,"dark",null);g&&(h.darkColor=de.fromString(g)),h.attachmentName=Q(p,"attachment",null),h.blendMode=t.blendModeFromString(Q(p,"blend","normal")),n.slots.push(h)}if(i.ik)for(var u=0;u<i.ik.length;u++){var m=i.ik[u],h=new PE(m.name);h.order=Q(m,"order",0),h.skinRequired=Q(m,"skin",!1);for(var y=0;y<m.bones.length;y++){var _=m.bones[y],x=n.findBone(_);if(x==null)throw new Error("IK bone not found: "+_);h.bones.push(x)}h.target=n.findBone(m.target),h.mix=Q(m,"mix",1),h.softness=Q(m,"softness",0)*r,h.bendDirection=Q(m,"bendPositive",!0)?1:-1,h.compress=Q(m,"compress",!1),h.stretch=Q(m,"stretch",!1),h.uniform=Q(m,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var u=0;u<i.transform.length;u++){var m=i.transform[u],h=new kE(m.name);h.order=Q(m,"order",0),h.skinRequired=Q(m,"skin",!1);for(var y=0;y<m.bones.length;y++){var _=m.bones[y],x=n.findBone(_);if(!x)throw new Error("Couldn't find bone "+_+" for transform constraint "+m.name+".");h.bones.push(x)}var b=m.target,S=n.findBone(b);if(!S)throw new Error("Couldn't find target bone "+b+" for transform constraint "+m.name+".");h.target=S,h.local=Q(m,"local",!1),h.relative=Q(m,"relative",!1),h.offsetRotation=Q(m,"rotation",0),h.offsetX=Q(m,"x",0)*r,h.offsetY=Q(m,"y",0)*r,h.offsetScaleX=Q(m,"scaleX",0),h.offsetScaleY=Q(m,"scaleY",0),h.offsetShearY=Q(m,"shearY",0),h.mixRotate=Q(m,"mixRotate",1),h.mixX=Q(m,"mixX",1),h.mixY=Q(m,"mixY",h.mixX),h.mixScaleX=Q(m,"mixScaleX",1),h.mixScaleY=Q(m,"mixScaleY",h.mixScaleX),h.mixShearY=Q(m,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var u=0;u<i.path.length;u++){var m=i.path[u],h=new OE(m.name);h.order=Q(m,"order",0),h.skinRequired=Q(m,"skin",!1);for(var y=0;y<m.bones.length;y++){var _=m.bones[y],x=n.findBone(_);if(!x)throw new Error("Couldn't find bone "+_+" for path constraint "+m.name+".");h.bones.push(x)}var b=m.target,S=n.findSlot(b);if(!S)throw new Error("Couldn't find target slot "+b+" for path constraint "+m.name+".");h.target=S,h.positionMode=q.enumValue(Mt,Q(m,"positionMode","Percent")),h.spacingMode=q.enumValue(ar,Q(m,"spacingMode","Length")),h.rotateMode=q.enumValue(zt,Q(m,"rotateMode","Tangent")),h.offsetRotation=Q(m,"rotation",0),h.position=Q(m,"position",0),h.positionMode==Mt.Fixed&&(h.position*=r),h.spacing=Q(m,"spacing",0),(h.spacingMode==ar.Length||h.spacingMode==ar.Fixed)&&(h.spacing*=r),h.mixRotate=Q(m,"mixRotate",1),h.mixX=Q(m,"mixX",1),h.mixY=Q(m,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var u=0;u<i.skins.length;u++){var w=i.skins[u],E=new Mp(w.name);if(w.bones)for(var y=0;y<w.bones.length;y++){var _=w.bones[y],x=n.findBone(_);if(!x)throw new Error("Couldn't find bone "+_+" for skin "+w.name+".");E.bones.push(x)}if(w.ik)for(var y=0;y<w.ik.length;y++){var T=w.ik[y],A=n.findIkConstraint(T);if(!A)throw new Error("Couldn't find IK constraint "+T+" for skin "+w.name+".");E.constraints.push(A)}if(w.transform)for(var y=0;y<w.transform.length;y++){var T=w.transform[y],A=n.findTransformConstraint(T);if(!A)throw new Error("Couldn't find transform constraint "+T+" for skin "+w.name+".");E.constraints.push(A)}if(w.path)for(var y=0;y<w.path.length;y++){var T=w.path[y],A=n.findPathConstraint(T);if(!A)throw new Error("Couldn't find path constraint "+T+" for skin "+w.name+".");E.constraints.push(A)}for(var O in w.attachments){var P=n.findSlot(O);if(!P)throw new Error("Couldn't find slot "+O+" for skin "+w.name+".");var p=w.attachments[O];for(var k in p){var M=this.readAttachment(p[k],E,P.index,k,n);M&&E.setAttachment(P.index,k,M)}}n.skins.push(E),E.name=="default"&&(n.defaultSkin=E)}for(var u=0,B=this.linkedMeshes.length;u<B;u++){var j=this.linkedMeshes[u],E=j.skin?n.findSkin(j.skin):n.defaultSkin;if(!E)throw new Error("Skin not found: "+j.skin);var z=E.getAttachment(j.slotIndex,j.parent);if(!z)throw new Error("Parent mesh not found: "+j.parent);j.mesh.timelineAttachment=j.inheritTimeline?z:j.mesh,j.mesh.setParentMesh(z)}if(this.linkedMeshes.length=0,i.events)for(var J in i.events){var Z=i.events[J],h=new CE(J);h.intValue=Q(Z,"int",0),h.floatValue=Q(Z,"float",0),h.stringValue=Q(Z,"string",""),h.audioPath=Q(Z,"audio",null),h.audioPath&&(h.volume=Q(Z,"volume",1),h.balance=Q(Z,"balance",0)),n.events.push(h)}if(i.animations)for(var $ in i.animations){var F=i.animations[$];this.readAnimation(F,$,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=Q(e,"name",i),Q(e,"type","region")){case"region":{var s=Q(e,"path",i),u=this.readSequence(Q(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,u);if(!l)return null;l.path=s,l.x=Q(e,"x",0)*o,l.y=Q(e,"y",0)*o,l.scaleX=Q(e,"scaleX",1),l.scaleY=Q(e,"scaleY",1),l.rotation=Q(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=u;var c=Q(e,"color",null);return c&&l.color.setFromString(c),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var c=Q(e,"color",null);return c&&f.color.setFromString(c),f}case"mesh":case"linkedmesh":{var s=Q(e,"path",i),u=this.readSequence(Q(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,u);if(!h)return null;h.path=s;var c=Q(e,"color",null);c&&h.color.setFromString(c),h.width=Q(e,"width",0)*o,h.height=Q(e,"height",0)*o,h.sequence=u;var d=Q(e,"parent",null);if(d)return this.linkedMeshes.push(new C_e(h,Q(e,"skin",null),n,d,Q(e,"timelines",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=Q(e,"edges",null),h.hullLength=Q(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=Q(e,"closed",!1),s.constantSpeed=Q(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,s,v<<1);for(var g=q.newArray(v/3,0),m=0;m<e.lengths.length;m++)g[m]=e.lengths[m]*o;s.lengths=g;var c=Q(e,"color",null);return c&&s.color.setFromString(c),s}case"point":{var y=this.attachmentLoader.newPointAttachment(r,i);if(!y)return null;y.x=Q(e,"x",0)*o,y.y=Q(e,"y",0)*o,y.rotation=Q(e,"rotation",0);var c=Q(e,"color",null);return c&&y.color.setFromString(c),y}case"clipping":{var _=this.attachmentLoader.newClippingAttachment(r,i);if(!_)return null;var x=Q(e,"end",null);if(x!=null){var b=a.findSlot(x);if(b==null)throw new Error("Clipping end slot not found: "+x);_.endSlot=b}var v=e.vertexCount;this.readVertices(e,_,v<<1);var c=Q(e,"color",null);return c&&_.color.setFromString(c),_}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new tE(Q(e,"count",0));return r.start=Q(e,"start",1),r.digits=Q(e,"digits",0),r.setupIndex=Q(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=q.toFloatArray(a);if(i!=1)for(var s=0,u=a.length;s<u;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,c=new Array,s=0,u=a.length;s<u;){var f=a[s++];c.push(f);for(var h=s+f*4;s<h;s+=4)c.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=c,r.vertices=q.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],u=n.findSlot(o);if(!u)throw new Error("Slot not found: "+o);var l=u.index;for(var c in s){var f=s[c];if(f){var h=f.length;if(c=="attachment"){for(var d=new is(h,l),p=0;p<h;p++){var v=f[p];d.setFrame(p,Q(v,"time",0),Q(v,"name",null))}a.push(d)}else if(c=="rgba"){for(var d=new hE(h,h<<2,l),v=f[0],g=Q(v,"time",0),m=de.fromString(v.color),p=0,y=0;;p++){d.setFrame(p,g,m.r,m.g,m.b,m.a);var _=f[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),b=de.fromString(_.color),S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,m.r,b.r,1),y=Ze(S,d,y,p,1,g,x,m.g,b.g,1),y=Ze(S,d,y,p,2,g,x,m.b,b.b,1),y=Ze(S,d,y,p,3,g,x,m.a,b.a,1)),g=x,m=b,v=_}a.push(d)}else if(c=="rgb"){for(var d=new dE(h,h*3,l),v=f[0],g=Q(v,"time",0),m=de.fromString(v.color),p=0,y=0;;p++){d.setFrame(p,g,m.r,m.g,m.b);var _=f[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),b=de.fromString(_.color),S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,m.r,b.r,1),y=Ze(S,d,y,p,1,g,x,m.g,b.g,1),y=Ze(S,d,y,p,2,g,x,m.b,b.b,1)),g=x,m=b,v=_}a.push(d)}else if(c=="alpha")a.push(Li(f,new pE(h,h,l),0,1));else if(c=="rgba2"){for(var d=new vE(h,h*7,l),v=f[0],g=Q(v,"time",0),m=de.fromString(v.light),w=de.fromString(v.dark),p=0,y=0;;p++){d.setFrame(p,g,m.r,m.g,m.b,m.a,w.r,w.g,w.b);var _=f[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),b=de.fromString(_.light),E=de.fromString(_.dark),S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,m.r,b.r,1),y=Ze(S,d,y,p,1,g,x,m.g,b.g,1),y=Ze(S,d,y,p,2,g,x,m.b,b.b,1),y=Ze(S,d,y,p,3,g,x,m.a,b.a,1),y=Ze(S,d,y,p,4,g,x,w.r,E.r,1),y=Ze(S,d,y,p,5,g,x,w.g,E.g,1),y=Ze(S,d,y,p,6,g,x,w.b,E.b,1)),g=x,m=b,w=E,v=_}a.push(d)}else if(c=="rgb2"){for(var d=new mE(h,h*6,l),v=f[0],g=Q(v,"time",0),m=de.fromString(v.light),w=de.fromString(v.dark),p=0,y=0;;p++){d.setFrame(p,g,m.r,m.g,m.b,w.r,w.g,w.b);var _=f[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),b=de.fromString(_.light),E=de.fromString(_.dark),S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,m.r,b.r,1),y=Ze(S,d,y,p,1,g,x,m.g,b.g,1),y=Ze(S,d,y,p,2,g,x,m.b,b.b,1),y=Ze(S,d,y,p,3,g,x,w.r,E.r,1),y=Ze(S,d,y,p,4,g,x,w.g,E.g,1),y=Ze(S,d,y,p,5,g,x,w.b,E.b,1)),g=x,m=b,w=E,v=_}a.push(d)}}}}if(e.bones)for(var T in e.bones){var A=e.bones[T],O=n.findBone(T);if(!O)throw new Error("Bone not found: "+T);var P=O.index;for(var c in A){var f=A[c],k=f.length;if(k!=0){if(c==="rotate")a.push(Li(f,new Cf(k,k,P),0,1));else if(c==="translate"){var d=new nE(k,k<<1,P);a.push(Xy(f,d,"x","y",0,i))}else if(c==="translatex"){var d=new iE(k,k,P);a.push(Li(f,d,0,i))}else if(c==="translatey"){var d=new aE(k,k,P);a.push(Li(f,d,0,i))}else if(c==="scale"){var d=new oE(k,k<<1,P);a.push(Xy(f,d,"x","y",1,1))}else if(c==="scalex"){var d=new sE(k,k,P);a.push(Li(f,d,1,1))}else if(c==="scaley"){var d=new lE(k,k,P);a.push(Li(f,d,1,1))}else if(c==="shear"){var d=new uE(k,k<<1,P);a.push(Xy(f,d,"x","y",0,1))}else if(c==="shearx"){var d=new cE(k,k,P);a.push(Li(f,d,0,1))}else if(c==="sheary"){var d=new fE(k,k,P);a.push(Li(f,d,0,1))}}}}if(e.ik)for(var M in e.ik){var B=e.ik[M],v=B[0];if(v){var j=n.findIkConstraint(M);if(!j)throw new Error("IK Constraint not found: "+M);for(var z=n.ikConstraints.indexOf(j),d=new yE(B.length,B.length<<1,z),g=Q(v,"time",0),J=Q(v,"mix",1),Z=Q(v,"softness",0)*i,p=0,y=0;;p++){d.setFrame(p,g,J,Z,Q(v,"bendPositive",!0)?1:-1,Q(v,"compress",!1),Q(v,"stretch",!1));var _=B[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),$=Q(_,"mix",1),F=Q(_,"softness",0)*i,S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,J,$,1),y=Ze(S,d,y,p,1,g,x,Z,F,i)),g=x,J=$,Z=F,v=_}a.push(d)}}if(e.transform)for(var M in e.transform){var f=e.transform[M],v=f[0];if(v){var j=n.findTransformConstraint(M);if(!j)throw new Error("Transform constraint not found: "+M);for(var z=n.transformConstraints.indexOf(j),d=new _E(f.length,f.length*6,z),g=Q(v,"time",0),G=Q(v,"mixRotate",1),V=Q(v,"mixX",1),U=Q(v,"mixY",V),H=Q(v,"mixScaleX",1),ee=Q(v,"mixScaleY",H),ie=Q(v,"mixShearY",1),p=0,y=0;;p++){d.setFrame(p,g,G,V,U,H,ee,ie);var _=f[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),ae=Q(_,"mixRotate",1),pe=Q(_,"mixX",1),ye=Q(_,"mixY",pe),oe=Q(_,"mixScaleX",1),_e=Q(_,"mixScaleY",oe),Ce=Q(_,"mixShearY",1),S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,G,ae,1),y=Ze(S,d,y,p,1,g,x,V,pe,1),y=Ze(S,d,y,p,2,g,x,U,ye,1),y=Ze(S,d,y,p,3,g,x,H,oe,1),y=Ze(S,d,y,p,4,g,x,ee,_e,1),y=Ze(S,d,y,p,5,g,x,ie,Ce,1)),g=x,G=ae,V=pe,U=ye,H=oe,ee=_e,H=oe,v=_}a.push(d)}}if(e.path)for(var M in e.path){var B=e.path[M],j=n.findPathConstraint(M);if(!j)throw new Error("Path constraint not found: "+M);var z=n.pathConstraints.indexOf(j);for(var c in B){var f=B[c],v=f[0];if(v){var be=f.length;if(c==="position"){var d=new xE(be,be,z);a.push(Li(f,d,0,j.positionMode==Mt.Fixed?i:1))}else if(c==="spacing"){var d=new bE(be,be,z);a.push(Li(f,d,0,j.spacingMode==ar.Length||j.spacingMode==ar.Fixed?i:1))}else if(c==="mix"){for(var d=new SE(be,be*3,z),g=Q(v,"time",0),G=Q(v,"mixRotate",1),V=Q(v,"mixX",1),U=Q(v,"mixY",V),p=0,y=0;;p++){d.setFrame(p,g,G,V,U);var _=f[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),ae=Q(_,"mixRotate",1),pe=Q(_,"mixX",1),ye=Q(_,"mixY",pe),S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,G,ae,1),y=Ze(S,d,y,p,1,g,x,V,pe,1),y=Ze(S,d,y,p,2,g,x,U,ye,1)),g=x,G=ae,V=pe,U=ye,v=_}a.push(d)}}}}if(e.deform){e.attachments={};for(var Oe in e.deform){var ke=e.deform[Oe],we=e.attachments[Oe]={};for(var o in ke){var s=ke[o],Xe=we[o]={};for(var tt in s)Xe[tt]={deform:s[tt]}}}}if(e.attachments)for(var Et in e.attachments){var $t=e.attachments[Et],Ht=n.findSkin(Et);if(Ht!=null)for(var _t in $t){var s=$t[_t],u=n.findSlot(_t);if(!u)throw new Error("Slot not found: "+_t);var l=u.index;for(var lr in s){var Dr=s[lr],ur=Ht.getAttachment(l,lr);for(var xr in Dr){var f=Dr[xr],v=f[0];if(v){if(xr=="deform"){for(var Br=ur.bones,br=ur.vertices,Ri=Br?br.length/3*2:br.length,d=new gE(f.length,f.length,l,ur),g=Q(v,"time",0),p=0,y=0;;p++){var Vt=void 0,pa=Q(v,"vertices",null);if(!pa)Vt=Br?q.newFloatArray(Ri):br;else{Vt=q.newFloatArray(Ri);var Ba=Q(v,"offset",0);if(q.arrayCopy(pa,0,Vt,Ba,pa.length),i!=1)for(var ct=Ba,oi=ct+pa.length;ct<oi;ct++)Vt[ct]*=i;if(!Br)for(var ct=0;ct<Ri;ct++)Vt[ct]+=br[ct]}d.setFrame(p,g,Vt);var _=f[p+1];if(!_){d.shrink(y);break}var x=Q(_,"time",0),S=v.curve;S&&(y=Ze(S,d,y,p,0,g,x,0,1,1)),g=x,v=_}a.push(d)}else if(xr=="sequence"){for(var d=new wE(f.length,l,ur),Fo=0,p=0;p<f.length;p++){var Xn=Q(v,"delay",Fo),g=Q(v,"time",0),ja=Pr[Q(v,"mode","hold")],Ii=Q(v,"index",0);d.setFrame(p,g,ja,Ii,Xn),Fo=Xn,v=f[p+1]}a.push(d)}}}}}}if(e.drawOrder){for(var d=new Rl(e.drawOrder.length),jr=n.slots.length,p=0,ct=0;ct<e.drawOrder.length;ct++,p++){var Ua=e.drawOrder[ct],ki=null,nn=Q(Ua,"offsets",null);if(nn){ki=q.newArray(jr,-1);for(var va=q.newArray(jr-nn.length,0),$a=0,wu=0,Mi=0;Mi<nn.length;Mi++){var Jf=nn[Mi],u=n.findSlot(Jf.slot);if(!u)throw new Error("Slot not found: "+u);for(var l=u.index;$a!=l;)va[wu++]=$a++;ki[$a+Jf.offset]=$a++}for(;$a<jr;)va[wu++]=$a++;for(var Mi=jr-1;Mi>=0;Mi--)ki[Mi]==-1&&(ki[Mi]=va[--wu])}d.setFrame(p,Q(Ua,"time",0),ki)}a.push(d)}if(e.events){for(var d=new _m(e.events.length),p=0,ct=0;ct<e.events.length;ct++,p++){var Fi=e.events[ct],No=n.findEvent(Fi.name);if(!No)throw new Error("Event not found: "+Fi.name);var ma=new AE(q.toSinglePrecision(Q(Fi,"time",0)),No);ma.intValue=Q(Fi,"int",No.intValue),ma.floatValue=Q(Fi,"float",No.floatValue),ma.stringValue=Q(Fi,"string",No.stringValue),ma.data.audioPath&&(ma.volume=Q(Fi,"volume",1),ma.balance=Q(Fi,"balance",0)),d.setFrame(p,ma)}a.push(d)}for(var Ls=0,ct=0,oi=a.length;ct<oi;ct++)Ls=Math.max(Ls,a[ct].getDuration());if(isNaN(Ls))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new gm(r,a,Ls))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Se.NORMAL;if(e=="additive")return Se.ADD;if(e=="multiply")return Se.MULTIPLY;if(e=="screen")return Se.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),C_e=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function Li(t,e,r,n){for(var i=t[0],a=Q(i,"time",0),o=Q(i,"value",r)*n,s=0,u=0;;u++){e.setFrame(u,a,o);var l=t[u+1];if(!l)return e.shrink(s),e;var c=Q(l,"time",0),f=Q(l,"value",r)*n;i.curve&&(s=Ze(i.curve,e,s,u,0,a,c,o,f,n)),a=c,o=f,i=l}}function Xy(t,e,r,n,i,a){for(var o=t[0],s=Q(o,"time",0),u=Q(o,r,i)*a,l=Q(o,n,i)*a,c=0,f=0;;f++){e.setFrame(f,s,u,l);var h=t[f+1];if(!h)return e.shrink(c),e;var d=Q(h,"time",0),p=Q(h,r,i)*a,v=Q(h,n,i)*a,g=o.curve;g&&(c=Ze(g,e,c,f,0,s,d,u,p,a),c=Ze(g,e,c,f,1,s,d,l,v,a)),s=d,u=p,l=v,o=h}}function Ze(t,e,r,n,i,a,o,s,u,l){if(t=="stepped")return e.setStepped(n),r;var c=i<<2,f=t[c],h=t[c+1]*l,d=t[c+2],p=t[c+3]*l;return e.setBezier(r,n,i,a,s,f,h,d,p,o,u),r+1}function Q(t,e,r){return t[e]!==void 0?t[e]:r}var P_e=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new H3(r),this.skeleton.updateWorldTransform(),this.stateData=new G3(r),this.state=new U3(this.stateData)},e}(Zf);const O_e=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:pE,Animation:gm,AnimationState:U3,AnimationStateAdapter:t_e,AnimationStateData:G3,AtlasAttachmentLoader:EE,Attachment:Jw,AttachmentTimeline:is,Bone:f1,BoneData:TE,BoundingBoxAttachment:D3,ClippingAttachment:B3,ConstraintData:xm,CurveTimeline:Pi,CurveTimeline1:Oi,CurveTimeline2:ym,DeformTimeline:gE,DrawOrderTimeline:Rl,Event:AE,EventData:CE,EventQueue:V3,EventTimeline:_m,get EventType(){return ln},IkConstraint:X3,IkConstraintData:PE,IkConstraintTimeline:yE,MeshAttachment:mm,PathAttachment:Af,PathConstraint:z3,PathConstraintData:OE,PathConstraintMixTimeline:SE,PathConstraintPositionTimeline:xE,PathConstraintSpacingTimeline:bE,PointAttachment:j3,RGB2Timeline:mE,RGBA2Timeline:vE,RGBATimeline:hE,RGBTimeline:dE,RegionAttachment:eE,RotateTimeline:Cf,ScaleTimeline:oE,ScaleXTimeline:sE,ScaleYTimeline:lE,Sequence:tE,get SequenceMode(){return Pr},SequenceModeValues:rE,SequenceTimeline:wE,ShearTimeline:uE,ShearXTimeline:cE,ShearYTimeline:fE,Skeleton:H3,SkeletonBinary:q3,SkeletonBounds:A_e,SkeletonData:RE,SkeletonJson:K3,Skin:Mp,SkinEntry:h1,Slot:W3,SlotData:IE,get SpacingMode(){return ar},Spine:P_e,Timeline:Yt,TrackEntry:$3,TransformConstraint:Y3,TransformConstraintData:kE,TransformConstraintTimeline:_E,TranslateTimeline:nE,TranslateXTimeline:iE,TranslateYTimeline:aE,VertexAttachment:ia},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d1=function(t,e){return d1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},d1(t,e)};function Z3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");d1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var or;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(or||(or={}));function Fp(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?or.VER37:e==="3.8"?or.VER38:e==="4.0"?or.VER40:e==="4.1"?or.VER41:r<or.VER37?or.VER37:or.UNKNOWN}var R_e=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=Fp(i);if(a===or.VER38&&(n=new l3(new Uw(e))),i=this.readVersionNewFormat(r),a=Fp(i),(a===or.VER40||a===or.VER41)&&(n=new q3(new EE(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new Pp(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new Pp(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),I_e=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=Fp(n),a=null;if(i===or.VER37&&(a=new L3(new S3(e))),i===or.VER38&&(a=new u3(new Uw(e))),(i===or.VER40||i===or.VER41)&&(a=new K3(new EE(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),k_e=function(t){Z3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new R_e},e.prototype.createJsonParser=function(){return new I_e},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){xs.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(D0e),bO=function(t){Z3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=Fp(r.version),i=null;if(n===or.VER37&&(i=e_e),n===or.VER38&&(i=Y0e),(n===or.VER40||n===or.VER41)&&(i=O_e),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(Zf);k_e.registerLoaderPlugin();window.PIXI=mge;class M_e{constructor(){Ae(this,"currentApp",null);Ae(this,"effectsContainer");Ae(this,"frameDuration",16.67);Ae(this,"notUpdateBacklogEffects",!1);Ae(this,"figureContainer");Ae(this,"figureObjects",[]);Ae(this,"backgroundContainer");Ae(this,"backgroundObjects",[]);Ae(this,"stageAnimations",[]);Ae(this,"assetLoader",new xs);Ae(this,"loadQueue",[]);Ae(this,"live2dFigureRecorder",[]);Ae(this,"lockTransformTarget",[]);Ae(this,"stageWidth",cp.width);Ae(this,"stageHeight",cp.height);Ae(this,"MAX_TEX_COUNT",10);const e=new Iw({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),ME&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new mr,this.effectsContainer.zIndex=3,this.figureContainer=new mr,this.figureContainer.sortableChildren=!0,this.figureContainer.zIndex=2,this.backgroundContainer=new mr,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:Hs(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const u=s.pixiContainer;Object.assign(u,a.transform)}return}this.stageAnimations.push({uuid:Hs(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const u=this.getStageObjByKey(o.targetKey);if(u){const l={alpha:u.pixiContainer.alphaFilterVal,scale:{x:u.pixiContainer.scale.x,y:u.pixiContainer.scale.y},position:{x:u.pixiContainer.x,y:u.pixiContainer.y},rotation:u.pixiContainer.rotation,blur:u.pixiContainer.blur,...s};let c={target:o.targetKey,transform:l};te.dispatch(Tr.updateEffect(c))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{var c;const u=this.assetLoader.resources[o[n]].texture,l=(c=a==null?void 0:a.children)==null?void 0:c[0];!u||!l||(l.texture=u)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{var c;const u=this.assetLoader.resources[o[n]].texture,l=(c=a==null?void 0:a.children)==null?void 0:c[0];!u||!l||(l.texture=u)})}addBg(e,r){var l,c;const n=this.assetLoader,i=new Hh;this.backgroundObjects.findIndex(f=>f.key===e)>=0&&this.removeStageObjectByKey(e),this.backgroundContainer.addChild(i);const s=Hs();this.backgroundObjects.push({uuid:s,key:e,pixiContainer:i,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{setTimeout(()=>{var h,d;const f=(d=(h=n.resources)==null?void 0:h[r])==null?void 0:d.texture;if(f&&this.getStageObjByUuid(s)){const p=f.width,v=f.height,g=this.stageWidth/p,m=this.stageHeight/v,y=Math.max(g,m),_=new _i(f);_.scale.x=y,_.scale.y=y,_.anchor.set(.5),_.position.y=this.stageHeight/2,i.setBaseX(this.stageWidth/2),i.setBaseY(this.stageHeight/2),i.pivot.set(0,this.stageHeight/2),i.addChild(_)}},0)};this.cacheGC(),(c=(l=n.resources)==null?void 0:l[r])!=null&&c.texture?u():this.loadAsset(r,u)}addSpineBg(e,r){var c;const n=`spine-${r}`,i=this.assetLoader,a=new Hh;this.backgroundObjects.findIndex(f=>f.key===e)>=0&&this.removeStageObjectByKey(e),this.backgroundContainer.addChild(a);const u=Hs();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:a,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const l=()=>{var h;const f=(h=this.assetLoader.resources)==null?void 0:h[n];setTimeout(()=>{var d;if(f&&this.getStageObjByUuid(u)){const p=new bO(f.spineData);(d=f==null?void 0:f.spineData)==null||d.y;const v=p.width,g=p.height,m=this.stageWidth/v,y=this.stageHeight/g;ge.debug("bgSpine state",p.state),p.spineData.animations.length>0&&p.state.setAnimation(0,p.spineData.animations[0].name,!0);const _=Math.max(m,y),x=new _i;x.addChild(p),x.scale.x=_,x.scale.y=_,x.anchor.set(.5),x.position.y=this.stageHeight/2,a.setBaseX(this.stageWidth/2),a.setBaseY(this.stageHeight/2),a.pivot.set(0,this.stageHeight/2),a.addChild(x)}},0)};this.cacheGC(),(c=i.resources)!=null&&c[r]?l():this.loadAsset(r,l,n)}addFigure(e,r,n="center"){var f,h;const i=this.assetLoader,a=new Hh;this.figureObjects.findIndex(d=>d.key===e)>=0&&this.removeStageObjectByKey(e);const u=this.getFigureMetadataByKey(e);u&&u.zIndex&&(a.zIndex=u.zIndex),this.figureContainer.addChild(a);const l=Hs();this.figureObjects.push({uuid:l,key:e,pixiContainer:a,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const c=()=>{setTimeout(()=>{var p,v;const d=(v=(p=i.resources)==null?void 0:p[r])==null?void 0:v.texture;if(d&&this.getStageObjByUuid(l)){const g=d.width,m=d.height,y=this.stageWidth/g,_=this.stageHeight/m,x=Math.min(y,_),b=new _i(d);b.scale.x=x,b.scale.y=x,b.anchor.set(.5),b.position.y=this.stageHeight/2;const S=g*x,w=m*x;a.setBaseY(this.stageHeight/2),w<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-w/2),n==="center"&&a.setBaseX(this.stageWidth/2),n==="left"&&a.setBaseX(S/2),n==="right"&&a.setBaseX(this.stageWidth-S/2),a.pivot.set(0,this.stageHeight/2),a.addChild(b)}},0)};this.cacheGC(),(h=(f=i.resources)==null?void 0:f[r])!=null&&h.texture?c():this.loadAsset(r,c)}addSpineFigure(e,r,n="center"){var h;const i=`spine-${r}`,a=this.assetLoader,o=new Hh;this.figureObjects.findIndex(d=>d.key===e)>=0&&this.removeStageObjectByKey(e);const l=this.getFigureMetadataByKey(e);l&&l.zIndex&&(o.zIndex=l.zIndex),this.figureContainer.addChild(o);const c=Hs();this.figureObjects.push({uuid:c,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const f=()=>{var p;const d=(p=this.assetLoader.resources)==null?void 0:p[i];setTimeout(()=>{var v;if(d&&this.getStageObjByUuid(c)){const g=new bO(d.spineData),m=((v=d==null?void 0:d.spineData)==null?void 0:v.y)??0,y=g.width,_=g.height,x=this.stageWidth/y,b=this.stageHeight/_;g.y=-(b*m)/2,g.state.setAnimation(0,"07",!0);const S=Math.min(x,b),w=new _i;w.addChild(g),w.scale.x=S,w.scale.y=S,w.anchor.set(.5),w.position.y=this.stageHeight/2;const E=y*S,T=_*S;o.setBaseY(this.stageHeight/2),T<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-T/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(E/2),n==="right"&&o.setBaseX(this.stageWidth-E/2),o.pivot.set(0,this.stageHeight/2),o.addChild(w)}},0)};this.cacheGC(),(h=a.resources)!=null&&h[r]?f():this.loadAsset(r,f,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const u=n.pixiContainer.children;for(const l of u){let c=r,f=0,h=3;const d=(l==null?void 0:l.internalModel)??void 0;(o=(a=d==null?void 0:d.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(c,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,u,l,c,f,h,d,p;function n(v){return v<50?0:(v-50)/50}const i=n(r),a=this.figureObjects.find(v=>v.key===e);if(a){const g=a.pixiContainer.children;for(const m of g)m!=null&&m.internalModel&&((s=(o=m==null?void 0:m.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((c=(l=(u=m==null?void 0:m.internalModel)==null?void 0:u.coreModel)==null?void 0:l.setParamFloat)==null||c.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=m==null?void 0:m.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((p=(d=m==null?void 0:m.internalModel)==null?void 0:d.coreModel)==null||p.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){fL()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n){this.loadQueue.unshift({url:e,callback:r,name:n}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){ge.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){zy==null||zy(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}getFigureMetadataByKey(e){return console.log(e,te.getState().stage.figureMetaData),te.getState().stage.figureMetaData[e]}}const zy=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),Q3={version:"WebGAL 4.5.8",contributors:[]},F_e=navigator.userAgent,ME=!!F_e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),N_e=()=>{ge.info(Q3.version),ge.info("Github: https://github.com/OpenWebGAL/WebGAL "),ge.info("Made with  by OpenWebGAL"),ME&&alert(`iOS 
| Please use landscape mode on iOS for the best experience
| iOS `),L_e("./game/userStyleSheet.css"),D_e(),lle("./game/config.txt");const t=Nn("start.txt",Fn.scene);ua(t).then(e=>{L.sceneManager.sceneData.currentScene=ca(e,"start.txt",t);const r=L.sceneManager.sceneData.currentScene.subSceneList;L.sceneManager.settledScenes.push(t);const n=jf(r);Uf(n)}),L.gameplay.pixiStage=new M_e,hle(),dle()};function L_e(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function D_e(){Wc.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)Wc.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};L.animationManager.addAnimation(i)}})})}const B_e="_Menu_main_1a7i6_1",j_e="_Menu_ShowSoftly_1a7i6_1",U_e="_Menu_TagContent_1a7i6_10",SO={Menu_main:B_e,Menu_ShowSoftly:j_e,Menu_TagContent:U_e},$_e="_MenuPanel_main_1c9ky_1",V_e="_MenuPanel_button_1c9ky_10",G_e="_MenuPanel_button_icon_1c9ky_38",X_e="_MenuPanel_button_hl_1c9ky_44",fl={MenuPanel_main:$_e,MenuPanel_button:V_e,MenuPanel_button_icon:G_e,MenuPanel_button_hl:X_e};var z_e=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){W_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W_e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y_e(t,e){if(t==null)return{};var r=H_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H_e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var q_e={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function K_e(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function Z_e(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var J3=ne.createContext(q_e);J3.Provider;function Lt(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,u=n.theme,l=n.fill,c=n.className,f=n.spin,h=Y_e(n,z_e),d=ne.useContext(J3),p=ne.useMemo(K_e,[]),v=Z_e(p,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:u,fill:l},d),g=[d.prefix+"-icon"];return g.push(d.prefix+"-icon-"+t),e&&d.rtl&&g.push(d.prefix+"-icon-rtl"),f&&g.push(d.prefix+"-icon-spin"),c&&g.push(c),fe.createElement("span",EO(EO({},h),{},{className:g.join(" ")}),r(v))}}const Q_e=Lt("align-text-left-one",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M26 24H14",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M34 15H14",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M32 33H14",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),eB=Lt("close-small",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M14 14L34 34",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M14 34L34 14",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),J_e=Lt("double-down",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M36 12L24 24L12 12",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M36 24L24 36L12 24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),exe=Lt("double-right",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M12 12L24 24L12 36",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M24 12L36 24L24 36",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),txe=Lt("double-up",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M12 24L24 12L36 24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M12 36L24 24L36 36",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),tB=Lt("folder-open",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),rxe=Lt("go-end",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M14 12L26 24L14 36",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M34 12V36",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),nxe=Lt("go-start",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M34 36L22 24L34 12",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M14 12V36",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),ixe=Lt("hamburger-button",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),rB=Lt("home",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),axe=Lt("left",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M31 36L19 24L31 12",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),oxe=Lt("lock",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("rect",{x:"6",y:"22",width:"36",height:"22",rx:"2",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M24 30V36",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),sxe=Lt("logout",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),lxe=Lt("music-list",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M24 19H40",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M24 10H40",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M8 38H40",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M8 28H40",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M8 10L16 15L8 20V10Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),nB=Lt("play-one",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),uxe=Lt("preview-close-one",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M9.85786 18C6.23858 21 4 24 4 24C4 24 12.9543 36 24 36C25.3699 36 26.7076 35.8154 28 35.4921M20.0318 12.5C21.3144 12.1816 22.6414 12 24 12C35.0457 12 44 24 44 24C44 24 41.7614 27 38.1421 30",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M20.3142 20.6211C19.4981 21.5109 19 22.6972 19 23.9998C19 26.7612 21.2386 28.9998 24 28.9998C25.3627 28.9998 26.5981 28.4546 27.5 27.5705",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M42 42L6 6",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),cxe=Lt("preview-open",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),fxe=Lt("replay-music",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M21 24V18L26 21L31 24L26 27L21 30V24Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M11.2721 36.7279C14.5294 39.9853 19.0294 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C19.0294 6 14.5294 8.01472 11.2721 11.2721C9.6141 12.9301 6 17 6 17",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M6 9V17H14",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),hxe=Lt("return",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),iB=Lt("save",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),fe.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),aB=Lt("setting-two",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),dxe=Lt("square-small",!1,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M34 12H14C12.8954 12 12 12.8954 12 14V34C12 35.1046 12.8954 36 14 36H34C35.1046 36 36 35.1046 36 34V14C36 12.8954 35.1046 12 34 12Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth}))}),pxe=Lt("unlock",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("rect",{x:"7",y:"22.0476",width:"34",height:"22",rx:"2",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M24 30V36",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),vxe=Lt("volume-notice",!0,function(t){return fe.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},fe.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),fe.createElement("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),mxe=t=>{let e;switch(t.iconName){case"save":e=C.jsx(iB,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=C.jsx(tB,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=C.jsx(aB,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=C.jsx(rB,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=C.jsx(sxe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=C.jsx("div",{})}return e},qu=t=>{const{playSePageChange:e,playSeEnter:r}=_n();let n=fl.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),C.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[C.jsx("div",{className:fl.MenuPanel_button_icon,children:C.jsx(mxe,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},FE=()=>{const t=te.dispatch;CS(),kS(),Tl(),t(Ge({key:"playVocal",value:""})),t(rt({component:"showTitle",visibility:!0})),Wf(te.getState().GUI.titleBg)},gxe="_GlobalDialog_main_101j8_2",yxe="_showGlobalDialog_101j8_1",_xe="_glabalDialog_container_inner_101j8_17",xxe="_glabalDialog_container_101j8_17",bxe="_title_101j8_36",Sxe="_button_list_101j8_41",wxe="_button_101j8_41",Uo={GlobalDialog_main:gxe,showGlobalDialog:yxe,glabalDialog_container_inner:_xe,glabalDialog_container:xxe,title:bxe,button_list:Sxe,button:wxe};function Exe(){const t=Ne(e=>e.GUI.showGlobalDialog);return C.jsx(C.Fragment,{children:t&&C.jsx("div",{id:"globalDialogContainer"})})}function as(t){const{playSeClick:e,playSeEnter:r}=uS();te.dispatch(rt({component:"showGlobalDialog",visibility:!0}));const n=()=>{e(),t.leftFunc(),TO()},i=()=>{e(),t.rightFunc(),TO()},a=C.jsx("div",{className:Uo.GlobalDialog_main,children:C.jsx("div",{className:Uo.glabalDialog_container,children:C.jsxs("div",{className:Uo.glabalDialog_container_inner,children:[C.jsx("div",{className:Uo.title,children:t.title}),C.jsxs("div",{className:Uo.button_list,children:[C.jsx("div",{className:Uo.button,onClick:n,onMouseEnter:r,children:t.leftText}),C.jsx("div",{className:Uo.button,onClick:i,onMouseEnter:r,children:t.rightText})]})]})})});setTimeout(()=>{ea.render(a,document.getElementById("globalDialogContainer"))},100)}function TO(){te.dispatch(rt({component:"showGlobalDialog",visibility:!1}))}function Txe(){te.dispatch(rt({component:"showControls",visibility:!0}))}function Axe(){te.dispatch(rt({component:"showControls",visibility:!1}))}function Cxe(){te.getState().GUI.showControls===!0?Axe():Txe()}const Pxe=()=>{const t=On("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=_n(),i=Ne(v=>v.GUI),a=Lr(),o=i.currentMenuTag===vt.Save?` ${fl.MenuPanel_button_hl}`:"",s=i.currentMenuTag===vt.Load?` ${fl.MenuPanel_button_hl}`:"",u=i.currentMenuTag===vt.Option?` ${fl.MenuPanel_button_hl}`:"",l=i.currentMenuTag===vt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",c=i.currentMenuTag===vt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",f=i.currentMenuTag===vt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===vt.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===vt.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===vt.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return C.jsxs("div",{className:fl.MenuPanel_main,children:[C.jsx(qu,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a(ss(vt.Save))},tagName:t("saving.title")},"saveButton"),C.jsx(qu,{iconName:"load",buttonOnClassName:s,iconColor:d,tagColor:c,clickFunc:()=>{n(),a(ss(vt.Load))},tagName:t("loadSaving.title")},"loadButton"),C.jsx(qu,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),as({title:t("$gaming.buttons.titleTips"),leftText:t("$common.yes"),rightText:t("$common.no"),leftFunc:()=>{FE(),a(rt({component:"showMenuPanel",visibility:!1}))},rightFunc:()=>{}})},tagName:t("title.title")},"titleIcon"),C.jsx(qu,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:u,iconColor:p,tagColor:f,clickFunc:()=>{n(),a(ss(vt.Option))},tagName:t("options.title")},"optionButton"),C.jsx(qu,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(rt({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},Oxe="_Save_Load_main_a3o8b_2",Rxe="_Save_Load_top_a3o8b_9",Ixe="_Elements_in_a3o8b_1",kxe="_Save_Load_title_a3o8b_17",Mxe="_Save_title_text_a3o8b_35",Fxe="_Load_title_text_a3o8b_43",Nxe="_Save_Load_top_buttonList_a3o8b_51",Lxe="_Save_Load_top_button_a3o8b_51",Dxe="_Save_Load_top_button_text_a3o8b_69",Bxe="_Save_Load_top_button_on_a3o8b_80",jxe="_Load_top_button_on_a3o8b_93",Uxe="_Load_top_button_a3o8b_93",$xe="_Save_Load_content_a3o8b_106",Vxe="_Save_Load_content_element_a3o8b_115",Gxe="_Elements_in_transform_a3o8b_1",Xxe="_Save_Load_content_element_top_a3o8b_131",zxe="_Save_Load_content_element_top_index_a3o8b_138",Wxe="_Load_content_elememt_top_index_a3o8b_147",Yxe="_Save_Load_content_element_top_date_a3o8b_151",Hxe="_Load_content_element_top_date_a3o8b_162",qxe="_Save_Load_content_text_a3o8b_166",Kxe="_Save_Load_content_text_padding_a3o8b_180",Zxe="_Save_Load_content_speaker_a3o8b_184",Qxe="_Load_content_speaker_a3o8b_193",Jxe="_Load_content_text_a3o8b_197",e1e="_Save_Load_content_miniRen_a3o8b_201",t1e="_Save_Load_content_miniRen_bg_a3o8b_208",r1e="_Save_Load_content_miniRen_figure_a3o8b_215",n1e="_Save_Load_content_miniRen_figLeft_a3o8b_223",i1e="_Save_Load_content_miniRen_figRight_a3o8b_228",Ue={Save_Load_main:Oxe,Save_Load_top:Rxe,Elements_in:Ixe,Save_Load_title:kxe,Save_title_text:Mxe,Load_title_text:Fxe,Save_Load_top_buttonList:Nxe,Save_Load_top_button:Lxe,Save_Load_top_button_text:Dxe,Save_Load_top_button_on:Bxe,Load_top_button_on:jxe,Load_top_button:Uxe,Save_Load_content:$xe,Save_Load_content_element:Vxe,Elements_in_transform:Gxe,Save_Load_content_element_top:Xxe,Save_Load_content_element_top_index:zxe,Load_content_elememt_top_index:Wxe,Save_Load_content_element_top_date:Yxe,Load_content_element_top_date:Hxe,Save_Load_content_text:qxe,Save_Load_content_text_padding:Kxe,Save_Load_content_speaker:Zxe,Load_content_speaker:Qxe,Load_content_text:Jxe,Save_Load_content_miniRen:e1e,Save_Load_content_miniRen_bg:t1e,Save_Load_content_miniRen_figure:r1e,Save_Load_content_miniRen_figLeft:n1e,Save_Load_content_miniRen_figRight:i1e},a1e=()=>{const{playSePageChange:t,playSeEnter:e,playSeDialogOpen:r}=_n(),n=Ne(d=>d.userData),i=Ne(d=>d.saveData),a=Lr(),o=[];for(let d=1;d<=20;d++){let p=Ue.Save_Load_top_button;d===n.optionData.slPage&&(p=p+" "+Ue.Save_Load_top_button_on);const v=C.jsx("div",{onClick:()=>{a(Xk(d)),st(),t()},onMouseEnter:e,className:p,children:C.jsx("div",{className:Ue.Save_Load_top_button_text,children:d})},"Save_element_page"+d);o.push(v)}const s=On("common."),u=[],l=(n.optionData.slPage-1)*10+1,c=l+9;ne.useEffect(()=>{Zv(l,c)},[l,c]);let f=0;for(let d=l;d<=c;d++){f++;const p=i.saveData[d];let v=C.jsx("div",{});if(p){const m=p.nowStageState.showName===""?"":`${p.nowStageState.showName}`;v=C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:Ue.Save_Load_content_element_top,children:[C.jsx("div",{className:Ue.Save_Load_content_element_top_index,children:p.index}),C.jsx("div",{className:Ue.Save_Load_content_element_top_date,children:p.saveTime})]}),C.jsx("div",{className:Ue.Save_Load_content_miniRen,children:C.jsx("img",{className:Ue.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage})}),C.jsxs("div",{className:Ue.Save_Load_content_text,children:[C.jsx("div",{className:Ue.Save_Load_content_speaker,children:m}),C.jsx("div",{className:Ue.Save_Load_content_text_padding,children:p.nowStageState.showText})]})]})}const g=C.jsx("div",{onClick:()=>{i.saveData[d]?(r(),as({title:h("saving.isOverwrite"),leftText:s("yes"),rightText:s("no"),leftFunc:()=>{p_(d),st()},rightFunc:()=>{}})):(t(),p_(d))},onMouseEnter:e,className:Ue.Save_Load_content_element,style:{animationDelay:`${f*30}ms`},children:v},"saveElement_"+d);u.push(g)}const h=On("menu.");return C.jsxs("div",{className:Ue.Save_Load_main,children:[C.jsxs("div",{className:Ue.Save_Load_top,children:[C.jsx("div",{className:Ue.Save_Load_title,children:C.jsx("div",{className:Ue.Save_title_text,children:h("saving.title")})}),C.jsx("div",{className:Ue.Save_Load_top_buttonList,children:o})]}),C.jsx("div",{className:Ue.Save_Load_content,id:"Save_content_page_"+n.optionData.slPage,children:u})]})},o1e=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=_n(),n=Ne(h=>h.userData),i=Ne(h=>h.saveData),a=Lr(),o=[];for(let h=1;h<=20;h++){let d=Ue.Save_Load_top_button+" "+Ue.Load_top_button;h===n.optionData.slPage&&(d=d+" "+Ue.Save_Load_top_button_on+" "+Ue.Load_top_button_on);const p=C.jsx("div",{onClick:()=>{a(Xk(h)),st(),r()},onMouseEnter:e,className:d,children:C.jsx("div",{className:Ue.Save_Load_top_button_text,children:h})},"Load_element_page"+h);o.push(p)}const s=[],u=(n.optionData.slPage-1)*10+1,l=u+9;ne.useEffect(()=>{Zv(u,l)},[u,l]);let c=0;for(let h=u;h<=l;h++){c++;const d=i.saveData[h];let p=C.jsx("div",{});if(d){const g=d.nowStageState.showName===""?"":`${d.nowStageState.showName}`;p=C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:Ue.Save_Load_content_element_top,children:[C.jsx("div",{className:Ue.Save_Load_content_element_top_index+" "+Ue.Load_content_elememt_top_index,children:d.index}),C.jsx("div",{className:Ue.Save_Load_content_element_top_date+" "+Ue.Load_content_element_top_date,children:d.saveTime})]}),C.jsx("div",{className:Ue.Save_Load_content_miniRen,children:C.jsx("img",{className:Ue.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:d.previewImage})}),C.jsxs("div",{className:Ue.Save_Load_content_text,children:[C.jsx("div",{className:Ue.Save_Load_content_speaker+" "+Ue.Load_content_speaker,children:g}),C.jsx("div",{className:Ue.Save_Load_content_text_padding,children:d.nowStageState.showText})]})]})}const v=C.jsx("div",{onClick:()=>{fN(h),t()},onMouseEnter:e,className:Ue.Save_Load_content_element,style:{animationDelay:`${c*30}ms`},children:p},"loadElement_"+h);s.push(v)}const f=On("menu.");return C.jsxs("div",{className:Ue.Save_Load_main,children:[C.jsxs("div",{className:Ue.Save_Load_top,children:[C.jsx("div",{className:Ue.Save_Load_title,children:C.jsx("div",{className:Ue.Load_title_text,children:f("loadSaving.title")})}),C.jsx("div",{className:Ue.Save_Load_top_buttonList,children:o})]}),C.jsx("div",{className:Ue.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:s})]})},s1e="_Options_main_u5orq_2",l1e="_Options_top_u5orq_9",u1e="_Options_title_u5orq_16",c1e="_Option_title_text_u5orq_25",f1e="_Elements_in_u5orq_1",h1e="_Option_title_text_shadow_u5orq_34",d1e="_Option_title_text_ts_u5orq_41",p1e="_Options_main_content_u5orq_48",v1e="_Options_main_content_half_u5orq_55",m1e="_About_title_text_u5orq_65",g1e="_About_text_u5orq_73",y1e="_Options_page_container_u5orq_92",_1e="_Options_button_list_u5orq_98",x1e="_Options_page_button_u5orq_102",b1e="_Options_page_button_active_u5orq_114",un={Options_main:s1e,Options_top:l1e,Options_title:u1e,Option_title_text:c1e,Elements_in:f1e,Option_title_text_shadow:h1e,Option_title_text_ts:d1e,Options_main_content:p1e,Options_main_content_half:v1e,About_title_text:m1e,About_text:g1e,Options_page_container:y1e,Options_button_list:_1e,Options_page_button:x1e,Options_page_button_active:b1e},S1e="_NormalOption_ogzuv_1",w1e="_Elements_in_ogzuv_1",E1e="_NormalOption_title_ogzuv_10",T1e="_NormalOption_title_bef_ogzuv_19",A1e="_NormalOption_title_sd_ogzuv_29",C1e="_NormalOption_buttonList_ogzuv_39",Wy={NormalOption:S1e,Elements_in:w1e,NormalOption_title:E1e,NormalOption_title_bef:T1e,NormalOption_title_sd:A1e,NormalOption_buttonList:C1e},Kr=t=>C.jsxs("div",{className:Wy.NormalOption,style:{width:t.full?"100%":"auto"},children:[C.jsx("div",{className:Wy.NormalOption_title,children:t.title}),C.jsx("div",{className:Wy.NormalOption_buttonList,style:{width:t.full?"100%":"auto"},children:t.children})]}),P1e="_NormalButton_1qk3b_1",O1e="_NormalButtonChecked_1qk3b_18",Yy={NormalButton:P1e,NormalButtonChecked:O1e},Ia=t=>{const e=t.textList.length,r=[],{playSeEnter:n,playSeSwitch:i}=_n();for(let a=0;a<e;a++)if(a===t.currentChecked){const o=C.jsx("div",{className:Yy.NormalButton+" "+Yy.NormalButtonChecked,onClick:()=>{i(),t.functionList[a]()},onMouseEnter:n,children:t.textList[a]},t.textList[a]+a+t);r.push(o)}else{const o=C.jsx("div",{className:Yy.NormalButton,onClick:()=>{i(),t.functionList[a]()},onMouseEnter:n,children:t.textList[a]},t.textList[a]+a);r.push(o)}return C.jsx(C.Fragment,{children:r})};function R1e(t){return Is[t]}function oB(){const{i18n:t}=Qv(),e=du(n=>n.userData),r=Lr();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??Is.zhCn,o=R1e(a);t.changeLanguage(o),r(Ct({key:"language",value:a})),ge.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&st()}}const I1e="_backButton_qbk37_1",k1e="_about_qbk37_16",M1e="_icon_qbk37_20",F1e="_title_qbk37_24",N1e="_text_qbk37_34",L1e="_contributor_qbk37_43",Wn={backButton:I1e,about:k1e,icon:M1e,title:F1e,text:N1e,contributor:L1e};function D1e(t){const e=On("menu.options.pages.system.options.about.");return C.jsxs("div",{className:Wn.about,children:[C.jsx("div",{className:Wn.backButton,onClick:t.onClose,children:C.jsx(axe,{className:Wn.icon,theme:"outline",size:"35",strokeWidth:3,fill:"#333"})}),C.jsx("div",{className:Wn.title,children:e("subTitle")}),C.jsx("div",{className:Wn.title,children:e("version")}),C.jsx("div",{className:Wn.text,children:Q3.version}),C.jsx("div",{className:Wn.title,children:e("source")}),C.jsx("div",{className:Wn.text,children:C.jsx("a",{target:"_blank",href:"https://github.com/OpenWebGAL/WebGAL",children:"https://github.com/OpenWebGAL/WebGAL"})}),C.jsx("div",{className:Wn.title,children:e("contributors")}),C.jsx("div",{className:Wn.text,children:C.jsx("a",{target:"_blank",href:"https://github.com/OpenWebGAL/WebGAL/graphs/contributors",children:"https://github.com/OpenWebGAL/WebGAL/graphs/contributors"})}),C.jsx("div",{className:Wn.title,children:e("website")}),C.jsx("div",{className:Wn.text,children:C.jsx("a",{target:"_blank",href:"https://openwebgal.com/",children:"https://openwebgal.com/"})})]})}function B1e(){const t=Ne(h=>h.userData),e=Ne(h=>h.saveData),r=Lr(),n=oB(),i=On("menu.options.pages.system.options."),{playSeDialogOpen:a}=_n();function o(){const d=JSON.stringify({userData:t,saves:e});if(d!==null){const p=new Blob([d],{type:"application/json"}),v=URL.createObjectURL(p),g=document.createElement("a");g.href=v,g.download="saves.json",g.click(),g.remove()}}function s(h){const d=h.target.files[0],p=new FileReader;p.onload=v=>{const g=v.target.result;try{const m=JSON.parse(g);a(),as({title:i("gameSave.dialogs.import.title"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:async()=>{await Os.setItem(L.gameKey,m.userData).then(()=>{ge.info(i("gameSave.dialogs.import.tip"))}),Jc(),te.dispatch(Oa.replaceSaveGame(m.saves.saveData)),te.dispatch(Oa.setFastSave(m.saves.quickSaveData)),_d(),yd(0,200)},rightFunc:()=>{}})}catch(m){ge.error(i("gameSave.dialogs.import.error"),m)}},p.readAsText(d,"UTF-8")}function u(){const h=document.createElement("input");h.type="file",h.onchange=s,h.click()}const[l,c]=ne.useState(!1);function f(){c(!l)}return C.jsxs("div",{className:un.Options_main_content_half,children:[l&&C.jsx(D1e,{onClose:f}),!l&&C.jsxs(C.Fragment,{children:[C.jsx(Kr,{title:i("autoSpeed.title"),children:C.jsx(Ia,{textList:i("autoSpeed.options.slow","autoSpeed.options.medium","autoSpeed.options.fast"),functionList:[()=>{r(Ct({key:"autoSpeed",value:hn.slow})),st()},()=>{r(Ct({key:"autoSpeed",value:hn.normal})),st()},()=>{r(Ct({key:"autoSpeed",value:hn.fast})),st()}],currentChecked:t.optionData.autoSpeed})},"option1"),C.jsx(Kr,{title:i("language.title"),children:C.jsx(Ia,{currentChecked:t.optionData.language,textList:Object.values(ip),functionList:Object.keys(ip).map(h=>()=>n(Is[h]))})},"option7"),C.jsx(Kr,{title:i("resetData.title"),children:C.jsx(Ia,{textList:i("resetData.options.clearGameSave","resetData.options.resetSettings","resetData.options.clearAll"),functionList:[()=>{a(),as({title:i("resetData.dialogs.clearGameSave"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{r(Oa.resetSaves()),yd(0,200),_d()},rightFunc:()=>{}})},()=>{a(),as({title:i("resetData.dialogs.resetSettings"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{r(uW()),hp()},rightFunc:()=>{}})},()=>{a(),as({title:i("resetData.dialogs.clearAll"),leftText:i("$common.yes"),rightText:i("$common.no"),leftFunc:()=>{r(cW()),hp(),r(Oa.resetSaves()),yd(0,200),_d()},rightFunc:()=>{}})}],currentChecked:3})},"option2"),C.jsx(Kr,{title:i("gameSave.title"),children:C.jsx(Ia,{textList:i("gameSave.options.export","gameSave.options.import"),functionList:[o,u],currentChecked:2})},"option3"),C.jsx("div",{className:un.About_title_text,onClick:f,children:C.jsx("span",{className:un.About_text,children:i("about.title")})})]})]})}const j1e="_textPreviewMain_nolr3_1",U1e="_textbox_nolr3_8",AO={textPreviewMain:j1e,textbox:U1e},$1e=t=>{const e=On("menu.options.pages.display.options."),r=Ne(x=>x.userData),i=Ne(x=>x.stage).bgName,a=gS(r.optionData.textSpeed),o=MF(r.optionData.textSpeed),s=r.optionData.textboxOpacity,u=c_(r.optionData.textSize)+"%",l=FF(),c=navigator.userAgent,f=/firefox/i.test(c),h=/^((?!chrome|android).)*safari/i.test(c),d=e("textPreview.text"),p=gs(d,3),v=e("textPreview.title"),g=gs(v,3),m=v!=="",y=NF,_={textArray:p,isText:!0,textDelay:a,isHasName:m,showName:g,currentConcatDialogPrev:"",fontSize:u,currentDialogKey:"",isSafari:h,isFirefox:f,miniAvatar:"",textDuration:o,font:l,textSizeState:u,lineLimit:3,isUseStroke:!0,textboxOpacity:s};return C.jsx("div",{className:AO.textPreviewMain,style:{background:i?`bottom / cover no-repeat url(${i})`:"rgba(0, 0, 0, 0.1)"},children:C.jsx("div",{className:AO.textbox,children:C.jsx(y,{..._})},`previewTextbox-${a}`)})};const el=t=>{const{playSeEnter:e}=_n();return ne.useEffect(()=>{setTimeout(()=>{const r=document.getElementById(t.uniqueID);r!==null&&r.setAttribute("value",t.initValue.toString())},1)},[]),C.jsx("div",{className:"Option_WebGAL_slider",children:C.jsx("input",{id:t.uniqueID,type:"range",onChange:t.onChange,onFocus:e,onMouseEnter:e})})};function V1e(){const t=Ne(n=>n.userData),e=Lr(),r=On("menu.options.pages.display.options.");return C.jsxs("div",{className:un.Options_main_content_half,children:[C.jsx(Kr,{title:r("fullScreen.title"),children:C.jsx(Ia,{textList:r("fullScreen.options.on","fullScreen.options.off"),functionList:[()=>{e(Ct({key:"fullScreen",value:Qi.on})),st()},()=>{e(Ct({key:"fullScreen",value:Qi.off})),st()}],currentChecked:t.optionData.fullScreen})},"fullScreen"),C.jsx(Kr,{title:r("textSpeed.title"),children:C.jsx(Ia,{textList:r("textSpeed.options.slow","textSpeed.options.medium","textSpeed.options.fast"),functionList:[()=>{e(Ct({key:"textSpeed",value:hn.slow})),st()},()=>{e(Ct({key:"textSpeed",value:hn.normal})),st()},()=>{e(Ct({key:"textSpeed",value:hn.fast})),st()}],currentChecked:t.optionData.textSpeed})},"textSpeed"),C.jsx(Kr,{title:r("textSize.title"),children:C.jsx(Ia,{textList:r("textSize.options.small","textSize.options.medium","textSize.options.large"),functionList:[()=>{e(Ct({key:"textSize",value:ti.small})),st()},()=>{e(Ct({key:"textSize",value:ti.medium})),st()},()=>{e(Ct({key:"textSize",value:ti.large})),st()}],currentChecked:t.optionData.textSize})},"textSize"),C.jsx(Kr,{title:r("textFont.title"),children:C.jsx(Ia,{textList:r("textFont.options.siYuanSimSun","textFont.options.SimHei","textFont.options.lxgw"),functionList:[()=>{e(Ct({key:"textboxFont",value:Zi.song})),st()},()=>{e(Ct({key:"textboxFont",value:Zi.hei})),st()},()=>{e(Ct({key:"textboxFont",value:Zi.lxgw})),st()}],currentChecked:t.optionData.textboxFont})},"textFont"),C.jsx(Kr,{title:r("textboxOpacity.title"),children:C.jsx(el,{initValue:t.optionData.textboxOpacity,uniqueID:r("textboxOpacity.title"),onChange:n=>{const i=n.target.value;e(Ct({key:"textboxOpacity",value:Number(i)})),st()}})},"textboxOpacity"),C.jsx(Kr,{full:!0,title:r("textPreview.title"),children:C.jsx($1e,{})},"textPreview")]})}function G1e(){const t=Ne(n=>n.userData),e=Lr(),r=On("menu.options.pages.sound.options.");return C.jsxs("div",{className:un.Options_main_content_half,children:[C.jsx(Kr,{title:r("volumeMain.title"),children:C.jsx(el,{initValue:t.optionData.volumeMain,uniqueID:r("volumeMain.title"),onChange:n=>{const i=n.target.value;e(Ct({key:"volumeMain",value:Number(i)})),st()}})},"option4"),C.jsx(Kr,{title:r("vocalVolume.title"),children:C.jsx(el,{initValue:t.optionData.vocalVolume,uniqueID:r("vocalVolume.title"),onChange:n=>{const i=n.target.value;e(Ct({key:"vocalVolume",value:Number(i)})),st()}})},"option5"),C.jsx(Kr,{title:r("bgmVolume.title"),children:C.jsx(el,{initValue:t.optionData.bgmVolume,uniqueID:r("bgmVolume.title"),onChange:n=>{const i=n.target.value;e(Ct({key:"bgmVolume",value:Number(i)})),st()}})},"option6"),C.jsx(Kr,{title:r("seVolume.title"),children:C.jsx(el,{initValue:t.optionData.seVolume,uniqueID:r("seVolume.title"),onChange:n=>{const i=n.target.value;e(Ct({key:"seVolume",value:Number(i)})),st()}})},"option7"),C.jsx(Kr,{title:r("uiSeVolume.title"),children:C.jsx(el,{initValue:t.optionData.uiSeVolume,uniqueID:r("uiSeVolume.title"),onChange:n=>{const i=n.target.value;e(Ct({key:"uiSeVolume",value:Number(i)})),st()}})},"option8"),C.jsx(Kr,{title:r("voiceOption.title"),children:C.jsx(Ia,{textList:r("voiceStop.title","voiceContinue.title"),functionList:[()=>{e(Ct({key:"voiceInterruption",value:zc.yes})),st()},()=>{e(Ct({key:"voiceInterruption",value:zc.no})),st()}],currentChecked:t.optionData.voiceInterruption})},"option9")]})}const X1e=()=>{const{playSeEnter:t,playSeSwitch:e}=_n(),r=wi(0);ne.useEffect(Jc,[]);function n(a){return a===r.value?un.Options_page_button+" "+un.Options_page_button_active:un.Options_page_button}const i=On("menu.options.");return C.jsxs("div",{className:un.Options_main,children:[C.jsx("div",{className:un.Options_top,children:C.jsx("div",{className:un.Options_title,children:C.jsx("div",{className:un.Option_title_text,children:i("title")})})}),C.jsxs("div",{className:un.Options_page_container,children:[C.jsxs("div",{className:un.Options_button_list,children:[C.jsx("div",{onClick:()=>{r.set(0),e()},className:n(0),onMouseEnter:t,children:i("pages.system.title")}),C.jsx("div",{onClick:()=>{r.set(1),e()},className:n(1),onMouseEnter:t,children:i("pages.display.title")}),C.jsx("div",{onClick:()=>{r.set(2),e()},className:n(2),onMouseEnter:t,children:i("pages.sound.title")})]}),C.jsxs("div",{className:un.Options_main_content,children:[r.value===1&&C.jsx(V1e,{}),r.value===0&&C.jsx(B1e,{}),r.value===2&&C.jsx(G1e,{})]})]})]})},z1e=()=>{const t=Ne(r=>r.GUI);let e;switch(t.currentMenuTag){case vt.Save:e=C.jsx(a1e,{});break;case vt.Load:e=C.jsx(o1e,{});break;case vt.Option:e=C.jsx(X1e,{});break}return C.jsx(C.Fragment,{children:t.showMenuPanel&&C.jsxs("div",{className:SO.Menu_main,children:[C.jsx("div",{className:SO.Menu_TagContent,children:e}),C.jsx(Pxe,{})]})})},W1e="_MainStage_main_9enex_1",Y1e="_MainStage_main_container_9enex_10",H1e="_MainStage_bgContainer_9enex_17",q1e="_MainStage_showBgSoftly_9enex_1",K1e="_MainStage_bgContainer_Settled_9enex_27",Z1e="_MainStage_oldBgContainer_9enex_37",Q1e="_MainStage_oldBgFadeout_9enex_1",J1e="_MainStage_oldBgContainer_Settled_9enex_47",ebe="_pixiContainer_9enex_72",tbe="_chooseContainer_9enex_77",Hy={MainStage_main:W1e,MainStage_main_container:Y1e,MainStage_bgContainer:H1e,MainStage_showBgSoftly:q1e,MainStage_bgContainer_Settled:K1e,MainStage_oldBgContainer:Z1e,MainStage_oldBgFadeout:Q1e,MainStage_oldBgContainer_Settled:J1e,pixiContainer:ebe,chooseContainer:tbe},rbe=()=>{var v;const t=Ne(g=>g.stage),e=Ne(g=>g.GUI.titleBgm),r=Ne(g=>g.GUI.showTitle),n=Ne(g=>g.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,u=t.uiSe,l=i*.01*(((v=n.optionData)==null?void 0:v.seVolume)??100)*.01,c=i*.01*(n.optionData.uiSeVolume??50)*.01,f=Ne(g=>g.GUI.isEnterGame),[h,d]=ne.useState(setTimeout(()=>{},0)),p=(g,m,y)=>{y>=0?g.volume=0:g.volume=m;const _=10,x=m/y*_,b=()=>{const S=setTimeout(()=>{g.volume+x>=m?g.volume=m:g.volume+x<=0?(g.volume=0,te.dispatch(Ge({key:"bgm",value:{src:"",enter:0,volume:100}}))):(g.volume+=x,b())},_);d(S)};b()};return ne.useEffect(()=>{clearTimeout(h);const g=document.getElementById("currentBgm");g&&(s===0?g.volume=o:p(g,o,s))},[r,e,t.bgm.src,o,s]),ne.useEffect(()=>{ge.debug(`${o}`)},[o]),ne.useEffect(()=>{ge.debug(`: ${s}`)},[s]),ne.useEffect(()=>{ge.debug(`${a}`);const g=document.getElementById("currentVocal");g&&(g.volume=a.toString())},[a]),ne.useEffect(()=>{if(u==="")return;const g=document.createElement("audio");g.src=u,g.loop=!1,isNaN(c)?(ge.error("UI SE Vol is NaN"),g.volume=isNaN(l)?i/100:l/100):g.volume=c,g.play(),g.addEventListener("ended",()=>{g.remove()}),te.dispatch(Ge({key:"uiSe",value:""}))},[u]),ne.useEffect(()=>{ge.debug(`: ${l}`)},[l]),ne.useEffect(()=>{ge.debug(`: ${c}`)},[c]),C.jsxs("div",{children:[C.jsx("audio",{id:"currentBgm",src:r?e:t.bgm.src,loop:!0,autoPlay:f},r.toString()+e),C.jsx("audio",{id:"currentVocal",src:t.playVocal})]})},nbe=()=>{const t=Ne(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),C.jsx("div",{className:Bi.FullScreenPerform_main,style:{width:e,height:r,top:n},children:C.jsx("div",{id:"videoContainer"})})},ibe="_TextBox_EventHandler_449dq_2",abe="_TextBox_main_449dq_10",obe="_showSoftly_449dq_1",sbe="_TextBox_textElement_449dq_38",lbe="_TextBox_textElement_start_449dq_43",ube="_TextDelayShow_449dq_1",cbe="_TextBox_textElement_Settled_449dq_48",fbe="_TextBox_showName_449dq_52",hbe="_miniAvatarContainer_449dq_68",dbe="_miniAvatarImg_449dq_76",qy={TextBox_EventHandler:ibe,TextBox_main:abe,showSoftly:obe,TextBox_textElement:sbe,TextBox_textElement_start:lbe,TextDelayShow:ube,TextBox_textElement_Settled:cbe,TextBox_showName:fbe,miniAvatarContainer:hbe,miniAvatarImg:dbe},pbe=()=>{const t=Ne(o=>o.stage),e=Ne(o=>o.userData);ne.useEffect(()=>{});const r=hW.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let u=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(u=u-l*r),s<l?C.jsx("span",{id:`${u}`,className:qy.TextBox_textElement_Settled,style:{animationDelay:`${u}ms`},children:o},t.currentDialogKey+s):C.jsx("span",{id:`${u}`,className:qy.TextBox_textElement_start,style:{animationDelay:`${u}ms`},children:o},t.currentDialogKey+s)});return C.jsx("div",{id:"textBoxMain",className:qy.TextBox_main,children:C.jsx("div",{style:{fontSize:n},children:a})})};function vbe(t){const e=t.bgName;ne.useEffect(()=>{var n,i;const r="bg-main";if(e!==""){const a=(n=L.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);a&&a.sourceUrl!==e&&CO(a),mbe(void 0,r,e),Wf(e),ge.debug("");const{duration:o,animation:s}=Ka("bg-main","enter",!0);L.gameplay.pixiStage.registerPresetAnimation(s,"bg-main-softin",r,t.effects),setTimeout(()=>L.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),o)}else{const a=(i=L.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(r);a&&CO(a)}},[e])}function CO(t){var o,s;(o=L.gameplay.pixiStage)==null||o.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off"+String(new Date().getTime());const r=t.key,n=t.key+"-softoff";(s=L.gameplay.pixiStage)==null||s.removeStageObjectByKey(e);const{duration:i,animation:a}=Ka("bg-main-off","exit",!0,r);L.gameplay.pixiStage.registerAnimation(a,n,r),setTimeout(()=>{var u,l;(u=L.gameplay.pixiStage)==null||u.removeAnimation(n),(l=L.gameplay.pixiStage)==null||l.removeStageObjectByKey(r)},i)}function mbe(t,...e){var n,i;return e[1].endsWith(".skel")?(n=L.gameplay.pixiStage)==null?void 0:n.addSpineBg(...e):(i=L.gameplay.pixiStage)==null?void 0:i.addBg(...e)}function gbe(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;ne.useEffect(()=>{var s;for(const u of a)(s=L.gameplay.pixiStage)==null||s.changeModelMotionByKey(u.target,u.motion)},[a]),ne.useEffect(()=>{var s;for(const u of o)(s=L.gameplay.pixiStage)==null||s.changeModelExpressionByKey(u.target,u.expression)},[o]),ne.useEffect(()=>{var l,c;const s="fig-center",u="fig-center-softin";if(r!==""){const f=(l=L.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&ba(f,u,t.effects),Ku(void 0,s,r,"center"),ge.debug("");const{duration:h,animation:d}=Ka(s,"enter");L.gameplay.pixiStage.registerPresetAnimation(d,u,s,t.effects),setTimeout(()=>L.gameplay.pixiStage.removeAnimationWithSetEffects(u),h)}else{ge.debug("");const f=(c=L.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(s);f&&f.sourceUrl!==r&&ba(f,u,t.effects)}},[r]),ne.useEffect(()=>{var l,c;const s="fig-left",u="fig-left-softin";if(e!==""){const f=(l=L.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&ba(f,u,t.effects),Ku(void 0,s,e,"left"),ge.debug("");const{duration:h,animation:d}=Ka(s,"enter");L.gameplay.pixiStage.registerPresetAnimation(d,u,s,t.effects),setTimeout(()=>L.gameplay.pixiStage.removeAnimationWithSetEffects(u),h)}else{ge.debug("");const f=(c=L.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(s);f&&f.sourceUrl!==e&&ba(f,u,t.effects)}},[e]),ne.useEffect(()=>{var l,c;const s="fig-right",u="fig-right-softin";if(n!==""){const f=(l=L.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&ba(f,u,t.effects),Ku(void 0,s,n,"right"),ge.debug("");const{duration:h,animation:d}=Ka(s,"enter");L.gameplay.pixiStage.registerPresetAnimation(d,u,s,t.effects),setTimeout(()=>L.gameplay.pixiStage.removeAnimationWithSetEffects(u),h)}else{const f=(c=L.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(s);f&&f.sourceUrl!==n&&ba(f,u,t.effects)}},[n]),ne.useEffect(()=>{var u,l,c;for(const f of i){const h=`${f.key}`,d=`${f.key}-softin`;if(f.name!==""){const p=(u=L.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(h);if(p){if(p.sourceUrl!==f.name){ba(p,d,t.effects),Ku(void 0,h,f.name,f.basePosition),ge.debug(`${f.key}`);const{duration:v,animation:g}=Ka(h,"enter");L.gameplay.pixiStage.registerPresetAnimation(g,d,h,t.effects),setTimeout(()=>L.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)}}else{Ku(void 0,h,f.name,f.basePosition),ge.debug(`${f.key}`);const{duration:v,animation:g}=Ka(h,"enter");L.gameplay.pixiStage.registerPresetAnimation(g,d,h,t.effects),setTimeout(()=>L.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)}}else{const p=(l=L.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);p&&p.sourceUrl!==f.name&&ba(p,d,t.effects)}}const s=(c=L.gameplay.pixiStage)==null?void 0:c.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(p=>p.key===h)<0){const p=`${f.key}-softin`;ba(f,p,t.effects)}}}},[i])}function ba(t,e,r){var l,c,f;if((l=L.gameplay.pixiStage)==null||l.removeAnimationWithSetEffects(e),L.gameplay.isFast){ge.debug(""),(c=L.gameplay.pixiStage)==null||c.removeStageObjectByKey(t.key);return}const n=t.key,i=n+"-off";t.key=n+String(new Date().getTime())+"-off";const a=t.key;(f=L.gameplay.pixiStage)==null||f.removeStageObjectByKey(n);const o=a+"-softoff",{duration:s,animation:u}=Ka(i,"exit",!1,a);L.gameplay.pixiStage.registerPresetAnimation(u,o,a,r),setTimeout(()=>{var h,d;(h=L.gameplay.pixiStage)==null||h.removeAnimation(o),(d=L.gameplay.pixiStage)==null||d.removeStageObjectByKey(a)},s)}function Ku(t,...e){var n,i;const r=e[1];return r.endsWith(".json")?ybe(...e):r.endsWith(".skel")?(n=L.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e):(i=L.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function ybe(...t){}function _be(t){const e=t.effects;setTimeout(()=>{xbe(e)},10)}function xbe(t){var r,n,i,a;const e=((r=L.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,u=t.find(c=>c.target===s);if(!(((n=L.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(u){const c=(i=L.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(c){const f=c.pixiContainer;Object.assign(f,PO(u.transform))}}else{const c=(a=L.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(c){const f=c.pixiContainer;Object.assign(f,PO(Kb))}}}}function PO(t){if(!t)return{};const{position:e,alpha:r,...n}=t;return{...n,x:e.x,y:e.y,alphaFilterVal:r}}function bbe(){const t=Ne(e=>e.stage);return vbe(t),gbe(t),_be(t),C.jsx("div",{style:{display:"none"}})}const Sbe="_introContainer_119k8_1",wbe={introContainer:Sbe};function Ebe(){return C.jsx("div",{className:wbe.introContainer,id:"introContainer"})}function OO(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function Tbe(t,e,r){!e.controlsVisibility&&OO(t)&&r(rt({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!OO(t)&&r(rt({component:"controlsVisibility",visibility:!1}))}function Abe(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let Ky=null;function Cbe(t,e,r,n){Abe(e,r)?(Ky&&clearTimeout(Ky),n(rt({component:"controlsVisibility",visibility:!0})),Ky=setTimeout(()=>{n(rt({component:"controlsVisibility",visibility:!1}))},1e3)):Tbe(t,r,n)}const Pbe=()=>{const t=Ne(n=>n.stage),e=Ne(n=>n.GUI),r=Lr();return $se(),C.jsxs("div",{className:Hy.MainStage_main,children:[C.jsx(nbe,{}),C.jsx(bbe,{}),C.jsx("div",{id:"pixiContianer",className:Hy.pixiContainer,style:{zIndex:ME?"-5":void 0}}),C.jsx("div",{id:"chooseContainer",className:Hy.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&C.jsx(sae,{}),e.showTextBox&&t.enableFilm!==""&&C.jsx(pbe,{}),C.jsx(rbe,{}),C.jsx("div",{onClick:()=>{if(!e.showTextBox){r(rt({component:"showTextBox",visibility:!0}));return}MS(),tn()},onDoubleClick:()=>{L.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&Cbe(n,t,e,r)}),C.jsx(Ebe,{})]})},Obe=()=>{const t=On("gaming."),e=2.5,{i18n:r}=Qv(),{playSeEnter:n,playSeClick:i,playSeDialogOpen:a}=_n(),s=r.language==="fr";let u=42,l="150%";s&&(l="125%",u=40);const c=Ne(m=>m.GUI),f=Ne(m=>m.stage),h=Lr(),d=(m,y)=>{h(rt({component:m,visibility:y}))},p=m=>{h(ss(m))},v=Ne(m=>m.saveData.saveData);let g=C.jsx("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx("div",{style:{fontSize:"125%"},children:t("noSaving")})});if(v[0]){const m=v[0];g=C.jsxs("div",{className:Ie.slPreviewMain,children:[C.jsx("div",{className:Ie.imgContainer,children:C.jsx("img",{style:{height:"100%"},alt:"q-save-preview image",src:m.previewImage})}),C.jsxs("div",{className:Ie.textContainer,children:[C.jsx("div",{children:m.nowStageState.showName}),C.jsx("div",{style:{fontSize:"75%",color:"rgb(55,60,56)"},children:m.nowStageState.showText})]})]})}return C.jsx(C.Fragment,{children:c.showTextBox&&f.enableFilm===""&&C.jsxs("div",{className:Ie.main,style:{visibility:c.controlsVisibility?"visible":"hidden"},children:[c.showTextBox&&C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{d("showTextBox",!1),i()},onMouseEnter:n,children:[C.jsx(uxe,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.hide")})]}),!c.showTextBox&&C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{d("showTextBox",!0),i()},onMouseEnter:n,children:[C.jsx(cxe,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.show")})]}),C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{d("showBacklog",!0),d("showTextBox",!1),i()},onMouseEnter:n,children:[C.jsx(Q_e,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.backlog")})]}),C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{let m=document.getElementById("currentVocal");m!==null&&(m.currentTime=0,m.pause(),m==null||m.play()),i()},onMouseEnter:n,children:[C.jsx(fxe,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.replay")})]}),C.jsxs("span",{id:"Button_ControlPanel_auto",className:Ie.singleButton,style:{fontSize:l},onClick:()=>{EN(),i()},onMouseEnter:n,children:[C.jsx(nB,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.auto")})]}),C.jsxs("span",{id:"Button_ControlPanel_fast",className:Ie.singleButton,style:{fontSize:l},onClick:()=>{PN(),i()},onMouseEnter:n,children:[C.jsx(exe,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.forward")})]}),C.jsxs("span",{className:Ie.singleButton+" "+Ie.fastsave,style:{fontSize:l},onClick:()=>{p_(0),i()},onMouseEnter:n,children:[C.jsx(J_e,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.quicklySave")}),C.jsx("div",{className:Ie.fastSlPreview+" "+Ie.fastSPreview,children:g})]}),C.jsxs("span",{className:Ie.singleButton+" "+Ie.fastload,style:{fontSize:l},onClick:()=>{fN(0),i()},onMouseEnter:n,children:[C.jsx(txe,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.quicklyLoad")}),C.jsx("div",{className:Ie.fastSlPreview+" "+Ie.fastLPreview,children:g})]}),C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{p(vt.Save),d("showMenuPanel",!0),i()},onMouseEnter:n,children:[C.jsx(iB,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.save")})]}),C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{p(vt.Load),d("showMenuPanel",!0),i()},onMouseEnter:n,children:[C.jsx(tB,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.load")})]}),C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{p(vt.Option),d("showMenuPanel",!0),i()},onMouseEnter:n,children:[C.jsx(aB,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.options")})]}),C.jsxs("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{a(),as({title:t("buttons.titleTips"),leftText:t("$common.yes"),rightText:t("$common.no"),leftFunc:()=>{FE()},rightFunc:()=>{}})},onMouseEnter:n,children:[C.jsx(rB,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}),C.jsx("span",{className:Ie.button_text,children:t("buttons.title")})]}),C.jsx("span",{className:Ie.singleButton,style:{fontSize:l},onClick:()=>{Cxe(),i()},onMouseEnter:n,children:c.showControls?C.jsx(oxe,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e}):C.jsx(pxe,{className:Ie.button,theme:"outline",size:u,fill:"#f5f5f7",strokeWidth:e})})]})})},Rbe=()=>{var h,d;const t=On("gaming."),{playSeEnter:e,playSeClick:r}=_n(),n=Ne(p=>p.GUI),i=Lr(),a="0.8em",[o,s]=ne.useState(!1),[u,l]=ne.useState(!1);let c=ne.useRef();const f=ne.useMemo(()=>{let p=[];for(let v=0;v<L.backlogManager.getBacklog().length;v++){const g=L.backlogManager.getBacklog()[v],y=gs(g.currentStageState.showText,3,!0).map(A=>A.map(O=>O.reactNode)),x=RO(y).map((A,O)=>C.jsx("div",{children:A.map((P,k)=>P==="<br />"?C.jsx("br",{},`br${k}`):P)},`backlog-line-${O}`)),S=gs(g.currentStageState.showName,3,!0).map(A=>A.map(O=>O.reactNode)),E=RO(S).map((A,O)=>C.jsx("div",{children:A.map((P,k)=>P==="<br />"?C.jsx("br",{},`br${k}`):P)},`backlog-line-${O}`)),T=C.jsxs("div",{className:Ur.backlog_item,style:{animationDelay:`${20*(L.backlogManager.getBacklog().length-v)}ms`},children:[C.jsxs("div",{className:Ur.backlog_func_area,children:[C.jsxs("div",{className:Ur.backlog_item_button_list,children:[C.jsx("div",{onClick:A=>{r(),cN(v),A.preventDefault(),A.stopPropagation()},onMouseEnter:e,className:Ur.backlog_item_button_element,children:C.jsx(hxe,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}),g.currentStageState.vocal?C.jsx("div",{onClick:()=>{r();const A=document.getElementById("backlog_audio_play_element_"+v);if(A){A.currentTime=0;const O=te.getState().userData,P=O.optionData.volumeMain;A.volume=P*.01*O.optionData.vocalVolume*.01,A==null||A.play()}},onMouseEnter:e,className:Ur.backlog_item_button_element,children:C.jsx(vxe,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}):null]}),C.jsx("div",{className:Ur.backlog_item_content_name,children:E})]}),C.jsx("div",{className:Ur.backlog_item_content,children:C.jsx("span",{className:Ur.backlog_item_content_text,children:x})}),C.jsx("audio",{id:"backlog_audio_play_element_"+v,src:g.currentStageState.vocal})]},"backlogItem"+g.currentStageState.showText+g.saveScene.currentSentenceId);p.unshift(T)}return p},[((d=(h=L.backlogManager.getBacklog()[L.backlogManager.getBacklog().length-1])==null?void 0:h.saveScene)==null?void 0:d.currentSentenceId)??0]);return ne.useEffect(()=>{n.showBacklog?(c.current&&clearTimeout(c.current),s(!1),l(!0),setTimeout(()=>{l(!1)},0)):c.current=setTimeout(()=>{s(!0),c.current=void 0},700+80)},[n.showBacklog]),C.jsx(C.Fragment,{children:C.jsxs("div",{className:`
          ${n.showBacklog?Ur.Backlog_main:Ur.Backlog_main_out}
          ${o?Ur.Backlog_main_out_IndexHide:""}
          `,children:[C.jsxs("div",{className:Ur.backlog_top,children:[C.jsx(eB,{className:Ur.backlog_top_icon,onClick:()=>{r(),i(rt({component:"showBacklog",visibility:!1})),i(rt({component:"showTextBox",visibility:!0}))},onMouseEnter:e,theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),C.jsx("div",{className:Ur.backlog_title,onClick:()=>{ge.info("Rua! Testing")},children:t("buttons.backlog")})]}),n.showBacklog&&C.jsx("div",{className:`${Ur.backlog_content} ${u?Ur.Backlog_main_DisableScroll:""}`,children:f})]})})};function RO(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const Ibe="_extra_1tymt_2",kbe="_extra_top_1tymt_14",Mbe="_extra_top_icon_1tymt_20",Fbe="_extra_icon_softin_1tymt_1",Nbe="_extra_title_1tymt_40",Lbe="_mainContainer_1tymt_51",Dbe="_bgmContainer_1tymt_59",Bbe="_bgmListContainer_1tymt_76",jbe="_bgmPlayerMain_1tymt_91",Ube="_bgmControlButton_1tymt_95",$be="_bgmName_1tymt_110",Vbe="_bgmElement_1tymt_118",Gbe="_bgmElement_active_1tymt_148",Xbe="_cgMain_1tymt_153",zbe="_cgContainer_1tymt_158",Wbe="_cgElement_1tymt_170",Ybe="_cgShowDiv_1tymt_185",Hbe="_cgShowDivWarpper_1tymt_194",qbe="_cgNav_1tymt_203",Kbe="_cgNav_active_1tymt_222",Zbe="_showFullContainer_1tymt_232",Qbe="_showFullCgMain_1tymt_245",Jbe="_fullCgIn_1tymt_1",eSe="_bgmElement_In_1tymt_1",Pt={extra:Ibe,extra_top:kbe,extra_top_icon:Mbe,extra_icon_softin:Fbe,extra_title:Nbe,mainContainer:Lbe,bgmContainer:Dbe,bgmListContainer:Bbe,bgmPlayerMain:jbe,bgmControlButton:Ube,bgmName:$be,bgmElement:Vbe,bgmElement_active:Gbe,cgMain:Xbe,cgContainer:zbe,cgElement:Wbe,cgShowDiv:Ybe,cgShowDivWarpper:Hbe,cgNav:qbe,cgNav_active:Kbe,showFullContainer:Zbe,showFullCgMain:Qbe,fullCgIn:Jbe,bgmElement_In:eSe};function tSe(){const{playSeClick:t,playSeEnter:e}=_n(),r=Ne(v=>v.GUI.titleBgm),n=Ne(v=>v.userData.appreciationData),i="Title_BGM",a=wi(!1);let o=i,s=-1;const u=39,l=a.value?"80%":"10%",c=n.bgm.length;n.bgm.forEach((v,g)=>{v.url===r&&(o=v.name,s=g)});const f=wi("");o!==i&&o!==f.value&&f.set(o);const h=Lr();function d(v){const g=n.bgm[v];f.set(g.name),h(dp({asset:"titleBgm",value:g.url}))}const p=n.bgm.map((v,g)=>{let m=Pt.bgmElement;return v.name===f.value&&(m=m+" "+Pt.bgmElement_active),C.jsx("div",{onClick:()=>{t(),f.set(v.name),h(dp({asset:"titleBgm",value:v.url}))},className:m,style:{animationDelay:`${g*150}ms`},onMouseEnter:e,children:v.name},v.name)});return C.jsxs("div",{className:Pt.bgmContainer,style:{maxHeight:l},children:[C.jsxs("div",{className:Pt.bgmPlayerMain,children:[C.jsx("div",{onClick:()=>{t(),s<=0?d(c-1):d(s-1)},onMouseEnter:e,className:Pt.bgmControlButton,children:C.jsx(nxe,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),C.jsx("div",{onClick:()=>{t();const v=document.getElementById("currentBgm");v==null||v.play().then()},onMouseEnter:e,className:Pt.bgmControlButton,children:C.jsx(nB,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),C.jsx("div",{onClick:()=>{t(),s>=c-1?d(0):d(s+1)},onMouseEnter:e,className:Pt.bgmControlButton,children:C.jsx(rxe,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),C.jsx("div",{onClick:()=>{t(),document.getElementById("currentBgm").pause()},onMouseEnter:e,className:Pt.bgmControlButton,children:C.jsx(dxe,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),C.jsx("div",{className:Pt.bgmName,children:o}),C.jsx("div",{onClick:()=>{t(),a.set(!a.value)},onMouseEnter:e,className:Pt.bgmControlButton,style:{marginLeft:"auto"},children:C.jsx(lxe,{theme:"filled",size:u,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})})]}),a.value&&C.jsxs("div",{className:Pt.bgmListContainer,children:[" ",p]})]})}function rSe(t){const e=wi(!1),{playSeEnter:r,playSeClick:n}=_n();return C.jsxs(C.Fragment,{children:[e.value&&C.jsx("div",{onClick:()=>{e.set(!e.value),n()},className:Pt.showFullContainer,onMouseEnter:r,children:C.jsx("div",{className:Pt.showFullCgMain,children:C.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),C.jsx("div",{onClick:()=>{e.set(!e.value),n()},onMouseEnter:r,style:{animation:`cg_softIn_${t.transformDeg} 1.5s ease-out ${100+t.index*100}ms forwards `},className:Pt.cgElement,children:C.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})},t.name)]})}function nSe(){const e=Ne(l=>l.userData.appreciationData),r=Math.ceil(e.cg.length/8),n=wi(1),{playSeEnter:i,playSeClick:a}=_n(),o=[],s=e.cg.length;for(let l=(n.value-1)*8;l<Math.min(s,(n.value-1)*8+8);l++){const c=l-(n.value-1)*8,f=iSe(-5,5),h=C.jsx(rSe,{name:e.cg[l].name,imgUrl:e.cg[l].url,transformDeg:f,index:c},c.toString()+e.cg[l].url);o.push(h)}const u=[];for(let l=1;l<=r;l++){let c=Pt.cgNav;n.value===l&&(c=c+" "+Pt.cgNav_active);const f=C.jsx("div",{onClick:()=>{n.set(l),a()},onMouseEnter:i,className:c,children:l},"nav"+l);u.push(f)}return C.jsxs("div",{className:Pt.cgMain,children:[C.jsx("div",{className:Pt.cgShowDiv,children:C.jsx("div",{className:Pt.cgShowDivWarpper,children:u})}),C.jsx("div",{className:Pt.cgContainer,children:o})]})}function iSe(t,e){return Math.round(Math.random()*(e-t))+t}function aSe(){const{playSeClick:t}=_n(),e=Ne(i=>i.GUI.showExtra),r=Lr(),n=On("extra.");return C.jsx(C.Fragment,{children:e&&C.jsxs("div",{className:Pt.extra,children:[C.jsxs("div",{className:Pt.extra_top,children:[C.jsx(eB,{className:Pt.extra_top_icon,onClick:()=>{r(rt({component:"showExtra",visibility:!1})),t()},onMouseEnter:t,theme:"outline",size:"4em",fill:"#fff",strokeWidth:3}),C.jsx("div",{className:Pt.extra_title,children:n("title")})]}),C.jsxs("div",{className:Pt.mainContainer,children:[C.jsx(nSe,{}),C.jsx(tSe,{})]})]})})}const oSe="_tag_yghix_2",sSe="_container_yghix_17",lSe="_showContainer_yghix_1",uSe="_singleButton_yghix_33",cSe="_button_text_yghix_37",wr={tag:oSe,container:sSe,showContainer:lSe,singleButton:uSe,button_text:cSe},fSe=()=>{const t=wi(!1),e=Ne(a=>a.stage),r=Lr(),n=(a,o)=>{r(rt({component:a,visibility:o}))},i=a=>{r(ss(a))};return C.jsx(C.Fragment,{children:e.enableFilm!==""&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:wr.tag,onClick:()=>{t.set(!t.value)},children:C.jsx(ixe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&C.jsxs("div",{className:wr.container,children:[C.jsx("span",{className:wr.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:C.jsx("span",{className:wr.button_text,children:" / BACKLOG"})}),C.jsx("span",{className:wr.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:C.jsx("span",{className:wr.button_text,children:" / REPLAY VOICE"})}),C.jsx("span",{id:"Button_ControlPanel_auto",className:wr.singleButton,onClick:()=>{EN(),t.set(!t.value)},children:C.jsx("span",{className:wr.button_text,children:" / AUTO"})}),C.jsx("span",{id:"Button_ControlPanel_fast",className:wr.singleButton,onClick:()=>{PN(),t.set(!t.value)},children:C.jsx("span",{className:wr.button_text,children:" / FAST"})}),C.jsx("span",{className:wr.singleButton,onClick:()=>{t.set(!t.value),i(vt.Save),n("showMenuPanel",!0)},children:C.jsx("span",{className:wr.button_text,children:" / SAVE"})}),C.jsx("span",{className:wr.singleButton,onClick:()=>{t.set(!t.value),i(vt.Load),n("showMenuPanel",!0)},children:C.jsx("span",{className:wr.button_text,children:" / LOAD"})}),C.jsx("span",{className:wr.singleButton,onClick:()=>{t.set(!t.value),i(vt.Option),n("showMenuPanel",!0)},children:C.jsx("span",{className:wr.button_text,children:" / OPTIONS"})}),C.jsx("span",{className:wr.singleButton,onClick:()=>{t.set(!t.value),FE()},children:C.jsx("span",{className:wr.button_text,children:" / TITLE"})})]})]})})},hSe="_devPanelMain_11x6i_1",dSe="_devPanelOpener_11x6i_13",IO={devPanelMain:hSe,devPanelOpener:dSe};function pSe(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function vSe(){function t(){return!!window.location.hash.match(/dev/)}const e=wi(!1),r=wi(window.location.hash),n=Ne(u=>u.stage);ne.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=Qv(),s=C.jsxs(C.Fragment,{children:[C.jsx("div",{onClick:()=>pSe(),children:"Save PIXI Screenshot"}),C.jsxs("div",{children:["Current Language:",o.language]}),C.jsx("div",{onClick:()=>{var u;return(u=L.gameplay.pixiStage)==null?void 0:u.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),C.jsx("div",{children:"Stage State"}),C.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return C.jsxs(C.Fragment,{children:[i&&e.value&&C.jsxs("div",{className:IO.devPanelMain,children:[C.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[C.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),C.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),C.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&C.jsx("div",{onClick:()=>e.set(!0),className:IO.devPanelOpener,children:"Open Dev Panel"})]})}const mSe="_trans_8uz61_2",gSe="_langWrapper_8uz61_10",ySe="_lang_8uz61_10",_Se="_langSelect_8uz61_29",xSe="_langSelectButton_8uz61_35",Zu={trans:mSe,langWrapper:gSe,lang:ySe,langSelect:_Se,langSelectButton:xSe};function bSe(){const t=oB(),[e,r]=ne.useState(!1);ne.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return C.jsx(C.Fragment,{children:e&&C.jsx("div",{className:Zu.trans,children:C.jsxs("div",{className:Zu.langWrapper,children:[C.jsx("div",{className:Zu.lang,children:"LANGUAGE SELECT"}),C.jsx("div",{className:Zu.langSelect,children:Object.keys(ip).map(i=>C.jsx("div",{className:Zu.langSelectButton,onClick:()=>n(Is[i]),children:ip[i]},i))})]})})})}const SSe="_panic_overlay_main_1ysz4_1",wSe={panic_overlay_main:SSe},ESe="_yoozle_blue_1r48o_1",TSe="_yoozle_red_1r48o_5",ASe="_yoozle_yellow_1r48o_9",CSe="_yoozle_green_1r48o_13",PSe="_yoozle_e_rotate_1r48o_17",OSe="_yoozle_container_1r48o_22",RSe="_yoozle_title_1r48o_28",ISe="_yoozle_search_1r48o_37",kSe="_yoozle_search_bar_1r48o_44",MSe="_yoozle_search_buttons_1r48o_51",FSe="_yoozle_button_1r48o_55",bn={yoozle_blue:ESe,yoozle_red:TSe,yoozle_yellow:ASe,yoozle_green:CSe,yoozle_e_rotate:PSe,yoozle_container:OSe,yoozle_title:RSe,yoozle_search:ISe,yoozle_search_bar:kSe,yoozle_search_buttons:MSe,yoozle_button:FSe},NSe=()=>(ne.useEffect(()=>{const t="Yoozle Search",e=document.title;return document.title=t,()=>{document.title=e}},[]),C.jsxs("div",{className:bn.yoozle_container,children:[C.jsx("div",{className:bn.yoozle_title,children:C.jsxs("span",{children:[C.jsx("span",{className:bn.yoozle_blue,style:{marginRight:"1px"},children:"Y"}),C.jsx("span",{className:bn.yoozle_red,children:"o"}),C.jsx("span",{className:bn.yoozle_yellow,children:"o"}),C.jsx("span",{className:bn.yoozle_blue,children:"z"}),C.jsx("span",{className:bn.yoozle_green,children:"l"}),C.jsx("span",{className:`${bn.yoozle_red} ${bn.yoozle_e_rotate}`,children:"e"})]})}),C.jsxs("div",{className:bn.yoozle_search,children:[C.jsx("input",{className:bn.yoozle_search_bar,type:"text",defaultValue:""}),C.jsxs("div",{className:bn.yoozle_search_buttons,children:[C.jsx("input",{className:bn.yoozle_button,type:"submit",value:"Yoozle Search"}),C.jsx("input",{className:bn.yoozle_button,type:"submit",value:"Feeling Lucky"})]})]})]})),LSe=()=>{const t=Ne(n=>n.GUI),[e,r]=ne.useState(!1);return ne.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),ea.createPortal(C.jsx("div",{className:e?wSe.panic_overlay_main:"",children:e&&C.jsx(NSe,{})}),document.querySelector("div#panic-overlay"))};function DSe(){const t=Ne(i=>i.userData),e=Ne(i=>i.GUI);Lr();const r=t.optionData.fullScreen,n=e.isEnterGame;ne.useEffect(()=>{switch(r){case Qi.on:{n&&(document.documentElement.requestFullscreen(),ul&&ul.lock(["Escape","F11"]));break}case Qi.off:{document.fullscreenElement&&(document.exitFullscreen(),ul&&ul.unlock());break}}},[r])}function BSe(){return ne.useEffect(()=>{N_e()},[]),DSe(),C.jsxs("div",{className:"App",children:[C.jsx(bSe,{}),C.jsx(Pbe,{}),C.jsx(Obe,{}),C.jsx(fSe,{}),C.jsx(Rbe,{}),C.jsx(rle,{}),C.jsx(sle,{}),C.jsx(aSe,{}),C.jsx(z1e,{}),C.jsx(Exe,{}),C.jsx(LSe,{}),C.jsx(vSe,{})]})}function go(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function bm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function Qf(t,e){if(e&&(Rr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(t)}function aa(t){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aa(t)}function jSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function USe(t){return xN(t)||jSe(t)||bN(t)||SN()}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $Se={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},VSe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ti(this,t),this.init(e,r)}return Ai(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||$Se,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,MO(MO({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Yi=new VSe,Po=function(){function t(){Ti(this,t),this.observers={}}return Ai(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[r].concat(i))})}}}]),t}();function Qu(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function FO(t){return t==null?"":""+t}function GSe(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function NE(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function NO(t,e,r){var n=NE(t,e,Object),i=n.obj,a=n.k;i[a]=r}function XSe(t,e,r,n){var i=NE(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function Np(t,e){var r=NE(t,e),n=r.obj,i=r.k;if(n)return n[i]}function zSe(t,e,r){var n=Np(t,r);return n!==void 0?n:Np(e,r)}function sB(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):sB(t[n],e[n],r):t[n]=e[n]);return t}function qs(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var WSe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function YSe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return WSe[e]}):t}var Sm=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,HSe=[" ",",","?","!",";"];function qSe(t,e,r){e=e||"",r=r||"";var n=HSe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function Lp(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),u=i[s];u===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),u=i[s];if(u===void 0)return;if(u===null)return null;if(e.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var l=n.slice(a+o).join(r);return l?Lp(u,l,r):void 0}i=i[n[a]]}return i}}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KSe(t){var e=ZSe();return function(){var n=aa(t),i;if(e){var a=aa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Qf(this,i)}}function ZSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var QSe=function(t){bm(r,t);var e=KSe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ti(this,r),i=e.call(this),Sm&&Po.call(go(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Ai(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,a];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(c=i.split("."));var f=Np(this.data,c);return f||!l||typeof o!="string"?f:Lp(this.data&&this.data[i]&&this.data[i][a],o,u)}},{key:"addResource",value:function(i,a,o,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,c=[i,a];o&&(c=c.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(c=i.split("."),s=a,a=c[1]),this.addNamespaces(a),NO(this.data,c,s),u.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(i,a,u,o[u],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,a];i.indexOf(".")>-1&&(c=i.split("."),s=o,o=a,a=c[1]),this.addNamespaces(a);var f=Np(this.data,c)||{};s?sB(f,o,u):f=qh(qh({},f),o),NO(this.data,c,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?qh(qh({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Po),lB={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JSe(t){var e=ewe();return function(){var n=aa(t),i;if(e){var a=aa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Qf(this,i)}}function ewe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var BO={},jO=function(t){bm(r,t);var e=JSe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ti(this,r),i=e.call(this),Sm&&Po.call(go(i)),GSe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,go(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Yi.create("translator"),i}return Ai(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!qSe(i,o,s);if(l&&!c){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:u};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(u=h.shift()),i=h.join(s)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,a,o){var s=this;if(Rr(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),Rr(a)==="object"&&(a=Wr({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],a),f=c.key,h=c.namespaces,d=h[h.length-1],p=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(v){var g=a.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(d).concat(g).concat(f),usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:"".concat(d).concat(g).concat(f)}return u?{res:f,usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:f}var m=this.resolve(i,a),y=m&&m.res,_=m&&m.usedKey||f,x=m&&m.exactUsedKey||f,b=Object.prototype.toString.apply(y),S=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,T=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(E&&y&&T&&S.indexOf(b)<0&&!(typeof w=="string"&&b==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,y,Wr(Wr({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return u?(m.res=A,m):A}if(l){var O=b==="[object Array]",P=O?[]:{},k=O?x:_;for(var M in y)if(Object.prototype.hasOwnProperty.call(y,M)){var B="".concat(k).concat(l).concat(M);P[M]=this.translate(B,Wr(Wr({},a),{joinArrays:!1,ns:h})),P[M]===B&&(P[M]=y[M])}y=P}}else if(E&&typeof w=="string"&&b==="[object Array]")y=y.join(w),y&&(y=this.extendTranslation(y,i,a,o));else{var j=!1,z=!1,J=a.count!==void 0&&typeof a.count!="string",Z=r.hasDefaultValue(a),$=J?this.pluralResolver.getSuffix(p,a.count,a):"",F=a["defaultValue".concat($)]||a.defaultValue;!this.isValidLookup(y)&&Z&&(j=!0,y=F),this.isValidLookup(y)||(z=!0,y=f);var G=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,V=G&&z?void 0:y,U=Z&&F!==y&&this.options.updateMissing;if(z||j||U){if(this.logger.log(U?"updateKey":"missingKey",p,d,f,U?F:y),l){var H=this.resolve(f,Wr(Wr({},a),{},{keySeparator:!1}));H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ee=[],ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ie&&ie[0])for(var ae=0;ae<ie.length;ae++)ee.push(ie[ae]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(a.lng||this.language):ee.push(a.lng||this.language);var pe=function(oe,_e,Ce){var be=Z&&Ce!==y?Ce:V;s.options.missingKeyHandler?s.options.missingKeyHandler(oe,d,_e,be,U,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(oe,d,_e,be,U,a),s.emit("missingKey",oe,d,_e,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&J?ee.forEach(function(ye){s.pluralResolver.getSuffixes(ye,a).forEach(function(oe){pe([ye],f+oe,a["defaultValue".concat(oe)]||F)})}):pe(ee,f,F))}y=this.extendTranslation(y,i,a,m,o),z&&y===f&&this.options.appendNamespaceToMissingKey&&(y="".concat(d,":").concat(f)),(z||j)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(f):f,j?y:void 0):y=this.options.parseMissingKeyHandler(y))}return u?(m.res=y,m):y}},{key:"extendTranslation",value:function(i,a,o,s,u){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Wr(Wr({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Wr(Wr({},o),{interpolation:Wr(Wr({},this.options.interpolation),o.interpolation)}));var c=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(c){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=Wr(Wr({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),c){var p=i.match(this.interpolator.nestingRegexp),v=p&&p.length;f<v&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];return u&&u[0]===_[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(_[0]," in key: ").concat(a[0])),null):l.translate.apply(l,_.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var g=o.postProcess||this.options.postProcess,m=typeof g=="string"?[g]:g;return i!=null&&m&&m.length&&o.applyPostProcessor!==!1&&(i=lB.handle(m,i,a,this.options&&this.options.postProcessPassResolved?Wr({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,l,c,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var d=a.extractFromKey(h,o),p=d.key;u=p;var v=d.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var g=o.count!==void 0&&typeof o.count!="string",m=g&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),y=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",_=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);v.forEach(function(x){a.isValidLookup(s)||(f=x,!BO["".concat(_[0],"-").concat(x)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(BO["".concat(_[0],"-").concat(x)]=!0,a.logger.warn('key "'.concat(u,'" for languages "').concat(_.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(function(b){if(!a.isValidLookup(s)){c=b;var S=[p];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(S,p,b,x,o);else{var w;g&&(w=a.pluralResolver.getSuffix(b,o.count,o));var E="".concat(a.options.pluralSeparator,"zero");if(g&&(S.push(p+w),m&&S.push(p+E)),y){var T="".concat(p).concat(a.options.contextSeparator).concat(o.context);S.push(T),g&&(S.push(T+w),m&&S.push(T+E))}}for(var A;A=S.pop();)a.isValidLookup(s)||(l=A,s=a.getResource(b,x,A,o))}}))})}}),{res:s,usedKey:u,exactUsedKey:l,usedLng:c,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Po);function Zy(t){return t.charAt(0).toUpperCase()+t.slice(1)}var UO=function(){function t(e){Ti(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yi.create("languageUtils")}return Ai(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Zy(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Zy(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Zy(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(u){o.indexOf(u)<0&&s(i.formatLanguageCode(u))}),o}}]),t}(),twe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],rwe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},nwe=["v1","v2","v3"],$O={zero:0,one:1,two:2,few:3,many:4,other:5};function iwe(){var t={};return twe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:rwe[e.fc]}})}),t}var awe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ti(this,t),this.languageUtils=e,this.options=r,this.logger=Yi.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=iwe()}return Ai(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return $O[o]-$O[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!nwe.includes(this.options.compatibilityJSON)}}]),t}();function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GO(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=zSe(t,e,r);return!a&&i&&typeof r=="string"&&(a=Lp(t,r,n),a===void 0&&(a=Lp(e,r,n))),a}var owe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ti(this,t),this.logger=Yi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return Ai(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:YSe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?qs(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?qs(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?qs(n.nestingPrefix):n.nestingPrefixEscaped||qs("$t("),this.nestingSuffix=n.nestingSuffix?qs(n.nestingSuffix):n.nestingSuffixEscaped||qs(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,u,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(g){return g.replace(/\$/g,"$$$$")}var h=function(m){if(m.indexOf(o.formatSeparator)<0){var y=GO(n,c,m,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(y,void 0,i,fi(fi(fi({},a),n),{},{interpolationkey:m})):y}var _=m.split(o.formatSeparator),x=_.shift().trim(),b=_.join(o.formatSeparator).trim();return o.format(GO(n,c,x,o.options.keySeparator,o.options.ignoreJSONStructure),b,i,fi(fi(fi({},a),n),{},{interpolationkey:x}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(m){return f(m)}},{regex:this.regexp,safeValue:function(m){return o.escapeValue?f(o.escape(m)):f(m)}}];return v.forEach(function(g){for(l=0;s=g.regex.exec(r);){var m=s[1].trim();if(u=h(m),u===void 0)if(typeof d=="function"){var y=d(r,s,a);u=typeof y=="string"?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,m))u="";else if(p){u=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(r)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=FO(u));var _=g.safeValue(u);if(r=r.replace(s[0],_),p?(g.regex.lastIndex+=u.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,u;function l(d,p){var v=this.nestingOptionsSeparator;if(d.indexOf(v)<0)return d;var g=d.split(new RegExp("".concat(v,"[ ]*{"))),m="{".concat(g[1]);d=g[0],m=this.interpolate(m,u);var y=m.match(/'/g),_=m.match(/"/g);(y&&y.length%2===0&&!_||_.length%2!==0)&&(m=m.replace(/'/g,'"'));try{u=JSON.parse(m),p&&(u=fi(fi({},p),u))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),x),"".concat(d).concat(v).concat(m)}return delete u.defaultValue,d}for(;o=this.nestingRegexp.exec(r);){var c=[];u=fi({},a),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=h.shift(),c=h,f=!0}if(s=n(l.call(this,o[1].trim(),u),u),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=FO(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=c.reduce(function(d,p){return i.format(d,p,a.lng,fi(fi({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function swe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),u=USe(s),l=u[0],c=u.slice(1),f=c.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function Ks(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var lwe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ti(this,t),this.logger=Yi.create("formatter"),this.options=e,this.formats={number:Ks(function(r,n){var i=new Intl.NumberFormat(r,Sa({},n));return function(a){return i.format(a)}}),currency:Ks(function(r,n){var i=new Intl.NumberFormat(r,Sa(Sa({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:Ks(function(r,n){var i=new Intl.DateTimeFormat(r,Sa({},n));return function(a){return i.format(a)}}),relativetime:Ks(function(r,n){var i=new Intl.RelativeTimeFormat(r,Sa({},n));return function(a){return i.format(a,n.range||"day")}}),list:Ks(function(r,n){var i=new Intl.ListFormat(r,Sa({},n));return function(a){return i.format(a)}})},this.init(e)}return Ai(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Ks(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),u=s.reduce(function(l,c){var f=swe(c),h=f.formatName,d=f.formatOptions;if(a.formats[h]){var p=l;try{var v=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=v.locale||v.lng||o.locale||o.lng||i;p=a.formats[h](l,g,Sa(Sa(Sa({},d),o),v))}catch(m){a.logger.warn(m)}return p}else a.logger.warn("there was no format function for ".concat(h));return l},r);return u}}]),t}();function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uwe(t){var e=cwe();return function(){var n=aa(t),i;if(e){var a=aa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Qf(this,i)}}function cwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fwe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var hwe=function(t){bm(r,t);var e=uwe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ti(this,r),o=e.call(this),Sm&&Po.call(go(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Yi.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return Ai(r,[{key:"queueLoad",value:function(i,a,o,s){var u=this,l={},c={},f={},h={};return i.forEach(function(d){var p=!0;a.forEach(function(v){var g="".concat(d,"|").concat(v);!o.reload&&u.store.hasResourceBundle(d,v)?u.state[g]=2:u.state[g]<0||(u.state[g]===1?c[g]===void 0&&(c[g]=!0):(u.state[g]=1,p=!1,c[g]===void 0&&(c[g]=!0),l[g]===void 0&&(l[g]=!0),h[v]===void 0&&(h[v]=!0)))}),p||(f[d]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),u=s[0],l=s[1];a&&this.emit("failedLoading",u,l,a),o&&this.store.addResourceBundle(u,l,o),this.state[i]=a?-1:2;var c={};this.queue.forEach(function(f){XSe(f.loaded,[u],l),fwe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){c[h]||(c[h]={});var d=f.loaded[h];d.length&&d.forEach(function(p){c[h][p]===void 0&&(c[h][p]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:u,wait:l,callback:c});return}this.readingCalls++;var f=function(v,g){if(s.readingCalls--,s.waitingReads.length>0){var m=s.waitingReads.shift();s.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(v&&g&&u<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,u+1,l*2,c)},l);return}c(v,g)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var d=h(i,a);d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,u);if(!l.toLoad.length)return l.pending.length||u(),null;l.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),u=s[0],l=s[1];this.read(u,l,"read",void 0,void 0,function(c,f){c&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(u," failed"),c),!c&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(u),f),a.loaded(i,c,f)})}},{key:"saveMissing",value:function(i,a,o,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=WO(WO({},l),{},{isUpdate:u}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,a,o,s,f):d=h(i,a,o,s),d&&typeof d.then=="function"?d.then(function(p){return c(null,p)}).catch(c):c(null,d)}catch(p){c(p)}else h(i,a,o,s,c,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Po);function YO(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Rr(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Rr(e[2])==="object"||Rr(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function HO(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dwe(t){var e=pwe();return function(){var n=aa(t),i;if(e){var a=aa(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Qf(this,i)}}function pwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kh(){}function vwe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var Dp=function(t){bm(r,t);var e=dwe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Ti(this,r),n=e.call(this),Sm&&Po.call(go(n)),n.options=HO(i),n.services={},n.logger=Yi,n.modules={external:[]},vwe(go(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),Qf(n,go(n));setTimeout(function(){n.init(i,a)},0)}return n}return Ai(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=YO();this.options=Di(Di(Di({},s),this.options),HO(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Di(Di({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function u(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?Yi.init(u(this.modules.logger),this.options):Yi.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=lwe);var c=new UO(this.options);this.store=new QSe(this.options.resources,this.options);var f=this.services;f.logger=Yi,f.resourceStore=this.store,f.languageUtils=c,f.pluralResolver=new awe(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=u(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new owe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new hwe(u(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(m){for(var y=arguments.length,_=new Array(y>1?y-1:0),x=1;x<y;x++)_[x-1]=arguments[x];i.emit.apply(i,[m].concat(_))}),this.modules.languageDetector&&(f.languageDetector=u(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=u(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new jO(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,_=new Array(y>1?y-1:0),x=1;x<y;x++)_[x-1]=arguments[x];i.emit.apply(i,[m].concat(_))}),this.modules.external.forEach(function(m){m.init&&m.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Kh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(m){i[m]=function(){var y;return(y=i.store)[m].apply(y,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(m){i[m]=function(){var y;return(y=i.store)[m].apply(y,arguments),i}});var v=Qu(),g=function(){var y=function(x,b){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(b),o(x,b)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),v}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kh,s=o,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var l=[],c=function(d){if(d){var p=a.services.languageUtils.toResolveHierarchy(d);p.forEach(function(v){l.indexOf(v)<0&&l.push(v)})}};if(u)c(u);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return c(h)})}this.options.preload&&this.options.preload.forEach(function(h){return c(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=Qu();return i||(i=this.languages),a||(a=this.options.ns),o||(o=Kh),this.services.backendConnector.reload(i,a,function(u){s.resolve(),o(u)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&lB.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=Qu();this.emit("languageChanging",i);var u=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,d){d?(u(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},c=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);d&&(o.language||u(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){l(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,u=function l(c,f){var h;if(Rr(f)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),v=2;v<d;v++)p[v-2]=arguments[v];h=s.options.overloadTranslationOptionHandler([c,f].concat(p))}else h=Di({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var g=s.options.keySeparator||".",m;return h.keyPrefix&&Array.isArray(c)?m=c.map(function(y){return"".concat(h.keyPrefix).concat(g).concat(y)}):m=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(c):c,s.t(m,h)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=a,u.keyPrefix=o,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var c=function(d,p){var v=a.services.backendConnector.state["".concat(d,"|").concat(p)];return v===-1||v===2};if(o.precheck){var f=o.precheck(this,c);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,i)&&(!u||c(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=Qu();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),a&&a(u)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=Qu();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],u=i.filter(function(l){return s.indexOf(l)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new UO(YO());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kh,s=Di(Di(Di({},this.options),a),{isClone:!0}),u=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(u.logger=u.logger.clone(a));var l=["store","services","language"];return l.forEach(function(c){u[c]=i[c]}),u.services=Di({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new jO(u.services,u.options),u.translator.on("*",function(c){for(var f=arguments.length,h=new Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];u.emit.apply(u,[c].concat(h))}),u.init(s,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Po);$n(Dp,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Dp(t,e)});var rn=Dp.createInstance();rn.createInstance=Dp.createInstance;rn.createInstance;rn.dir;rn.init;rn.loadResources;rn.reloadResources;rn.use;rn.changeLanguage;rn.getFixedT;rn.t;rn.exists;rn.setDefaultNamespace;rn.hasLoadedNamespace;rn.loadNamespaces;rn.loadLanguages;rn.use(xoe).init({resources:oW||{},lng:Is[sW]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("WebGAL i18n Ready!"));ea.render(C.jsx(fe.StrictMode,{children:C.jsx(Eoe,{children:C.jsx(yF,{store:te,children:C.jsx(BSe,{})})})}),document.getElementById("root"));export{mr as C,_i as S,Me as T,L as W,cp as a,_we as r};
